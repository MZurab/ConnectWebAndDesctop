/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */function MediaStreamRecorder(e){if(!e)throw"MediaStream is mandatory.";this.start=function(n){var r;"undefined"!=typeof MediaRecorder?r=MediaRecorderWrapper:(IsChrome||IsOpera||IsEdge)&&(-1!==this.mimeType.indexOf("video")?r=WhammyRecorder:-1!==this.mimeType.indexOf("audio")&&(r=StereoAudioRecorder)),"image/gif"===this.mimeType&&(r=GifRecorder),"audio/wav"!==this.mimeType&&"audio/pcm"!==this.mimeType||(r=StereoAudioRecorder),this.recorderType&&(r=this.recorderType),(t=new r(e)).blobs=[];var i=this;t.ondataavailable=function(e){t.blobs.push(e),i.ondataavailable(e)},t.onstop=this.onstop,t.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,(t=mergeProps(t,this)).start(n)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.stop=function(){t&&t.stop()},this.ondataavailable=function(e){this.disableLogs||console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)},this.save=function(e,n){if(e)invokeSaveAsDialog(e,n);else{if(!t)return;ConcatenateBlobs(t.blobs,t.blobs[0].type,function(e){invokeSaveAsDialog(e)})}},this.get=function(e){setTimeout(()=>{var n;if(t){try{n=t.blobs[0].type}catch(e){n=!1}n&&ConcatenateBlobs(t.blobs,n,t=>{console.log("this.get concatenatedBlob",t),"function"==typeof e&&e(!1,t)})}},1e3)},this.pause=function(){t&&(t.pause(),this.disableLogs||console.log("Paused recording.",this.mimeType||t.mimeType))},this.resume=function(){t&&(t.resume(),this.disableLogs||console.log("Resumed recording.",this.mimeType||t.mimeType))},this.recorderType=null,this.mimeType="video/webm",this.disableLogs=!1;var t}function MultiStreamRecorder(e,t){function n(){var t=[];return e.forEach(function(e){e.getVideoTracks().forEach(function(e){t.push(e)})}),t}(e=e||[])instanceof MediaStream&&(e=[e]);var r,i,o=this;(t=t||{mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.start=function(a){r=new MultiStreamsMixer(e),n().length&&(r.frameInterval=t.frameInterval||10,r.width=t.video.width||360,r.height=t.video.height||240,r.startDrawingFrames()),"function"==typeof o.previewStream&&o.previewStream(r.getMixedStream()),i=new MediaStreamRecorder(r.getMixedStream());for(var s in o)"function"!=typeof o[s]&&(i[s]=o[s]);i.ondataavailable=function(e){o.ondataavailable(e)},i.onstop=o.onstop,i.start(a)},this.stop=function(e){i&&i.stop(function(t){e(t)})},this.pause=function(){i&&i.pause()},this.resume=function(){i&&i.resume()},this.clearRecordedData=function(){i&&(i.clearRecordedData(),i=null),r&&(r.releaseStreams(),r=null)},this.addStreams=this.addStream=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),i&&r&&r.appendStreams(t)},this.resetVideoStreams=function(e){r&&(!e||e instanceof Array||(e=[e]),r.resetVideoStreams(e))},this.ondataavailable=function(e){o.disableLogs||console.log("ondataavailable",e)},this.onstop=function(){},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function MultiStreamsMixer(e){function t(){if(!c){var e=u.length,r=!1,i=[];u.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?r=e:i.push(e)}),r?(l.width=r.stream.width,l.height=r.stream.height):i.length?(l.width=e>1?2*i[0].width:i[0].width,l.height=e>2?2*i[0].height:i[0].height):(l.width=h.width||360,l.height=h.height||240),r&&r instanceof HTMLVideoElement&&n(r),i.forEach(function(e,t){n(e,t)}),setTimeout(t,h.frameInterval)}}function n(e,t){if(!c){var n=0,r=0,i=e.width,o=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(o=e.stream.height),d.drawImage(e,n,r,i,o),"function"==typeof e.stream.onRender&&e.stream.onRender(d,n,r,i,o,t)}}function r(){c=!1;var t=i(),n=o();n&&n.getAudioTracks().forEach(function(e){t.addTrack(e)});var r;return e.forEach(function(e){e.fullcanvas&&(r=!0)}),t}function i(){s();var e;"captureStream"in l?e=l.captureStream():"mozCaptureStream"in l?e=l.mozCaptureStream():h.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new m;return e.getVideoTracks().forEach(function(e){t.addTrack(e)}),l.stream=t,t}function o(){g.AudioContextConstructor||(g.AudioContextConstructor=new g.AudioContext),h.audioContext=g.AudioContextConstructor,h.audioSources=[],!0===h.useGainNode&&(h.gainNode=h.audioContext.createGain(),h.gainNode.connect(h.audioContext.destination),h.gainNode.gain.value=0);var t=0;if(e.forEach(function(e){if(e.getAudioTracks().length){t++;var n=h.audioContext.createMediaStreamSource(e);!0===h.useGainNode&&n.connect(h.gainNode),h.audioSources.push(n)}}),t)return h.audioDestination=h.audioContext.createMediaStreamDestination(),h.audioSources.forEach(function(e){e.connect(h.audioDestination)}),h.audioDestination.stream}function a(e){var t=document.createElement("video");return"srcObject"in t?t.srcObject=e:t.src=f.createObjectURL(e),t.muted=!0,t.volume=0,t.width=e.width||h.width||360,t.height=e.height||h.height||240,t.play(),t}function s(t){u=[],(t=t||e).forEach(function(e){if(e.getVideoTracks().length){var t=a(e);t.stream=e,u.push(t)}})}var u=[],c=!1,l=document.createElement("canvas"),d=l.getContext("2d");l.style="opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;",(document.body||document.documentElement).appendChild(l),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var h=this,p=window.AudioContext;void 0===p&&("undefined"!=typeof webkitAudioContext&&(p=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(p=mozAudioContext));var f=window.URL;void 0===f&&"undefined"!=typeof webkitURL&&(f=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var m=window.MediaStream;void 0===m&&"undefined"!=typeof webkitMediaStream&&(m=webkitMediaStream),void 0!==m&&("getVideoTracks"in m.prototype||(m.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},m.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),void 0===m.prototype.stop&&(m.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}));var g={};void 0!==p?g.AudioContext=p:"undefined"!=typeof webkitAudioContext&&(g.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){t()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),t.forEach(function(e){if(e.getVideoTracks().length){var t=a(e);t.stream=e,u.push(t)}if(e.getAudioTracks().length&&h.audioContext){var n=h.audioContext.createMediaStreamSource(e);n.connect(h.audioDestination),h.audioSources.push(n)}})},this.releaseStreams=function(){u=[],c=!0,h.gainNode&&(h.gainNode.disconnect(),h.gainNode=null),h.audioSources.length&&(h.audioSources.forEach(function(e){e.disconnect()}),h.audioSources=[]),h.audioDestination&&(h.audioDestination.disconnect(),h.audioDestination=null),h.audioContext=null,d.clearRect(0,0,l.width,l.height),l.stream&&(l.stream.stop(),l.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),s(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=r}function mergeProps(e,t){for(var n in t)"function"!=typeof t[n]&&(e[n]=t[n]);return e}function dropFirstFrame(e){return e.shift(),e}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var o=document.createElement("a");o.href=URL.createObjectURL(e),o.target="_blank",o.download=i,navigator.mozGetUserMedia&&(o.onclick=function(){(document.body||document.documentElement).removeChild(o)},(document.body||document.documentElement).appendChild(o));var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});o.dispatchEvent(a),navigator.mozGetUserMedia||URL.revokeObjectURL(o.href)}function bytesToSize(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var r=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,r)).toPrecision(3)+" "+n[r]}function isMediaRecorderCompatible(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=!!window.chrome&&!e;if(void 0!==window.InstallTrigger)return!0;if(!t)return!1;navigator.appVersion;var n,r,i=navigator.userAgent,o=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);return t&&(n=i.indexOf("Chrome"),o=i.substring(n+7)),-1!==(r=o.indexOf(";"))&&(o=o.substring(0,r)),-1!==(r=o.indexOf(" "))&&(o=o.substring(0,r)),a=parseInt(""+o,10),isNaN(a)&&(o=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10)),a>=49}function MediaRecorderWrapper(e){function t(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}var n=this;this.start=function(t,i){if(this.timeSlice=t||5e3,n.mimeType||(n.mimeType="video/webm"),-1!==n.mimeType.indexOf("audio")&&e.getVideoTracks().length&&e.getAudioTracks().length){var o;navigator.mozGetUserMedia?(o=new MediaStream).addTrack(e.getAudioTracks()[0]):o=new MediaStream(e.getAudioTracks()),e=o}-1!==n.mimeType.indexOf("audio")&&(n.mimeType=IsChrome?"audio/webm":"audio/ogg"),n.dontFireOnDataAvailableEvent=!1;var a={mimeType:n.mimeType};n.disableLogs||i||console.log("Passing following params over MediaRecorder API.",a),r&&(r=null),IsChrome&&!isMediaRecorderCompatible()&&(a="video/vp8");try{r=new MediaRecorder(e,a)}catch(t){r=new MediaRecorder(e)}"canRecordMimeType"in r&&!1===r.canRecordMimeType(n.mimeType)&&(n.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),!0===n.ignoreMutedMedia&&(r.ignoreMutedMedia=!0);var s=!1;r.ondataavailable=function(e){if(e.data&&e.data.size&&!(e.data.size<26800)&&!s){s=!0;var i=n.getNativeBlob?e.data:new Blob([e.data],{type:n.mimeType||"video/webm"});n.ondataavailable(i),r&&"recording"===r.state&&r.stop(),r=null,n.dontFireOnDataAvailableEvent||n.start(t,"__disableLogs")}},r.onerror=function(e){n.disableLogs||("InvalidState"===e.name?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),r&&"inactive"!==r.state&&"stopped"!==r.state&&r.stop()};try{r.start(36e5)}catch(e){r=null}setTimeout(function(){r&&"recording"===r.state&&r.requestData()},t)},this.stop=function(e){r&&"recording"===r.state&&(r.requestData(),setTimeout(function(){n.dontFireOnDataAvailableEvent=!0,r&&"recording"===r.state&&r.stop(),r=null,n.onstop()},2e3))},this.pause=function(){r&&("recording"===r.state&&r.pause(),this.dontFireOnDataAvailableEvent=!0)},this.ondataavailable=function(e){console.log("recorded-blob",e)},this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var e=n.disableLogs;return n.disableLogs=!0,this.start(this.timeslice||5e3),void(n.disableLogs=e)}r&&"paused"===r.state&&r.resume()},this.clearRecordedData=function(){r&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())},this.onstop=function(){};var r;!function e(){r&&(!1!==t()?setTimeout(e,1e3):n.stop())}()}function StereoAudioRecorder(e){this.start=function(r){r=r||1e3,(t=new StereoAudioRecorderHelper(e,this)).record(),n=setInterval(function(){t.requestData()},r)},this.stop=function(){t&&(t.stop(),clearTimeout(n),this.onstop())},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){},this.onstop=function(){};var t,n}function StereoAudioRecorderHelper(e,t){function n(e,t){for(var n=e.length+t.length,r=new Float32Array(n),i=0,o=0;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}function r(e,t){for(var n=new Float32Array(t),r=0,i=e.length,o=0;o<i;o++){var a=e[o];n.set(a,r),r+=a.length}return n}function i(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}function o(e){for(var t=e.length,n=new Int16Array(t);t--;)n[t]=65535*e[t];return n.buffer}var a=44100;ObjectStore.AudioContextConstructor||(ObjectStore.AudioContextConstructor=new ObjectStore.AudioContext),a=ObjectStore.AudioContextConstructor.sampleRate;var s,u=[],c=[],l=!1,d=0,h=t.sampleRate||a,p=(t.mimeType||"audio/wav").indexOf("audio/pcm")>-1,f=t.audioChannels||2;this.record=function(){l=!0,u.length=c.length=0,d=0},this.requestData=function(){if(!b)if(0!==d){_=!0;var e=u.slice(0),a=c.slice(0),s=d;u.length=c.length=[],d=0,_=!1;var l=r(e,s),m=l;if(2===f){m=n(l,r(a,s))}if(p){S=new Blob([o(m)],{type:"audio/pcm"});return console.debug("audio recorded blob size:",bytesToSize(S.size)),void t.ondataavailable(S)}var g=new ArrayBuffer(44+2*m.length),y=new DataView(g);i(y,0,"RIFF"),y.setUint32(4,44+2*m.length-8,!0),i(y,8,"WAVE"),i(y,12,"fmt "),y.setUint32(16,16,!0),y.setUint16(20,1,!0),y.setUint16(22,f,!0),y.setUint32(24,h,!0),y.setUint32(28,h*f*2,!0),y.setUint16(32,2*f,!0),y.setUint16(34,16,!0),i(y,36,"data"),y.setUint32(40,2*m.length,!0);for(var v=m.length,w=44,M=1,T=0;T<v;T++)y.setInt16(w,m[T]*(32767*M),!0),w+=2;var S=new Blob([y],{type:"audio/wav"});console.debug("audio recorded blob size:",bytesToSize(S.size)),t.ondataavailable(S)}else _=!1},this.stop=function(){l=!1,this.requestData(),y.disconnect(),this.onstop()};var m=ObjectStore.AudioContextConstructor;ObjectStore.VolumeGainNode=m.createGain();var g=ObjectStore.VolumeGainNode;ObjectStore.AudioInput=m.createMediaStreamSource(e);var y;(y=ObjectStore.AudioInput).connect(g);var v=t.bufferSize||2048;if(0===t.bufferSize&&(v=0),m.createJavaScriptNode)s=m.createJavaScriptNode(v,f,f);else{if(!m.createScriptProcessor)throw"WebAudio API has no support on this browser.";s=m.createScriptProcessor(v,f,f)}v=s.bufferSize,console.debug("using audio buffer-size:",v);var _=!1;window.scriptprocessornode=s,1===f&&console.debug("All right-channels are skipped.");var b=!1;this.pause=function(){b=!0},this.resume=function(){b=!1},this.onstop=function(){},s.onaudioprocess=function(e){if(l&&!_&&!b){var t=e.inputBuffer.getChannelData(0);if(u.push(new Float32Array(t)),2===f){var n=e.inputBuffer.getChannelData(1);c.push(new Float32Array(n))}d+=v}},g.connect(s),s.connect(m.destination)}function WhammyRecorder(e){this.start=function(r){r=r||1e3,t=new WhammyRecorderHelper(e,this);for(var i in this)"function"!=typeof this[i]&&(t[i]=this[i]);t.record(),n=setInterval(function(){t.requestData()},r)},this.stop=function(){t&&(t.stop(),clearTimeout(n),this.onstop())},this.onstop=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){};var t,n}function WhammyRecorderHelper(e,t){function n(){if(f)return c=(new Date).getTime(),void setTimeout(n,500);if(!s){if(o)return setTimeout(n,100);var e=(new Date).getTime()-c;if(!e)return n();c=(new Date).getTime(),!p.isHTMLObject&&u.paused&&u.play(),h.drawImage(u,0,0,d.width,d.height),s||l.frames.push({duration:e,image:d.toDataURL("image/webp")}),a||r(l.frames[l.frames.length-1])||(a=!0,t.onStartedDrawingNonBlankFrames()),setTimeout(n,10)}}function r(e,t,n){var r=document.createElement("canvas");r.width=d.width,r.height=d.height;var i,o,a,s=r.getContext("2d"),u={r:0,g:0,b:0},c=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),l=t&&t>=0&&t<=1?t:0,h=n&&n>=0&&n<=1?n:0,p=new Image;p.src=e.image,s.drawImage(p,0,0,d.width,d.height);var f=s.getImageData(0,0,d.width,d.height);i=0,o=f.data.length,a=f.data.length/4;for(var m=0;m<o;m+=4){var g={r:f.data[m],g:f.data[m+1],b:f.data[m+2]};Math.sqrt(Math.pow(g.r-u.r,2)+Math.pow(g.g-u.g,2)+Math.pow(g.b-u.b,2))<=c*l&&i++}return!(a-i<=a*h)}function i(e,t,n,r){var i=document.createElement("canvas");i.width=d.width,i.height=d.height;for(var o=i.getContext("2d"),a=[],s=-1===t,u=t&&t>0&&t<=e.length?t:e.length,c={r:0,g:0,b:0},l=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),h=n&&n>=0&&n<=1?n:0,p=r&&r>=0&&r<=1?r:0,f=!1,m=0;m<u;m++){var g,y,v;if(!f){var _=new Image;_.src=e[m].image,o.drawImage(_,0,0,d.width,d.height);var b=o.getImageData(0,0,d.width,d.height);g=0,y=b.data.length,v=b.data.length/4;for(var w=0;w<y;w+=4){var M={r:b.data[w],g:b.data[w+1],b:b.data[w+2]};Math.sqrt(Math.pow(M.r-c.r,2)+Math.pow(M.g-c.g,2)+Math.pow(M.b-c.b,2))<=l*h&&g++}}!f&&v-g<=v*p||(s&&(f=!0),a.push(e[m]))}return(a=a.concat(e.slice(u))).length<=0&&a.push(e[e.length-1]),a}this.record=function(r){this.width||(this.width=320),this.height||(this.height=240),this.video&&this.video instanceof HTMLVideoElement&&(this.width||(this.width=u.videoWidth||u.clientWidth||320),this.height||(this.height=u.videoHeight||u.clientHeight||240)),this.video||(this.video={width:this.width,height:this.height}),this.canvas&&this.canvas.width&&this.canvas.height||(this.canvas={width:this.width,height:this.height}),d.width=this.canvas.width,d.height=this.canvas.height,this.video&&this.video instanceof HTMLVideoElement?(this.isHTMLObject=!0,u=this.video.cloneNode()):((u=document.createElement("video")).src=URL.createObjectURL(e),u.width=this.video.width,u.height=this.video.height),u.muted=!0,u.play(),c=(new Date).getTime(),l=new Whammy.Video(t.speed,t.quality),console.log("canvas resolutions",d.width,"*",d.height),console.log("video width/height",u.width||d.width,"*",u.height||d.height),n()},this.clearOldRecordedFrames=function(){l.frames=[]};var o=!1;this.requestData=function(){if(!f)if(l.frames.length){o=!0;var e=l.frames.slice(0);l.frames=i(e,-1),l.compile(function(e){t.ondataavailable(e),console.debug("video recorded blob size:",bytesToSize(e.size))}),l.frames=[],o=!1}else o=!1};var a=!1,s=!1;this.stop=function(){s=!0,this.requestData(),this.onstop()};var u,c,l,d=document.createElement("canvas"),h=d.getContext("2d"),p=this,f=!1;this.pause=function(){f=!0},this.resume=function(){f=!1},this.onstop=function(){}}function GifRecorder(e){function t(){u=Date.now();var e=new Blob([new Uint8Array(l.stream().bin)],{type:"image/gif"});r.ondataavailable(e),l.stream().bin=[]}if("undefined"==typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";this.start=function(e){function r(e){n?setTimeout(r,500,e):(h=requestAnimationFrame(r),void 0===typeof c&&(c=e),e-c<90||(a.paused&&a.play(),o.drawImage(a,0,0,u,p),l.addFrame(o),c=e))}e=e||1e3;var u=this.videoWidth||320,p=this.videoHeight||240;i.width=a.width=u,i.height=a.height=p,(l=new GIFEncoder).setRepeat(0),l.setDelay(this.frameRate||this.speed||200),l.setQuality(this.quality||1),l.start(),s=Date.now(),h=requestAnimationFrame(r),d=setTimeout(t,e)},this.stop=function(){h&&(cancelAnimationFrame(h),clearTimeout(d),t(),this.onstop())},this.onstop=function(){};var n=!1;this.pause=function(){n=!0},this.resume=function(){n=!1},this.ondataavailable=function(){},this.onstop=function(){};var r=this,i=document.createElement("canvas"),o=i.getContext("2d"),a=document.createElement("video");a.muted=!0,a.autoplay=!0,a.src=URL.createObjectURL(e),a.play();var s,u,c,l,d,h=null}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){var n=(t=t||te).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){return fe.isFunction(t)?fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?fe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?fe.grep(e,function(e){return ae.call(t,e)>-1!==n}):Se.test(t)?fe.filter(t,e,n):(t=fe.filter(t,e),fe.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return fe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function c(e,t,n){var r;try{e&&fe.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&fe.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function l(){te.removeEventListener("DOMContentLoaded",l),e.removeEventListener("load",l),fe.ready()}function d(){this.expando=fe.expando+d.uid++}function h(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Re.test(e)?JSON.parse(e):e)}function p(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ye,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=h(n)}catch(e){}Pe.set(e,t,n)}else n=void 0;return n}function f(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},u=s(),c=n&&n[3]||(fe.cssNumber[t]?"":"px"),l=(fe.cssNumber[t]||"px"!==c&&+u)&&je.exec(fe.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{o=o||".5",l/=o,fe.style(e,t,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ve[r];return i||(t=n.body.appendChild(n.createElement(r)),i=fe.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ve[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Ne.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&He(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",Ne.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function y(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],n):n}function v(e,t){for(var n=0,r=e.length;n<r;n++)Ne.set(e[n],"globalEval",!t||Ne.get(t[n],"globalEval"))}function _(e,t,n,r,i){for(var o,a,s,u,c,l,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===fe.type(o))fe.merge(h,o.nodeType?[o]:o);else if(ze.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(qe.exec(o)||["",""])[1].toLowerCase(),u=Ke[s]||Ke._default,a.innerHTML=u[1]+fe.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;fe.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(r&&fe.inArray(o,r)>-1)i&&i.push(o);else if(c=fe.contains(o.ownerDocument,o),a=y(d.appendChild(o),"script"),c&&v(a),n)for(l=0;o=a[l++];)Ge.test(o.type||"")&&n.push(o);return d}function b(){return!0}function w(){return!1}function M(){try{return te.activeElement}catch(e){}}function T(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)T(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=w;else if(!i)return e;return 1===o&&(a=i,i=function(e){return fe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,i,r,n)})}function S(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function L(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){var t=nt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),a=Ne.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)fe.event.add(t,i,c[i][n])}Pe.hasData(e)&&(s=Pe.access(e),u=fe.extend({},s),Pe.set(t,u))}}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&We.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function D(e,t,r,i){t=ie.apply([],t);var o,a,s,u,c,l,d=0,h=e.length,p=h-1,f=t[0],m=fe.isFunction(f);if(m||h>1&&"string"==typeof f&&!he.checkClone&&tt.test(f))return e.each(function(n){var o=e.eq(n);m&&(t[0]=f.call(this,n,o.html())),D(o,t,r,i)});if(h&&(o=_(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(u=(s=fe.map(y(o,"script"),L)).length;d<h;d++)c=o,d!==p&&(c=fe.clone(c,!0,!0),u&&fe.merge(s,y(c,"script"))),r.call(e[d],c,d);if(u)for(l=s[s.length-1].ownerDocument,fe.map(s,k),d=0;d<u;d++)c=s[d],Ge.test(c.type||"")&&!Ne.access(c,"globalEval")&&fe.contains(l,c)&&(c.src?fe._evalUrl&&fe._evalUrl(c.src):n(c.textContent.replace(rt,""),l))}return e}function I(e,t,n){for(var r,i=t?fe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||fe.cleanData(y(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&v(y(r,"script")),r.parentNode.removeChild(r));return e}function A(e,t,n){var r,i,o,a,s=e.style;return(n=n||at(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),!he.pixelMarginRight()&&ot.test(a)&&it.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=lt.length;n--;)if((e=lt[n]+t)in dt)return e}function N(e,t,n){var r=je.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function P(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=fe.css(e,n+Be[o],!0,i)),r?("content"===n&&(a-=fe.css(e,"padding"+Be[o],!0,i)),"margin"!==n&&(a-=fe.css(e,"border"+Be[o]+"Width",!0,i))):(a+=fe.css(e,"padding"+Be[o],!0,i),"padding"!==n&&(a+=fe.css(e,"border"+Be[o]+"Width",!0,i)));return a}function R(e,t,n){var r,i=!0,o=at(e),a="border-box"===fe.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(((r=A(e,t,o))<0||null==r)&&(r=e.style[t]),ot.test(r))return r;i=a&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+P(e,t,n||(a?"border":"content"),i,o)+"px"}function Y(e,t,n,r,i){return new Y.prototype.init(e,t,n,r,i)}function F(){pt&&(e.requestAnimationFrame(F),fe.fx.tick())}function j(){return e.setTimeout(function(){ht=void 0}),ht=fe.now()}function B(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Be[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function H(e,t,n){for(var r,i=(W.tweeners[t]||[]).concat(W.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function U(e,t,n){var r,i,o,a,s,u,c,l,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&He(e),y=Ne.get(e,"fxshow");n.queue||(null==(a=fe._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,fe.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;m=!0}p[r]=y&&y[r]||fe.style(e,r)}if((u=!fe.isEmptyObject(t))||!fe.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=y&&y.display)&&(c=Ne.get(e,"display")),"none"===(l=fe.css(e,"display"))&&(c?l=c:(g([e],!0),c=e.style.display||c,l=fe.css(e,"display"),g([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===fe.css(e,"float")&&(u||(h.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1;for(r in p)u||(y?"hidden"in y&&(m=y.hidden):y=Ne.access(e,"fxshow",{display:c}),o&&(y.hidden=!m),m&&g([e],!0),h.done(function(){m||g([e]),Ne.remove(e,"fxshow");for(r in p)fe.style(e,r,p[r])})),u=H(m?y[r]:0,r,h),r in y||(y[r]=u.start,m&&(u.end=u.start,u.start=0))}}function V(e,t){var n,r,i,o,a;for(n in e)if(r=fe.camelCase(n),i=t[r],o=e[n],fe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=fe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o=0,a=W.prefilters.length,s=fe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ht||j(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(V(l,c.opts.specialEasing);o<a;o++)if(r=W.prefilters[o].call(c,e,l,c.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(c.elem,c.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(l,H,c),fe.isFunction(c.opts.start)&&c.opts.start.call(e,c),fe.fx.timer(fe.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e){return(e.match(De)||[]).join(" ")}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,r){var i;if(fe.isArray(t))fe.each(t,function(t,i){n||Lt.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(fe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Q(e,t,n,r){function i(s){var u;return o[s]=!0,fe.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===Yt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function J(e,t){var n,r,i=fe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&fe.extend(!0,e,r),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function X(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Z(e){return fe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ae=ee.indexOf,se={},ue=se.toString,ce=se.hasOwnProperty,le=ce.toString,de=le.call(Object),he={},pe="3.1.1",fe=function(e,t){return new fe.fn.init(e,t)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ye=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:pe,constructor:fe,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(fe.isPlainObject(r)||(i=fe.isArray(r)))?(i?(i=!1,o=n&&fe.isArray(n)?n:[]):o=n&&fe.isPlainObject(n)?n:{},a[t]=fe.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},fe.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=fe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ue.call(e)||(t=ne(e))&&("function"!=typeof(n=ce.call(t,"constructor")&&t.constructor)||le.call(n)!==de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ue.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(ye,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),fe.isFunction(e))return r=re.call(arguments,2),i=function(){return e.apply(t||this,r.concat(re.call(arguments)))},i.guid=e.guid=e.guid||fe.guid++,i},now:Date.now,support:he}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ee[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var _e=function(e){function t(e,t,n,r){var i,o,a,s,u,c,l,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:H)!==O&&x(t),t=t||O,P)){if(11!==f&&(u=ye.exec(e)))if(i=u[1]){if(9===f){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&j(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return X.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&M.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(i)),n}if(M.qsa&&!G[e+" "]&&(!R||!R.test(e))){if(1!==f)h=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,Me):t.setAttribute("id",s=B),o=(c=k(e)).length;o--;)c[o]="#"+s+" "+p(c[o]);l=c.join(","),h=ve.test(e)&&d(t.parentNode)||t}if(l)try{return X.apply(n,h.querySelectorAll(l)),n}catch(e){}finally{s===B&&t.removeAttribute("id")}}}return E(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=O.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=V++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,d,h=[U,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(d=t[B]||(t[B]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===U&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,a)),r(function(r,a,s,u){var c,l,d,h=[],p=[],f=a.length,m=r||g(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:y(m,h,e,s,u),_=n?o||(r?e:f||i)?[]:a:v;if(n&&n(v,_,s,u),i)for(c=y(_,p),i(c,[],s,u),l=c.length;l--;)(d=c[l])&&(_[p[l]]=!(v[p[l]]=d));if(r){if(o||e){if(o){for(c=[],l=_.length;l--;)(d=_[l])&&c.push(v[l]=d);o(null,_=[],c,u)}for(l=_.length;l--;)(d=_[l])&&(c=o?ee(r,d):h[l])>-1&&(r[c]=!(a[c]=d))}}else _=y(_===a?_.splice(f,_.length):_),o?o(null,a,_,u):X.apply(a,_)})}function _(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),c=f(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=T.relative[e[s].type])l=[f(m(l),n)];else{if((n=T.filter[e[s].type].apply(null,e[s].matches))[B]){for(r=++s;r<i&&!T.relative[e[r].type];r++);return v(s>1&&m(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&_(e.slice(s,r)),r<i&&_(e=e.slice(r)),r<i&&p(e))}l.push(n)}return m(l)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,c){var l,d,h,p=0,f="0",m=r&&[],g=[],v=D,_=r||o&&T.find.TAG("*",c),b=U+=null==v?1:Math.random()||.1,w=_.length;for(c&&(D=a===O||a||c);f!==w&&null!=(l=_[f]);f++){if(o&&l){for(d=0,a||l.ownerDocument===O||(x(l),s=!P);h=e[d++];)if(h(l,a||O,s)){u.push(l);break}c&&(U=b)}i&&((l=!h&&l)&&p--,r&&m.push(l))}if(p+=f,i&&f!==p){for(d=0;h=n[d++];)h(m,g,a,s);if(r){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=J.call(u));g=y(g)}X.apply(u,g),c&&!r&&g.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(U=b,D=v),m};return i?r(a):a}var w,M,T,S,L,k,C,E,D,I,A,x,O,N,P,R,Y,F,j,B="sizzle"+1*new Date,H=e.document,U=0,V=0,W=n(),q=n(),G=n(),K=function(e,t){return e===t&&(A=!0),0},z={}.hasOwnProperty,Q=[],J=Q.pop,$=Q.push,X=Q.push,Z=Q.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Me=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){x()},Se=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(Q=Z.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(e){X={apply:Q.length?function(e,t){$.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}M=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},x=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==O&&9===r.nodeType&&r.documentElement?(O=r,N=O.documentElement,P=!L(O),H!==O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),M.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),M.getElementsByTagName=i(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),M.getElementsByClassName=ge.test(O.getElementsByClassName),M.getById=i(function(e){return N.appendChild(e).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),M.getById?(T.filter.ID=function(e){var t=e.replace(_e,be);return function(e){return e.getAttribute("id")===t}},T.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(T.filter.ID=function(e){var t=e.replace(_e,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},T.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),T.find.TAG=M.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):M.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=M.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},Y=[],R=[],(M.qsa=ge.test(O.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(M.matchesSelector=ge.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){M.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),Y.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),Y=Y.length&&new RegExp(Y.join("|")),t=ge.test(N.compareDocumentPosition),j=t||ge.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!M.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===H&&j(H,e)?-1:t===O||t.ownerDocument===H&&j(H,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===O?-1:t===O?1:i?-1:o?1:I?ee(I,e)-ee(I,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===H?-1:u[r]===H?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&x(e),n=n.replace(le,"='$1']"),M.matchesSelector&&P&&!G[n+" "]&&(!Y||!Y.test(n))&&(!R||!R.test(n)))try{var r=F.call(e,n);if(r||M.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&x(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&x(e);var n=T.attrHandle[t.toLowerCase()],r=n&&z.call(T.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:M.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Me)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!M.detectDuplicates,I=!M.sortStable&&e.slice(0),e.sort(K),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return I=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},(T=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,be),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,_=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(_=(p=(c=(l=(d=(h=g)[B]||(h[B]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===U&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===t){l[e]=[U,p,_];break}}else if(v&&(h=t,d=h[B]||(h[B]={}),l=d[h.uniqueID]||(d[h.uniqueID]={}),c=l[e]||[],p=c[0]===U&&c[1],_=p),!1===_)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++_||(v&&(d=h[B]||(h[B]={}),l=d[h.uniqueID]||(d[h.uniqueID]={}),l[e]=[U,_]),h!==t)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(se,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,be),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,be).toLowerCase(),function(t){var n;do{if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return h.prototype=T.filters=T.pseudos,T.setFilters=new h,k=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=q[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in T.filter)!(i=pe[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):q(e,u).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],o=G[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)(o=_(t[n]))[B]?r.push(o):i.push(o);(o=G(e,b(i,r))).selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&k(e=c.selector||e);if(n=n||[],1===l.length){if((o=l[0]=l[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&T.relative[o[1].type]){if(!(t=(T.find.ID(a.matches[0].replace(_e,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(_e,be),ve.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&p(o)))return X.apply(n,r),n;break}}return(c||C(e,l))(r,t,!P,n,!t||ve.test(e)&&d(t.parentNode)||t),n},M.sortStable=B.split("").sort(K).join("")===B,M.detectDuplicates=!!A,x(),M.sortDetached=i(function(e){return 1&e.compareDocumentPosition(O.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),M.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=_e,fe.expr=_e.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=_e.uniqueSort,fe.text=_e.getText,fe.isXMLDoc=_e.isXML,fe.contains=_e.contains,fe.escapeSelector=_e.escape;var be=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&fe(e).is(n))break;r.push(e)}return r},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Me=fe.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Se=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)fe.find(e,i[t],n);return r>1?fe.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Me.test(e)?fe(e):e||[],!1).length}});var Le,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(fe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Le,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Te.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=te.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==n.ready?n.ready(e):e(fe):fe.makeArray(e,this)}).prototype=fe.fn,Le=fe(te);var Ce=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t=fe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(fe.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&fe(e);if(!Me.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ae.call(fe(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var i=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=fe.filter(r,i)),this.length>1&&(Ee[e]||fe.uniqueSort(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}});var De=/[^\x20\t\r\n\f]+/g;fe.Callbacks=function(e){e="string"==typeof e?a(e):fe.extend({},e);var t,n,r,i,o=[],s=[],u=-1,c=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){fe.each(n,function(n,r){fe.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==fe.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?fe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},fe.extend({Deferred:function(t){var n=[["notify","progress",fe.Callbacks("memory"),fe.Callbacks("memory"),2],["resolve","done",fe.Callbacks("once memory"),fe.Callbacks("once memory"),0,"resolved"],["reject","fail",fe.Callbacks("once memory"),fe.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return fe.Deferred(function(t){fe.each(n,function(n,r){var i=fe.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var c=this,l=arguments,d=function(){var e,d;if(!(t<a)){if((e=r.apply(c,l))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,fe.isFunction(d)?i?d.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,d.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(c=void 0,l=[e]),(i||n.resolveWith)(c,l))}},h=i?d:function(){try{d()}catch(e){fe.Deferred.exceptionHook&&fe.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(r!==u&&(c=void 0,l=[e]),n.rejectWith(c,l))}};t?h():(fe.Deferred.getStackHook&&(h.stackTrace=fe.Deferred.getStackHook()),e.setTimeout(h))}}var a=0;return fe.Deferred(function(e){n[0][3].add(o(0,e,fe.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,fe.isFunction(t)?t:s)),n[2][3].add(o(0,e,fe.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?fe.extend(e,i):i}},o={};return fe.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=fe.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(c(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||fe.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],a(n),o.reject);return o.promise()}});var Ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;fe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ie.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},fe.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=fe.Deferred();fe.fn.ready=function(e){return Ae.then(e).catch(function(e){fe.readyException(e)}),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||Ae.resolveWith(te,[fe]))}}),fe.ready.then=Ae.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(fe.ready):(te.addEventListener("DOMContentLoaded",l),e.addEventListener("load",l));var xe=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===fe.type(n)){i=!0;for(s in n)xe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,fe.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(fe(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[fe.camelCase(t)]=n;else for(r in t)i[fe.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][fe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){fe.isArray(t)?t=t.map(fe.camelCase):(t=fe.camelCase(t),t=t in r?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||fe.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!fe.isEmptyObject(t)}};var Ne=new d,Pe=new d,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ye=/[A-Z]/g;fe.extend({hasData:function(e){return Pe.hasData(e)||Ne.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return Ne.access(e,t,n)},_removeData:function(e,t){Ne.remove(e,t)}}),fe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=fe.camelCase(r.slice(5)),p(o,r,i[r]));Ne.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):xe(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Pe.get(o,e)))return n;if(void 0!==(n=p(o,e)))return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ne.get(e,t),n&&(!r||fe.isArray(n)?r=Ne.access(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,i=n.shift(),o=fe._queueHooks(e,t),a=function(){fe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ne.get(e,n)||Ne.access(e,n,{empty:fe.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",n])})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=fe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ne.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],He=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&fe.contains(e.ownerDocument,e)&&"none"===fe.css(e,"display")},Ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ve={};fe.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?fe(this).show():fe(this).hide()})}});var We=/^(?:checkbox|radio)$/i,qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var ze=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment().appendChild(te.createElement("div")),t=te.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Qe=te.documentElement,Je=/^key/,$e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,d,h,p,f,m,g=Ne.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&fe.find.matchesSelector(Qe,i),n.guid||(n.guid=fe.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==fe&&fe.event.triggered!==t.type?fe.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(De)||[""]).length;c--;)s=Xe.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(d=fe.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=fe.event.special[p]||{},l=fe.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:f.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),fe.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,d,h,p,f,m,g=Ne.hasData(e)&&Ne.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(De)||[""]).length;c--;)if(s=Xe.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=fe.event.special[p]||{},h=u[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,d.remove&&d.remove.call(e,l));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||fe.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)fe.event.remove(e,p+t[c],n,r,!0);fe.isEmptyObject(u)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=fe.event.fix(e),u=new Array(arguments.length),c=(Ne.get(this,"events")||{})[s.type]||[],l=fe.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=fe.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((fe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?fe(i,this).index(c)>-1:fe.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(fe.Event.prototype,e,{enumerable:!0,configurable:!0,get:fe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[fe.expando]?e:new fe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==M()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===M()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&fe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},fe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?b:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Je.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&$e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},fe.event.addProp),fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||fe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),fe.fn.extend({on:function(e,t,n,r){return T(this,e,t,n,r)},one:function(e,t,n,r){return T(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){fe.event.remove(this,e,n,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=fe.contains(e.ownerDocument,e);if(!(he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(a=y(s),o=y(e),r=0,i=o.length;r<i;r++)E(o[r],a[r]);if(t)if(n)for(o=o||y(e),a=a||y(s),r=0,i=o.length;r<i;r++)C(o[r],a[r]);else C(e,s);return(a=y(s,"script")).length>0&&v(a,!u&&y(e,"script")),s},cleanData:function(e){for(var t,n,r,i=fe.event.special,o=0;void 0!==(n=e[o]);o++)if(Oe(n)){if(t=n[Ne.expando]){if(t.events)for(r in t.events)i[r]?fe.event.remove(n,r):fe.removeEvent(n,r,t.handle);n[Ne.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),fe.fn.extend({detach:function(e){return I(this,e,!0)},remove:function(e){return I(this,e)},text:function(e){return xe(this,function(e){return void 0===e?fe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){S(this,e).appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(fe.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return xe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!et.test(e)&&!Ke[(qe.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(fe.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=[],i=fe(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),fe(i[a])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var it=/^margin/,ot=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),at=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Qe.removeChild(a),s=null}}var n,r,i,o,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),fe.extend(he,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var st=/^(none|table(?!-c[ea]).+)/,ut={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"},lt=["Webkit","Moz","ms"],dt=te.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=fe.camelCase(t),u=e.style;return t=fe.cssProps[s]||(fe.cssProps[s]=O(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:("string"===(o=typeof n)&&(i=je.exec(n))&&i[1]&&(n=f(e,t,i),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(fe.cssNumber[s]?"":"px")),he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=O(s)||s),(a=fe.cssHooks[t]||fe.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=A(e,t,r)),"normal"===i&&t in ct&&(i=ct[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return!st.test(fe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?R(e,t,r):Ue(e,ut,function(){return R(e,t,r)})},set:function(e,n,r){var i,o=r&&at(e),a=r&&P(e,t,r,"border-box"===fe.css(e,"boxSizing",!1,o),o);return a&&(i=je.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=fe.css(e,t)),N(e,n,a)}}}),fe.cssHooks.marginLeft=x(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Be[r]+t]=o[r]||o[r-2]||o[0];return i}},it.test(e)||(fe.cssHooks[e+t].set=N)}),fe.fn.extend({css:function(e,t){return xe(this,function(e,t,n){var r,i,o={},a=0;if(fe.isArray(t)){for(r=at(e),i=t.length;a<i;a++)o[t[a]]=fe.css(e,t[a],!1,r);return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)}}),fe.Tween=Y,Y.prototype={constructor:Y,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=Y.propHooks[this.prop];return e&&e.get?e.get(this):Y.propHooks._default.get(this)},run:function(e){var t,n=Y.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Y.propHooks._default.set(this),this}},Y.prototype.init.prototype=Y.prototype,Y.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=Y.prototype.init,fe.fx.step={};var ht,pt,ft=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;fe.Animation=fe.extend(W,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,je.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;r<i;r++)n=e[r],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[U],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return fe.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in fe.fx.speeds?r.duration=fe.fx.speeds[r.duration]:r.duration=fe.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=fe.isEmptyObject(e),o=fe.speed(t,n,r),a=function(){var t=W(this,fe.extend({},e),o);(i||Ne.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=fe.timers,a=Ne.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ne.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=fe.timers,a=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,r,i)}}),fe.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=0,n=fe.timers;for(ht=fe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||fe.fx.stop(),ht=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){pt||(pt=e.requestAnimationFrame?e.requestAnimationFrame(F):e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(pt):e.clearInterval(pt),pt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select").appendChild(te.createElement("option"));e.type="checkbox",he.checkOn=""!==e.value,he.optSelected=t.selected,(e=te.createElement("input")).value="t",e.type="radio",he.radioValue="t"===e.value}();var gt,yt=fe.expr.attrHandle;fe.fn.extend({attr:function(e,t){return xe(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(i=fe.attrHooks[t.toLowerCase()]||(fe.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void fe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=fe.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(De);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):e.setAttribute(n,n),n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||fe.find.attr;yt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=yt[a],yt[a]=i,i=null!=n(e,t,r)?a:null,yt[a]=o),i}});var vt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return xe(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[fe.propFix[e]||e]})}}),fe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,i=fe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),fe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=G(n),r=1===n.nodeType&&" "+q(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=q(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=G(n),r=1===n.nodeType&&" "+q(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=q(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=fe(this),o=e.match(De)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=G(this))&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+q(G(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;fe.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=fe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,fe(this).val()):e)?i="":"number"==typeof i?i+="":fe.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:q(fe.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=fe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=fe.inArray(fe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;fe.extend(fe.event,{trigger:function(t,n,r,i){var o,a,s,u,c,l,d,h=[r||te],p=ce.call(t,"type")?t.type:t,f=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!wt.test(p+fe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[fe.expando]?t:new fe.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),d=fe.event.special[p]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!fe.isWindow(r)){for(u=d.delegateType||p,wt.test(u+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||te)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||p,(l=(Ne.get(a,"events")||{})[t.type]&&Ne.get(a,"handle"))&&l.apply(a,n),(l=c&&a[c])&&l.apply&&Oe(a)&&(t.result=l.apply(a,n),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!Oe(r)||c&&fe.isFunction(r[p])&&!fe.isWindow(r)&&((s=r[c])&&(r[c]=null),fe.event.triggered=p,r[p](),fe.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t)}}),fe.fn.extend({trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}}),fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.focusin="onfocusin"in e,he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ne.access(r,t);i||r.addEventListener(e,n,!0),Ne.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ne.access(r,t)-1;i?Ne.access(r,t,i):(r.removeEventListener(e,n,!0),Ne.remove(r,t))}}});var Mt=e.location,Tt=fe.now(),St=/\?/;fe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var Lt=/\[\]$/,kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],i=function(e,t){var n=fe.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&Et.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!We.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,It=/#.*$/,At=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Yt={},Ft="*/".concat("*"),jt=te.createElement("a");jt.href=Mt.href,fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:Ot.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?J(J(e,fe.ajaxSettings),t):J(fe.ajaxSettings,e)},ajaxPrefilter:z(Rt),ajaxTransport:z(Yt),ajax:function(t,n){function r(t,n,r,s){var c,h,p,b,w,M=n;l||(l=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",T.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=$(f,T,r)),b=X(f,b,T,c),c?(f.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(fe.lastModified[o]=w),(w=T.getResponseHeader("etag"))&&(fe.etag[o]=w)),204===t||"HEAD"===f.type?M="nocontent":304===t?M="notmodified":(M=b.state,h=b.data,p=b.error,c=!p)):(p=M,!t&&M||(M="error",t<0&&(t=0))),T.status=t,T.statusText=(n||M)+"",c?y.resolveWith(m,[h,M,T]):y.rejectWith(m,[T,M,p]),T.statusCode(_),_=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?h:p]),v.fireWith(m,[T,M]),d&&(g.trigger("ajaxComplete",[T,f]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,c,l,d,h,p,f=fe.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?fe(m):fe.event,y=fe.Deferred(),v=fe.Callbacks("once memory"),_=f.statusCode||{},b={},w={},M="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=xt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||M;return i&&i.abort(t),r(0,t),this}};if(y.promise(T),f.url=((t||f.url||Mt.href)+"").replace(Pt,Mt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(De)||[""],null==f.crossDomain){c=te.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=jt.protocol+"//"+jt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=fe.param(f.data,f.traditional)),Q(Rt,f,n,T),l)return T;(d=fe.event&&f.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Nt.test(f.type),o=f.url.replace(It,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(p=f.url.slice(o.length),f.data&&(o+=(St.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(At,"$1"),p=(St.test(o)?"&":"?")+"_="+Tt+++p),f.url=o+p),f.ifModified&&(fe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",fe.lastModified[o]),fe.etag[o]&&T.setRequestHeader("If-None-Match",fe.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ft+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)T.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,T,f)||l))return T.abort();if(M="abort",v.add(f.complete),T.done(f.success),T.fail(f.error),i=Q(Yt,f,n,T)){if(T.readyState=1,d&&g.trigger("ajaxSend",[T,f]),l)return T;f.async&&f.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{l=!1,i.send(b,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,i){return fe.isFunction(n)&&(i=i||r,r=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:i,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){var t;return this[0]&&(fe.isFunction(e)&&(e=e.call(this[0])),t=fe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){fe(this).replaceWith(this.childNodes)}),this}}),fe.expr.pseudos.hidden=function(e){return!fe.expr.pseudos.visible(e)},fe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},fe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Ht=fe.ajaxSettings.xhr();he.cors=!!Ht&&"withCredentials"in Ht,he.ajax=Ht=!!Ht,fe.ajaxTransport(function(t){var n,r;if(he.cors||Ht&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=fe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ut=[],Vt=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||fe.expando+"_"+Tt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Vt,"$1"+i):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?fe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(i)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),he.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),fe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(he.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Te.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=_([e],t,o),o&&o.length&&fe(o).remove(),fe.merge([],i.childNodes))},fe.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=q(e.slice(s)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&fe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.pseudos.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=fe.css(e,"position"),l=fe(e),d={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=fe.css(e,"top"),u=fe.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(r=l.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):l.css(d)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect()).width||r.height?(i=o.ownerDocument,n=Z(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+fe.css(e[0],"borderTopWidth",!0),left:r.left+fe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-fe.css(n,"marginTop",!0),left:t.left-r.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||Qe})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;fe.fn[e]=function(r){return xe(this,function(e,r,i){var o=Z(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=x(he.pixelPosition,function(e,n){if(n)return n=A(e,t),ot.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return xe(this,function(t,n,i){var o;return fe.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?fe.css(t,n,s):fe.style(t,n,i,s)},t,a?i:void 0,a)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var Wt=e.jQuery,qt=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=qt),t&&e.jQuery===fe&&(e.jQuery=Wt),fe},t||(e.jQuery=e.$=fe),fe}),define("dictionary",["jquery"],function(e){function n(e){var n=window.CONNECT_DICTIONARY;if("object"!=typeof n)return"";var r,i,o,a,s,u,c,l=e,d=null;return t=l.split("-"),c=t[0],u=t[1].split("+"),a=u[0],o=n[c].header,i=n[c].body,s=u.length>1?u[1]:"val",d=o[s],"object"==typeof i&&void 0!==i[a]&&(r=i[a][d]),r||(r=""),r}function r(t){void 0===t&&(t="html");var n;e(t+" .CML").each(function(t){e(this).attr("CMLK")?n=e(this).attr("CMLK"):(n=e(this).html(),e(this).attr("CMLK",n)),e(this).html(o(n))})}function i(e){"object"!=typeof e&&(e=void 0!==e?{"*":e}:{"*":""});let t=c();var n;if(e[t])n=e[t];else{if(!e["*"])return"";n=e["*"]}return o(n)}function o(e){var t=e,r=t.match(/\[[a-zA-Z0-9\-\+]*\]/g);for(var i in r){var o=n(r[i].replace(/[\[\]]+/g,""));t=t.replace(r[i],o)}return t}function a(t,n){e.getScript(t,n)}function s(t,n,i){var o=n,s="https://ramman.net/res/web/js/getdictionary.js?lang="+t;e(".CMLSourse").remove(),a(s,function(){e('script[src="'+s+'"]').addClass("CMLSourse"),r(o),l(t),"function"==typeof i&&i()})}function u(e){s(c(),"html",e)}function c(){var e=navigator.language||navigator.userLanguage;switch("ru-RU"==e&&(e="ru"),"en-US"==e&&(e="en"),e){case"en":e="en";break;default:e="ru"}return e}function l(e){return localStorage.setItem("ConnectUserLang",e)}return{getLocale:c,autoChange:u,changeLang:s,start:r,get:n,withString:o,withLanguageObject:i}});/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
var firebase=function(){var e=void 0===e?self:e;return function(t){function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var r=e.webpackJsonpFirebase;e.webpackJsonpFirebase=function(e,i,a){for(var s,u,c,l=0,d=[];l<e.length;l++)u=e[l],o[u]&&d.push(o[u][0]),o[u]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);for(r&&r(e,i,a);d.length;)d.shift()();if(a)for(l=0;l<a.length;l++)c=n(n.s=a[l]);return c};var i={},o={5:0};return n.e=function(e){function t(){s.onerror=s.onload=null,clearTimeout(u);var t=o[e];0!==t&&(t&&t[1](Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var r=o[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var i=new Promise(function(t,n){r=o[e]=[t,n]});r[2]=i;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,n.nc&&s.setAttribute("nonce",n.nc),s.src=n.p+""+e+".js";var u=setTimeout(t,12e4);return s.onerror=s.onload=t,a.appendChild(s),i},n.m=t,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e},n(n.s=56)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(27)),r(n(28)),r(n(20)),r(n(64)),r(n(65)),r(n(66)),r(n(67)),r(n(29)),r(n(68)),r(n(30)),r(n(69)),r(n(70)),r(n(72)),r(n(73)),r(n(74))},,,,,,function(e,t,n){"use strict";function r(){function e(e){h(f[e],"delete"),delete f[e]}function t(e){return e=e||s,a(f,e)||i("no-app",{name:e}),f[e]}function n(e,t){void 0===t?t=s:"string"==typeof t&&""!==t||i("bad-app-name",{name:t+""}),a(f,t)&&i("duplicate-app",{name:t});var n=new c(e,t,y);return f[t]=n,h(n,"create"),n}function u(){return Object.keys(f).map(function(e){return f[e]})}function l(e,n,r,a,s){m[e]&&i("duplicate-service",{name:e}),m[e]=n,a&&(g[e]=a,u().forEach(function(e){a("create",e)}));var l=function(n){return void 0===n&&(n=t()),"function"!=typeof n[e]&&i("invalid-app-argument",{name:e}),n[e]()};return void 0!==r&&Object(o.deepExtend)(l,r),y[e]=l,c.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.t.bind(this,e).apply(this,s?t:[])},l}function d(e){Object(o.deepExtend)(y,e)}function h(e,t){Object.keys(m).forEach(function(n){var r=p(e,n);null!==r&&g[r]&&g[r](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}var f={},m={},g={},y={__esModule:!0,initializeApp:n,app:t,apps:null,Promise:Promise,SDK_VERSION:"4.6.0",INTERNAL:{registerService:l,createFirebaseNamespace:r,extendNamespace:d,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:e,factories:m,useAsService:p,Promise:Promise,deepExtend:o.deepExtend}};return Object(o.patchProperty)(y,"default",y),Object.defineProperty(y,"apps",{get:u}),Object(o.patchProperty)(t,"App",c),y}function i(e,t){throw d.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s="[DEFAULT]",u=[],c=function(){function e(e,t,n){this.r=n,this.a=!1,this.u={},this.f=t,this.h=Object(o.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){u.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){u=u.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.v(),this.f},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.v(),this.h},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.v(),t()}).then(function(){e.r.INTERNAL.removeApp(e.f);var t=[];return Object.keys(e.u).forEach(function(n){Object.keys(e.u[n]).forEach(function(r){t.push(e.u[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.a=!0,e.u={}})},e.prototype.t=function(e,t){if(void 0===t&&(t=s),this.v(),this.u[e]||(this.u[e]={}),!this.u[e][t]){var n=t!==s?t:void 0,r=this.r.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.u[e][t]=r}return this.u[e][t]},e.prototype.extendApp=function(e){var t=this;Object(o.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(u.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),u=[])},e.prototype.v=function(){this.a&&i("app-deleted",{name:this.f})},e}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},d=new o.ErrorFactory("app","Firebase",l);n.d(t,"firebase",function(){return h});var h=r();t.default=h},,,,,,,,,,,,,function(t,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof e&&(r=e)}t.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},,,,,,function(e,t){function n(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,f=[],m=!1,g=-1;h.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new u(e,t)),1!==f.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20);t.assert=function(e,n){if(!e)throw t.assertionError(n)},t.assertionError=function(e){return Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],n=0,r=0;r<e.length;r++){for(var i=e.charCodeAt(r);i>255;)t[n++]=255&i,i>>=8;t[n++]=i}return t},i=function(e){if(e.length<8192)return String.fromCharCode.apply(null,e);for(var t="",n=0;n<e.length;n+=8192){var r=e.slice(n,n+8192);t+=String.fromCharCode.apply(null,r)}return t};t.base64={y:null,b:null,_:null,g:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.O();for(var n=t?this._:this.y,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,d=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.O();for(var n=t?this.g:this.b,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var d=s<<6&192|u;r.push(d)}}}return r},O:function(){if(!this.y){this.y={},this.b={},this._={},this.g={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.y[e]=this.ENCODED_VALS.charAt(e),this.b[this.y[e]]=e,this._[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.g[this._[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.b[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.g[this.ENCODED_VALS.charAt(e)]=e)}}},t.base64Encode=function(e){var n=r(e);return t.base64.encodeByteArray(n,!0)},t.base64Decode=function(e){try{return t.base64.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}},function(e,t,n){"use strict";function r(e){return JSON.parse(e)}function i(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.jsonEval=r,t.stringify=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.forEach=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},t.extend=function(e,n){return t.forEach(n,function(t,n){e[t]=n}),e},t.clone=function(e){return t.extend({},e)},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},t.findValue=function(e,n,r){var i=t.findKey(e,n,r);return i&&e[i]},t.getAnyKey=function(e){for(var t in e)return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(57),e.exports=n(6).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),i=(n.n(r),n(62)),o=(n.n(i),n(63));n.n(o)},function(t,n,r){(function(t){var n=function(){if(void 0!==t)return t;if(void 0!==e)return e;if("undefined"!=typeof self)return self;throw Error("unable to locate global object")}();"undefined"==typeof Promise&&(n.Promise=Promise=r(59))}).call(n,r(19))},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this.T=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o.A(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}else(1===e._state?s:u)(t.promise,e._value)})):e.T.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e.T.length&&o.A(function(){e._handled||o.j(e._value)});for(var t=0,n=e.T.length;t<n;t++)a(e,e.T[t]);e.T=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var h=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o.A="function"==typeof t&&function(e){t(e)}||function(e){h(e,0)},o.j=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o.w=function(e){o.A=e},o.S=function(e){o.j=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(60).setImmediate)},function(t,n,r){function i(e,t){this.P=e,this._clearFn=t}var o=Function.prototype.apply;n.setTimeout=function(){return new i(o.call(setTimeout,e,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,e,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this.P)},n.enroll=function(e,t){clearTimeout(e.N),e.C=t},n.unenroll=function(e){clearTimeout(e.N),e.C=-1},n.k=n.active=function(e){clearTimeout(e.N);var t=e.C;t>=0&&(e.N=setTimeout(function(){e.M&&e.M()},t))},r(61),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick(function(){a(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():s=function(e){setTimeout(a,0,e)},h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(19),n(26))},function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}})},function(e,t){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}})},function(e,t,n){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}function o(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=r,t.deepExtend=i,t.patchProperty=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();t.Deferred=r},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(20);n.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},n.isMobileCordova=function(){return void 0!==e&&!!(e.cordova||e.phonegap||e.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n.getUA())},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isNodeSdk=function(){return!0===i.CONSTANTS.NODE_CLIENT||!0===i.CONSTANTS.NODE_ADMIN}},function(e,t,n){"use strict";function r(e){var t=o;return o=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i="FirebaseError",o=Error.captureStackTrace;t.patchCapture=r;var a=function(){function e(e,t){if(this.code=e,this.message=t,o)o(this,s.prototype.create);else{var n=Error.apply(this,arguments);this.name=i,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return e}();t.FirebaseError=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name=i;var s=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?""+r:"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new a(i,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();t.ErrorFactory=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(29);t.decode=function(e){var t={},n={},o={},a="";try{var s=e.split(".");t=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:o,signature:a}},t.isValidTimestamp=function(e){var n,r,i=t.decode(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},t.issuedAtTime=function(e){var n=t.decode(e).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},t.isValidFormat=function(e){var n=t.decode(e),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},t.isAdmin=function(e){var n=t.decode(e).claims;return"object"==typeof n&&!0===n.admin}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.querystring=function(e){var t=[];return r.forEach(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=e.call(this)||this;t.D=[],t.I=[],t.x=[],t.F=[],t.L=0,t.R=0,t.blockSize=64,t.F[0]=128;for(var n=1;n<t.blockSize;++n)t.F[n]=0;return t.reset(),t}return r(t,e),t.prototype.reset=function(){this.D[0]=1732584193,this.D[1]=4023233417,this.D[2]=2562383102,this.D[3]=271733878,this.D[4]=3285377520,this.L=0,this.R=0},t.prototype.B=function(e,t){t||(t=0);var n=this.x;if("string"==typeof e)for(l=0;l<16;l++)n[l]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(l=0;l<16;l++)n[l]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(l=16;l<80;l++){d=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(d<<1|d>>>31)}for(var r,i,o=this.D[0],a=this.D[1],s=this.D[2],u=this.D[3],c=this.D[4],l=0;l<80;l++){l<40?l<20?(r=u^a&(s^u),i=1518500249):(r=a^s^u,i=1859775393):l<60?(r=a&s|u&(a|s),i=2400959708):(r=a^s^u,i=3395469782);var d=(o<<5|o>>>27)+r+c+i+n[l]&4294967295;c=u,u=s,s=4294967295&(a<<30|a>>>2),a=o,o=d}this.D[0]=this.D[0]+o&4294967295,this.D[1]=this.D[1]+a&4294967295,this.D[2]=this.D[2]+s&4294967295,this.D[3]=this.D[3]+u&4294967295,this.D[4]=this.D[4]+c&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.I,o=this.L;r<t;){if(0==o)for(;r<=n;)this.B(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.blockSize){this.B(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o==this.blockSize){this.B(i),o=0;break}}this.L=o,this.R+=t}},t.prototype.digest=function(){var e=[],t=8*this.R;this.L<56?this.update(this.F,56-this.L):this.update(this.F,this.blockSize-(this.L-56));for(r=this.blockSize-1;r>=56;r--)this.I[r]=255&t,t/=256;this.B(this.I);for(var n=0,r=0;r<5;r++)for(var i=24;i>=0;i-=8)e[n]=this.D[r]>>i&255,++n;return e},t}(n(71).Hash);t.Sha1=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.blockSize=-1}return e}();t.Hash=r},function(e,t,n){"use strict";function r(e,t){var n=new s(e,t);return n.subscribe.bind(n)}function i(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function o(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscribe=r;var s=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=o(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=a),void 0===r.error&&(r.error=a),void 0===r.complete&&(r.complete=a);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();t.async=i},function(e,t,n){"use strict";function r(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function i(e,t,n,i){if((!i||n)&&"string"!=typeof n)throw Error(r(e,t,i)+"must be a valid firebase namespace.")}function o(e,t,n,i){if((!i||n)&&"function"!=typeof n)throw Error(r(e,t,i)+"must be a valid function.")}function a(e,t,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw Error(r(e,t,i)+"must be a valid context object.")}Object.defineProperty(t,"__esModule",{value:!0}),t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw Error(o)}},t.errorPrefix=r,t.validateNamespace=i,t.validateCallback=o,t.validateContextObject=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.stringToByteArray=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r.assert(i<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}}])}().default;/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
try{webpackJsonpFirebase([4],{75:function(e,t,n){n(76)},76:function(e,t,n){(function(e){var t=n(6).default;(function(){(function(){var e,n=n||{},r=this,i=function(e){return void 0!==e},o=function(e){return"string"==typeof e},a=function(e){return"boolean"==typeof e},s=function(){},u=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},c=function(e){return null===e},l=function(e){return"array"==u(e)},d=function(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length},h=function(e){return"function"==u(e)},p=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},f=function(e,t,n){return e.call.apply(e.bind,arguments)},m=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return(g=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?f:m).apply(null,arguments)},y=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},v=Date.now||function(){return+new Date},_=function(e,t){function n(){}n.prototype=t.prototype,e.Uc=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Og=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},b=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=e+"")};_(b,Error),b.prototype.name="CustomError";var w=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},M=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},T=function(e){return I.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(S,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(L,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(k,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(C,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(E,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(D,"&#0;")),e):e},S=/&/g,L=/</g,k=/>/g,C=/"/g,E=/'/g,D=/\x00/g,I=/[\x00&<>"']/,A=function(e,t){return-1!=e.indexOf(t)},x=function(e,t){return e<t?-1:e>t?1:0},O=function(e,t){t.unshift(e),b.call(this,w.apply(null,t)),t.shift()};_(O,b),O.prototype.name="AssertionError";var N=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var o=r}else e&&(i+=": "+e,o=t);throw new O(""+i,o||[])},P=function(e,t,n){return e||N("",null,t,Array.prototype.slice.call(arguments,2)),e},R=function(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},Y=function(e,t,n){return"number"==typeof e||N("Expected number but got %s: %s.",[u(e),e],t,Array.prototype.slice.call(arguments,2)),e},F=function(e,t,n){o(e)||N("Expected string but got %s: %s.",[u(e),e],t,Array.prototype.slice.call(arguments,2))},j=function(e,t,n){h(e)||N("Expected function but got %s: %s.",[u(e),e],t,Array.prototype.slice.call(arguments,2))},B=function(){this.Tc="",this.kf=U};B.prototype.qb=!0,B.prototype.ob=function(){return this.Tc},B.prototype.toString=function(){return"Const{"+this.Tc+"}"};var H=function(e){return e instanceof B&&e.constructor===B&&e.kf===U?e.Tc:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")},U={},V=function(e){var t=new B;return t.Tc=e,t};V("");var W=function(){this.Lc="",this.lf=J};W.prototype.qb=!0,W.prototype.ob=function(){return this.Lc},W.prototype.toString=function(){return"TrustedResourceUrl{"+this.Lc+"}"};var q,G=function(e){return e instanceof W&&e.constructor===W&&e.lf===J?e.Lc:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+u(e)),"type_error:TrustedResourceUrl")},K=function(e,t){var n=H(e);if(!Q.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(z,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof B?H(e):encodeURIComponent(e+"")}),$(e)},z=/%{(\w+)}/g,Q=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,J={},$=function(e){var t=new W;return t.Lc=e,t},X=Array.prototype.indexOf?function(e,t,n){return P(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,o(e))return o(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Z=Array.prototype.forEach?function(e,t,n){P(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},ee=function(e,t){for(var n=o(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)},te=Array.prototype.map?function(e,t,n){return P(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),a=o(e)?e.split(""):e,s=0;s<r;s++)s in a&&(i[s]=t.call(n,a[s],s,e));return i},ne=Array.prototype.some?function(e,t,n){return P(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)if(a in i&&t.call(n,i[a],a,e))return!0;return!1},re=function(e){e:{for(var t=Qr,n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:o(e)?e.charAt(t):e[t]},ie=function(e,t){return 0<=X(e,t)},oe=function(e,t){var n;return(n=0<=(t=X(e,t)))&&ae(e,t),n},ae=function(e,t){return P(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},se=function(e,t){var n=0;ee(e,function(r,i){t.call(void 0,r,i,e)&&ae(e,i)&&n++})},ue=function(e){return Array.prototype.concat.apply([],arguments)},ce=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},le=function(e){return te(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")};e:{var de=r.navigator;if(de){var he=de.userAgent;if(he){q=he;break e}}q=""}var pe=function(e){return A(q,e)},fe=function(e,t){for(var n in e)t.call(void 0,e[n],n,e)},me=function(e,t){for(var n in e)if(t.call(void 0,e[n],n,e))return!0;return!1},ge=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},ye=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},ve=function(e){for(var t in e)return!1;return!0},_e=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},be=function(e){var t,n={};for(t in e)n[t]=e[t];return n},we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Me=function(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<we.length;o++)n=we[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},Te=function(e){return Te[" "](e),e};Te[" "]=s;var Se,Le=function(e,t){var n=Fe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},ke=pe("Opera"),Ce=pe("Trident")||pe("MSIE"),Ee=pe("Edge"),De=Ee||Ce,Ie=pe("Gecko")&&!(A(q.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),Ae=A(q.toLowerCase(),"webkit")&&!pe("Edge"),xe=function(){var e=r.document;return e?e.documentMode:void 0};e:{var Oe="",Ne=function(){var e=q;return Ie?/rv:([^\);]+)(\)|;)/.exec(e):Ee?/Edge\/([\d\.]+)/.exec(e):Ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ae?/WebKit\/(\S+)/.exec(e):ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ne&&(Oe=Ne?Ne[1]:""),Ce){var Pe=xe();if(null!=Pe&&Pe>parseFloat(Oe)){Se=Pe+"";break e}}Se=Oe}var Re,Ye=Se,Fe={},je=function(e){return Le(e,function(){for(var t=0,n=M(Ye+"").split("."),r=M(e+"").split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=x(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||x(0==a[2].length,0==s[2].length)||x(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},Be=r.document;Re=Be&&Ce?xe()||("CSS1Compat"==Be.compatMode?parseInt(Ye,10):5):void 0;var He,Ue=null,Ve=null,We=function(e){var t="";return qe(e,function(e){t+=String.fromCharCode(e)}),t},qe=function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ve[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Ge();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},Ge=function(){if(!Ue){Ue={},Ve={};for(var e=0;65>e;e++)Ue[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ve[Ue[e]]=e,62<=e&&(Ve["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}},Ke=function(e,t){this.Da=-1,this.Da=64,this.qc=r.Uint8Array?new Uint8Array(this.Da):Array(this.Da),this.Xc=this.rb=0,this.l=[],this.bg=e,this.Fe=t,this.Cg=r.Int32Array?new Int32Array(64):Array(64),i(He)||(He=r.Int32Array?new Int32Array(Xe):Xe),this.reset()};_(Ke,function(){this.Da=-1});for(var ze=[],Qe=0;63>Qe;Qe++)ze[Qe]=0;var Je=ue(128,ze);Ke.prototype.reset=function(){this.Xc=this.rb=0,this.l=r.Int32Array?new Int32Array(this.Fe):ce(this.Fe)};var $e=function(e){var t=e.qc;P(t.length==e.Da);for(var n=e.Cg,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.l[0],i=0|e.l[1];var s=0|e.l[2],u=0|e.l[3],c=0|e.l[4],l=0|e.l[5],d=0|e.l[6];for(o=0|e.l[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&d)+(0|He[t])|0)+(0|n[t])|0)|0,o=d,d=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.l[0]=e.l[0]+r|0,e.l[1]=e.l[1]+i|0,e.l[2]=e.l[2]+s|0,e.l[3]=e.l[3]+u|0,e.l[4]=e.l[4]+c|0,e.l[5]=e.l[5]+l|0,e.l[6]=e.l[6]+d|0,e.l[7]=e.l[7]+o|0};Ke.prototype.update=function(e,t){i(t)||(t=e.length);var n=0,r=this.rb;if(o(e))for(;n<t;)this.qc[r++]=e.charCodeAt(n++),r==this.Da&&($e(this),r=0);else{if(!d(e))throw Error("message must be string or array");for(;n<t;){var a=e[n++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");this.qc[r++]=a,r==this.Da&&($e(this),r=0)}}this.rb=r,this.Xc+=t},Ke.prototype.digest=function(){var e=[],t=8*this.Xc;56>this.rb?this.update(Je,56-this.rb):this.update(Je,this.Da-(this.rb-56));for(var n=63;56<=n;n--)this.qc[n]=255&t,t/=256;for($e(this),n=t=0;n<this.bg;n++)for(var r=24;0<=r;r-=8)e[t++]=this.l[n]>>r&255;return e};var Xe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ze=function(){Ke.call(this,8,et)};_(Ze,Ke);var et=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],tt=Object.freeze||function(e){return e},nt=function(){this.Ma=this.Ma,this.Ic=this.Ic};nt.prototype.Ma=!1,nt.prototype.isDisposed=function(){return this.Ma},nt.prototype.lb=function(){if(this.Ic)for(;this.Ic.length;)this.Ic.shift()()};var rt=!Ce||9<=+Re,it=Ce&&!je("9");!Ae||je("528"),Ie&&je("1.9b")||Ce&&je("8")||ke&&je("9.5")||Ae&&je("528"),Ie&&!je("8")||Ce&&je("9");var ot=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return r.addEventListener("test",s,t),r.removeEventListener("test",s,t),e}(),at=function(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.Wa=!1,this.Ue=!0};at.prototype.stopPropagation=function(){this.Wa=!0},at.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Ue=!1};var st=function(e,t){at.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.R=null,e&&this.init(e,t)};_(st,at);var ut=tt({2:"touch",3:"pen",4:"mouse"});st.prototype.init=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(Ie){e:{try{Te(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.offsetX=Ae||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=Ae||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=o(e.pointerType)?e.pointerType:ut[e.pointerType]||"",this.state=e.state,this.R=e,e.defaultPrevented&&this.preventDefault()},st.prototype.stopPropagation=function(){st.Uc.stopPropagation.call(this),this.R.stopPropagation?this.R.stopPropagation():this.R.cancelBubble=!0},st.prototype.preventDefault=function(){st.Uc.preventDefault.call(this);var e=this.R;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,it)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},st.prototype.Hf=function(){return this.R};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0,dt=function(e,t,n,r,i){this.listener=e,this.Mc=null,this.src=t,this.type=n,this.capture=!!r,this.vc=i,this.key=++lt,this.Bb=this.pc=!1},ht=function(e){e.Bb=!0,e.listener=null,e.Mc=null,e.src=null,e.vc=null},pt=function(e){this.src=e,this.I={},this.jc=0};pt.prototype.add=function(e,t,n,r,i){var o=""+e;(e=this.I[o])||(e=this.I[o]=[],this.jc++);var a=mt(e,t,r,i);return-1<a?(t=e[a],n||(t.pc=!1)):(t=new dt(t,this.src,o,!!r,i),t.pc=n,e.push(t)),t},pt.prototype.remove=function(e,t,n,r){if(!((e=""+e)in this.I))return!1;var i=this.I[e];return-1<(t=mt(i,t,n,r))&&(ht(i[t]),ae(i,t),0==i.length&&(delete this.I[e],this.jc--),!0)};var ft=function(e,t){var n=t.type;n in e.I&&oe(e.I[n],t)&&(ht(t),0==e.I[n].length&&(delete e.I[n],e.jc--))};pt.prototype.td=function(e,t,n,r){var i=-1;return(e=this.I[""+e])&&(i=mt(e,t,n,r)),-1<i?e[i]:null},pt.prototype.hasListener=function(e,t){var n=i(e),r=n?""+e:"",o=i(t);return me(this.I,function(e){for(var i=0;i<e.length;++i)if(!(n&&e[i].type!=r||o&&e[i].capture!=t))return!0;return!1})};var mt=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Bb&&o.listener==t&&o.capture==!!n&&o.vc==r)return i}return-1},gt="closure_lm_"+(1e6*Math.random()|0),yt={},vt=0,_t=function(e,t,n,r,i){if(r&&r.once)Mt(e,t,n,r,i);else if(l(t))for(var o=0;o<t.length;o++)_t(e,t[o],n,r,i);else n=At(n),e&&e[ct]?e.listen(t,n,p(r)?!!r.capture:!!r,i):bt(e,t,n,!1,r,i)},bt=function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=Dt(e);if(s||(e[gt]=s=new pt(e)),!(n=s.add(t,n,r,a,o)).Mc){if(r=wt(),n.Mc=r,r.src=e,r.listener=n,e.addEventListener)ot||(i=a),void 0===i&&(i=!1),e.addEventListener(""+t,r,i);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(Lt(""+t),r)}vt++}},wt=function(){var e=Et,t=rt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t},Mt=function(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)Mt(e,t[o],n,r,i);else n=At(n),e&&e[ct]?Cr(e,t,n,p(r)?!!r.capture:!!r,i):bt(e,t,n,!0,r,i)},Tt=function(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)Tt(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=At(n),e&&e[ct]?e.ga.remove(t+"",n,r,i):e&&(e=Dt(e))&&(t=e.td(t,n,r,i))&&St(t)},St=function(e){if("number"!=typeof e&&e&&!e.Bb){var t=e.src;if(t&&t[ct])ft(t.ga,e);else{var n=e.type,r=e.Mc;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(Lt(n),r),vt--,(n=Dt(t))?(ft(n,e),0==n.jc&&(n.src=null,t[gt]=null)):ht(e)}}},Lt=function(e){return e in yt?yt[e]:yt[e]="on"+e},kt=function(e,t,n,r){var i=!0;if((e=Dt(e))&&(t=e.I[""+t]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.Bb&&(o=Ct(o,r),i=i&&!1!==o)}return i},Ct=function(e,t){var n=e.listener,r=e.vc||e.src;return e.pc&&St(e),n.call(r,t)},Et=function(e,t){if(e.Bb)return!0;if(!rt){if(!t)e:{t=["window","event"];for(var n=r,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(i=t,t=new st(i,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=t.currentTarget;o;o=o.parentNode)i.push(o);for(e=e.type,o=i.length-1;!t.Wa&&0<=o;o--){t.currentTarget=i[o];var a=kt(i[o],e,!0,t);n=n&&a}for(o=0;!t.Wa&&o<i.length;o++)t.currentTarget=i[o],a=kt(i[o],e,!1,t),n=n&&a}return n}return Ct(e,new st(t,this))},Dt=function(e){return(e=e[gt])instanceof pt?e:null},It="__closure_events_fn_"+(1e9*Math.random()>>>0),At=function(e){return P(e,"Listener can not be null."),h(e)?e:(P(e.handleEvent,"An object listener must have handleEvent method."),e[It]||(e[It]=function(t){return e.handleEvent(t)}),e[It])},xt=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,Ot=function(){this.xa="",this.jf=Yt};Ot.prototype.qb=!0,Ot.prototype.ob=function(){return this.xa},Ot.prototype.toString=function(){return"SafeUrl{"+this.xa+"}"};var Nt=function(e){return e instanceof Ot&&e.constructor===Ot&&e.jf===Yt?e.xa:(R("expected object of type SafeUrl, got '"+e+"' of type "+u(e)),"type_error:SafeUrl")},Pt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Rt=function(e){return e instanceof Ot?e:(e=e.qb?e.ob():e+"",Pt.test(e)||(e="about:invalid#zClosurez"),Ft(e))},Yt={},Ft=function(e){var t=new Ot;return t.xa=e,t};Ft("about:blank");var jt=function(e){var t=[];return Ht(new Bt,e,t),t.join("")},Bt=function(){this.Nc=void 0},Ht=function(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(l(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),i=r[o],Ht(e,e.Nc?e.Nc.call(r,o+"",i):i,n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),o="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(i=t[r])&&(n.push(o),Wt(r,n),n.push(":"),Ht(e,e.Nc?e.Nc.call(t,r,i):i,n),o=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Wt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t+"":"null");break;case"boolean":n.push(t+"");break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}},Ut={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Vt=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Wt=function(e,t){t.push('"',e.replace(Vt,function(e){var t=Ut[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ut[e]=t),t}),'"')},qt=function(){};qt.prototype.je=null;var Gt,Kt=function(e){return e.je||(e.je=e.Cd())},zt=function(){};_(zt,qt),zt.prototype.rc=function(){var e=Qt(this);return e?new ActiveXObject(e):new XMLHttpRequest},zt.prototype.Cd=function(){var e={};return Qt(this)&&(e[0]=!0,e[1]=!0),e};var Qt=function(e){if(!e.Ee&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<4;n++){var r=t[n];try{return new ActiveXObject(r),e.Ee=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.Ee};Gt=new zt;var Jt=function(){};_(Jt,qt),Jt.prototype.rc=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new $t;throw Error("Unsupported browser")},Jt.prototype.Cd=function(){return{}};var $t=function(){this.oa=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.oa.onload=g(this.Lf,this),this.oa.onerror=g(this.ze,this),this.oa.onprogress=g(this.Mf,this),this.oa.ontimeout=g(this.Nf,this)};(e=$t.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.oa.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.oa.send(e)}else this.oa.send()},e.abort=function(){this.oa.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.oa.contentType:""},e.Lf=function(){this.status=200,this.responseText=this.oa.responseText,Xt(this,4)},e.ze=function(){this.status=500,this.responseText="",Xt(this,4)},e.Nf=function(){this.ze()},e.Mf=function(){this.status=200,Xt(this,1)};var Xt=function(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()};$t.prototype.getAllResponseHeaders=function(){return"content-type: "+this.oa.contentType};var Zt=function(e,t,n){this.Yf=n,this.wf=e,this.lg=t,this.Hc=0,this.wc=null};Zt.prototype.get=function(){if(0<this.Hc){this.Hc--;var e=this.wc;this.wc=e.next,e.next=null}else e=this.wf();return e},Zt.prototype.put=function(e){this.lg(e),this.Hc<this.Yf&&(this.Hc++,e.next=this.wc,this.wc=e)};var en,tn=function(e){r.setTimeout(function(){throw e},0)},nn=function(){var e=r.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=g(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},o=n;return t.port1.onmessage=function(){if(i(n.next)){var e=(n=n.next).me;n.me=null,e()}},function(e){o.next={me:e},o=o.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){r.setTimeout(e,0)}},rn=function(){this.bd=this.hb=null},on=new Zt(function(){return new an},function(e){e.reset()},100);rn.prototype.add=function(e,t){var n=on.get();n.set(e,t),this.bd?this.bd.next=n:(P(!this.hb),this.hb=n),this.bd=n},rn.prototype.remove=function(){var e=null;return this.hb&&(e=this.hb,this.hb=this.hb.next,this.hb||(this.bd=null),e.next=null),e};var an=function(){this.next=this.scope=this.rd=null};an.prototype.set=function(e,t){this.rd=e,this.scope=t,this.next=null},an.prototype.reset=function(){this.next=this.scope=this.rd=null};var sn,un=function(e,t){sn||cn(),ln||(sn(),ln=!0),dn.add(e,t)},cn=function(){if(-1!=(r.Promise+"").indexOf("[native code]")){var e=r.Promise.resolve(void 0);sn=function(){e.then(hn)}}else sn=function(){var e=hn;!h(r.setImmediate)||r.Window&&r.Window.prototype&&!pe("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(en||(en=nn()),en(e)):r.setImmediate(e)}},ln=!1,dn=new rn,hn=function(){for(var e;e=dn.remove();){try{e.rd.call(e.scope)}catch(e){tn(e)}on.put(e)}ln=!1},pn=function(e,t){var n=(n=e&&e.ownerDocument)&&(n.defaultView||n.parentWindow)||r;void 0!==n[t]&&void 0!==n.Location&&void 0!==n.Element&&(n=e&&(e instanceof n[t]||!(e instanceof n.Location||e instanceof n.Element)),e=p(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e,P(n,"Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,e))},fn=!Ce||9<=+Re;!Ie&&!Ce||Ce&&9<=+Re||Ie&&je("1.9.1"),Ce&&je("9");var mn=function(){this.xa="",this.hf=yn};mn.prototype.qb=!0,mn.prototype.ob=function(){return this.xa},mn.prototype.toString=function(){return"SafeHtml{"+this.xa+"}"};var gn=function(e){return e instanceof mn&&e.constructor===mn&&e.hf===yn?e.xa:(R("expected object of type SafeHtml, got '"+e+"' of type "+u(e)),"type_error:SafeHtml")},yn={};mn.prototype.Tf=function(e){return this.xa=e,this};var vn=function(e,t){pn(e,"HTMLScriptElement"),e.src=G(t)},_n=function(e){var t=document;return o(e)?t.getElementById(e):e},bn=function(e,t){fe(t,function(t,n){t&&t.qb&&(t=t.ob()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:wn.hasOwnProperty(n)?e.setAttribute(wn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})},wn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Mn=function(e,t,n){var r=arguments,i=document,a=r[0]+"",s=r[1];if(!fn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',T(s.name),'"'),s.type){a.push(' type="',T(s.type),'"');var u={};Me(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):bn(a,s)),2<r.length&&Tn(i,a,r),a},Tn=function(e,t,n){function r(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!d(a)||p(a)&&0<a.nodeType?r(a):Z(Sn(a)?ce(a):a,r)}},Sn=function(e){if(e&&"number"==typeof e.length){if(p(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1},Ln=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},kn=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}},Cn=function(e,t){if(this.aa=0,this.za=void 0,this.kb=this.ua=this.w=null,this.uc=this.pd=!1,e!=s)try{var n=this;e.call(t,function(e){Bn(n,2,e)},function(e){if(!(e instanceof Qn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Bn(n,3,e)})}catch(e){Bn(this,3,e)}},En=function(){this.next=this.context=this.tb=this.Ua=this.child=null,this.Hb=!1};En.prototype.reset=function(){this.context=this.tb=this.Ua=this.child=null,this.Hb=!1};var Dn=new Zt(function(){return new En},function(e){e.reset()},100),In=function(e,t,n){var r=Dn.get();return r.Ua=e,r.tb=t,r.context=n,r},An=function(e){if(e instanceof Cn)return e;var t=new Cn(s);return Bn(t,2,e),t},xn=function(e){return new Cn(function(t,n){n(e)})},On=function(e,t,n){Hn(e,t,n,null)||un(y(t,e))},Nn=function(e){return new Cn(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],On(o,y(a,u),s);else t(i)})},Pn=function(e){return new Cn(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Gf:!0,value:o}:{Gf:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],On(i,y(o,a,!0),y(o,a,!1));else t(r)})};Cn.prototype.then=function(e,t,n){return null!=e&&j(e,"opt_onFulfilled should be a function."),null!=t&&j(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),jn(this,h(e)?e:null,h(t)?t:null,n)},Ln(Cn);var Rn=function(e,t){return t=In(t,t,void 0),t.Hb=!0,Fn(e,t),e};Cn.prototype.g=function(e,t){return jn(this,null,e,t)},Cn.prototype.cancel=function(e){0==this.aa&&un(function(){var t=new Qn(e);Yn(this,t)},this)};var Yn=function(e,t){if(0==e.aa)if(e.w){var n=e.w;if(n.ua){for(var r=0,i=null,o=null,a=n.ua;a&&(a.Hb||(r++,a.child==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(0==n.aa&&1==r?Yn(n,t):(o?(r=o,P(n.ua),P(null!=r),r.next==n.kb&&(n.kb=r),r.next=r.next.next):Wn(n),qn(n,i,3,t)))}e.w=null}else Bn(e,3,t)},Fn=function(e,t){e.ua||2!=e.aa&&3!=e.aa||Vn(e),P(null!=t.Ua),e.kb?e.kb.next=t:e.ua=t,e.kb=t},jn=function(e,t,n,r){var o=In(null,null,null);return o.child=new Cn(function(e,a){o.Ua=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){a(e)}}:e,o.tb=n?function(t){try{var o=n.call(r,t);!i(o)&&t instanceof Qn?a(t):e(o)}catch(e){a(e)}}:a}),o.child.w=e,Fn(e,o),o.child};Cn.prototype.zg=function(e){P(1==this.aa),this.aa=0,Bn(this,2,e)},Cn.prototype.Ag=function(e){P(1==this.aa),this.aa=0,Bn(this,3,e)};var Bn=function(e,t,n){0==e.aa&&(e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.aa=1,Hn(n,e.zg,e.Ag,e)||(e.za=n,e.aa=t,e.w=null,Vn(e),3!=t||n instanceof Qn||Kn(e,n)))},Hn=function(e,t,n,r){if(e instanceof Cn)return null!=t&&j(t,"opt_onFulfilled should be a function."),null!=n&&j(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Fn(e,In(t||s,n||null,r)),!0;if(kn(e))return e.then(t,n,r),!0;if(p(e))try{var i=e.then;if(h(i))return Un(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1},Un=function(e,t,n,r,i){var o=!1,a=function(e){o||(o=!0,n.call(i,e))},s=function(e){o||(o=!0,r.call(i,e))};try{t.call(e,a,s)}catch(e){s(e)}},Vn=function(e){e.pd||(e.pd=!0,un(e.Bf,e))},Wn=function(e){var t=null;return e.ua&&(t=e.ua,e.ua=t.next,t.next=null),e.ua||(e.kb=null),null!=t&&P(null!=t.Ua),t};Cn.prototype.Bf=function(){for(var e;e=Wn(this);)qn(this,e,this.aa,this.za);this.pd=!1};var qn=function(e,t,n,r){if(3==n&&t.tb&&!t.Hb)for(;e&&e.uc;e=e.w)e.uc=!1;if(t.child)t.child.w=null,Gn(t,n,r);else try{t.Hb?t.Ua.call(t.context):Gn(t,n,r)}catch(e){zn.call(null,e)}Dn.put(t)},Gn=function(e,t,n){2==t?e.Ua.call(e.context,n):e.tb&&e.tb.call(e.context,n)},Kn=function(e,t){e.uc=!0,un(function(){e.uc&&zn.call(null,t)})},zn=tn,Qn=function(e){b.call(this,e)};_(Qn,b),Qn.prototype.name="cancel";var Jn=function(e,t){this.Qc=[],this.Ne=e,this.re=t||null,this.Pb=this.nb=!1,this.za=void 0,this.be=this.he=this.fd=!1,this.Yc=0,this.w=null,this.gd=0};Jn.prototype.cancel=function(e){if(this.nb)this.za instanceof Jn&&this.za.cancel();else{if(this.w){var t=this.w;delete this.w,e?t.cancel(e):0>=--t.gd&&t.cancel()}this.Ne?this.Ne.call(this.re,this):this.be=!0,this.nb||Zn(this,new ar)}},Jn.prototype.oe=function(e,t){this.fd=!1,$n(this,e,t)};var $n=function(e,t,n){e.nb=!0,e.za=n,e.Pb=!t,ir(e)},Xn=function(e){if(e.nb){if(!e.be)throw new or;e.be=!1}};Jn.prototype.callback=function(e){Xn(this),er(e),$n(this,!0,e)};var Zn=function(e,t){Xn(e),er(t),$n(e,!1,t)},er=function(e){P(!(e instanceof Jn),"An execution sequence may not be initiated with a blocking Deferred.")},tr=function(e,t){nr(e,null,t,void 0)},nr=function(e,t,n,r){P(!e.he,"Blocking Deferreds can not be re-used"),e.Qc.push([t,n,r]),e.nb&&ir(e)};Jn.prototype.then=function(e,t,n){var r,i,o=new Cn(function(e,t){r=e,i=t});return nr(this,r,function(e){e instanceof ar?o.cancel():i(e)}),o.then(e,t,n)},Ln(Jn);var rr=function(e){return ne(e.Qc,function(e){return h(e[1])})},ir=function(e){if(e.Yc&&e.nb&&rr(e)){var t=e.Yc,n=ur[t];n&&(r.clearTimeout(n.Qb),delete ur[t]),e.Yc=0}e.w&&(e.w.gd--,delete e.w),t=e.za;for(var o=n=!1;e.Qc.length&&!e.fd;){var a=e.Qc.shift(),s=a[0],u=a[1];if(a=a[2],s=e.Pb?u:s)try{var c=s.call(a||e.re,t);i(c)&&(e.Pb=e.Pb&&(c==t||c instanceof Error),e.za=t=c),(kn(t)||"function"==typeof r.Promise&&t instanceof r.Promise)&&(o=!0,e.fd=!0)}catch(r){t=r,e.Pb=!0,rr(e)||(n=!0)}}e.za=t,o&&(c=g(e.oe,e,!0),o=g(e.oe,e,!1),t instanceof Jn?(nr(t,c,o),t.he=!0):t.then(c,o)),n&&(t=new sr(t),ur[t.Qb]=t,e.Yc=t.Qb)},or=function(){b.call(this)};_(or,b),or.prototype.message="Deferred has already fired",or.prototype.name="AlreadyCalledError";var ar=function(){b.call(this)};_(ar,b),ar.prototype.message="Deferred was canceled",ar.prototype.name="CanceledError";var sr=function(e){this.Qb=r.setTimeout(g(this.yg,this),0),this.ba=e};sr.prototype.yg=function(){throw P(ur[this.Qb],"Cannot throw an error that is not scheduled."),delete ur[this.Qb],this.ba};var ur={},cr=function(e){var t={},n=t.document||document,r=G(e),i=document.createElement("SCRIPT"),o={We:i,ic:void 0},a=new Jn(dr,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){hr(i,!0),Zn(a,new pr(1,"Timeout reached for loading script "+r))},u),o.ic=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(hr(i,t.Pg||!1,s),a.callback(null))},i.onerror=function(){hr(i,!0,s),Zn(a,new pr(0,"Error while loading script "+r))},o=t.attributes||{},Me(o,{type:"text/javascript",charset:"UTF-8"}),bn(i,o),vn(i,e),lr(n).appendChild(i),a},lr=function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement},dr=function(){if(this&&this.We){var e=this.We;e&&"SCRIPT"==e.tagName&&hr(e,!0,this.ic)}},hr=function(e,t,n){null!=n&&r.clearTimeout(n),e.onload=s,e.onerror=s,e.onreadystatechange=s,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)},pr=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),b.call(this,n),this.code=e};_(pr,b);var fr=function(e,t,n,r,i){this.reset(e,t,n,r,i)};fr.prototype.te=null;var mr=0;fr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||mr++,r||v(),this.Vb=e,delete this.te},fr.prototype.Xe=function(e){this.Vb=e};var gr=function(e){this.Le=e,this.Ae=this.kd=this.Vb=this.w=null},yr=function(e,t){this.name=e,this.value=t};yr.prototype.toString=function(){return this.name};var vr=new yr("SEVERE",1e3),_r=new yr("INFO",800),br=new yr("CONFIG",700),wr=new yr("FINE",500);gr.prototype.getName=function(){return this.Le},gr.prototype.getParent=function(){return this.w},gr.prototype.Xe=function(e){this.Vb=e};var Mr=function(e){return e.Vb?e.Vb:e.w?Mr(e.w):(R("Root logger has no level set."),null)};gr.prototype.log=function(e,t,n){if(e.value>=Mr(this).value)for(h(t)&&(t=t()),e=new fr(e,t+"",this.Le),n&&(e.te=n),n=this;n;){var r=n,i=e;if(r.Ae)for(var o=0;t=r.Ae[o];o++)t(i);n=n.getParent()}},gr.prototype.info=function(e,t){this.log(_r,e,t)},gr.prototype.config=function(e,t){this.log(br,e,t)};var Tr={},Sr=null,Lr=function(e){Sr||(Sr=new gr(""),Tr[""]=Sr,Sr.Xe(br));var t;if(!(t=Tr[e])){t=new gr(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Lr(e.substr(0,n))).kd||(n.kd={}),n.kd[r]=t,t.w=n,Tr[e]=t}return t},kr=function(){nt.call(this),this.ga=new pt(this),this.nf=this,this.Kd=null};_(kr,nt),kr.prototype[ct]=!0,(e=kr.prototype).addEventListener=function(e,t,n,r){_t(this,e,t,n,r)},e.removeEventListener=function(e,t,n,r){Tt(this,e,t,n,r)},e.dispatchEvent=function(e){Dr(this);var t=this.Kd;if(t)for(var n=[],r=1;t;t=t.Kd)n.push(t),P(1e3>++r,"infinite loop");if(t=this.nf,r=e.type||e,o(e))e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;e=new at(r,t),Me(e,i)}if(i=!0,n)for(var a=n.length-1;!e.Wa&&0<=a;a--){var s=e.currentTarget=n[a];i=Er(s,r,!0,e)&&i}if(e.Wa||(s=e.currentTarget=t,i=Er(s,r,!0,e)&&i,e.Wa||(i=Er(s,r,!1,e)&&i)),n)for(a=0;!e.Wa&&a<n.length;a++)s=e.currentTarget=n[a],i=Er(s,r,!1,e)&&i;return i},e.lb=function(){if(kr.Uc.lb.call(this),this.ga){var e,t=this.ga;for(e in t.I){for(var n=t.I[e],r=0;r<n.length;r++)0,ht(n[r]);delete t.I[e],t.jc--}}this.Kd=null},e.listen=function(e,t,n,r){return Dr(this),this.ga.add(e+"",t,!1,n,r)};var Cr=function(e,t,n,r,i){e.ga.add(t+"",n,!0,r,i)},Er=function(e,t,n,r){if(!(t=e.ga.I[t+""]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Bb&&a.capture==n){var s=a.listener,u=a.vc||a.src;a.pc&&ft(e.ga,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ue};kr.prototype.td=function(e,t,n,r){return this.ga.td(e+"",t,n,r)},kr.prototype.hasListener=function(e,t){return this.ga.hasListener(i(e)?e+"":void 0,t)};var Dr=function(e){P(e.ga,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Ir="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Ar=function(){};Ar.prototype.next=function(){throw Ir},Ar.prototype.mf=function(){return this};var xr=function(e,t){e&&e.log(wr,t,void 0)},Or=function(e,t){this.ja={},this.C=[],this.gb=this.u=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)};(e=Or.prototype).ha=function(){Nr(this);for(var e=[],t=0;t<this.C.length;t++)e.push(this.ja[this.C[t]]);return e},e.va=function(){return Nr(this),this.C.concat()},e.Jb=function(e){return Pr(this.ja,e)},e.clear=function(){this.ja={},this.gb=this.u=this.C.length=0},e.remove=function(e){return!!Pr(this.ja,e)&&(delete this.ja[e],this.u--,this.gb++,this.C.length>2*this.u&&Nr(this),!0)};var Nr=function(e){if(e.u!=e.C.length){for(var t=0,n=0;t<e.C.length;){var r=e.C[t];Pr(e.ja,r)&&(e.C[n++]=r),t++}e.C.length=n}if(e.u!=e.C.length){var i={};for(n=t=0;t<e.C.length;)r=e.C[t],Pr(i,r)||(e.C[n++]=r,i[r]=1),t++;e.C.length=n}};(e=Or.prototype).get=function(e,t){return Pr(this.ja,e)?this.ja[e]:t},e.set=function(e,t){Pr(this.ja,e)||(this.u++,this.C.push(e),this.gb++),this.ja[e]=t},e.addAll=function(e){if(e instanceof Or){var t=e.va();e=e.ha()}else t=ye(e),e=ge(e);for(var n=0;n<t.length;n++)this.set(t[n],e[n])},e.forEach=function(e,t){for(var n=this.va(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.clone=function(){return new Or(this)},e.mf=function(e){Nr(this);var t=0,n=this.gb,r=this,i=new Ar;return i.next=function(){if(n!=r.gb)throw Error("The map has changed since the iterator was created");if(t>=r.C.length)throw Ir;var i=r.C[t++];return e?i:r.ja[i]},i};var Pr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Rr=function(e){if(e.ha&&"function"==typeof e.ha)return e.ha();if(o(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return ge(e)},Yr=function(e){if(e.va&&"function"==typeof e.va)return e.va();if(!e.ha||"function"!=typeof e.ha){if(d(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return ye(e)}},Fr=function(e,t,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,n);else if(d(e)||o(e))Z(e,t,n);else for(var r=Yr(e),i=Rr(e),a=i.length,s=0;s<a;s++)t.call(n,i[s],r&&r[s],e)},jr=function(e,t,n){if(h(e))n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<+t?-1:r.setTimeout(e,t||0)},Br=function(e){var t=null;return new Cn(function(n,r){-1==(t=jr(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).g(function(e){throw r.clearTimeout(t),e})},Hr=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Ur=function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}},Vr=function(e){kr.call(this),this.headers=new Or,this.dd=e||null,this.Ca=!1,this.cd=this.b=null,this.Ub=this.Ke=this.Ec="",this.Qa=this.zd=this.zc=this.od=!1,this.Db=0,this.Vc=null,this.Oc="",this.Zc=this.hg=this.gf=!1};_(Vr,kr);var Wr=Vr.prototype,qr=Lr("goog.net.XhrIo");Wr.T=qr;var Gr=/^https?$/i,Kr=["POST","PUT"];Vr.prototype.send=function(e,t,n,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Ec+"; newUri="+e);t=t?t.toUpperCase():"GET",this.Ec=e,this.Ub="",this.Ke=t,this.od=!1,this.Ca=!0,this.b=this.dd?this.dd.rc():Gt.rc(),this.cd=Kt(this.dd?this.dd:Gt),this.b.onreadystatechange=g(this.Re,this),this.hg&&"onprogress"in this.b&&(this.b.onprogress=g(function(e){this.Qe(e,!0)},this),this.b.upload&&(this.b.upload.onprogress=g(this.Qe,this)));try{xr(this.T,ii(this,"Opening Xhr")),this.zd=!0,this.b.open(t,e+"",!0),this.zd=!1}catch(e){return xr(this.T,ii(this,"Error opening Xhr: "+e.message)),void this.ba(5,e)}e=n||"";var o=this.headers.clone();i&&Fr(i,function(e,t){o.set(t,e)}),i=re(o.va()),n=r.FormData&&e instanceof r.FormData,!ie(Kr,t)||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.b.setRequestHeader(t,e)},this),this.Oc&&(this.b.responseType=this.Oc),"withCredentials"in this.b&&this.b.withCredentials!==this.gf&&(this.b.withCredentials=this.gf);try{ei(this),0<this.Db&&(this.Zc=zr(this.b),xr(this.T,ii(this,"Will abort after "+this.Db+"ms if incomplete, xhr2 "+this.Zc)),this.Zc?(this.b.timeout=this.Db,this.b.ontimeout=g(this.ic,this)):this.Vc=jr(this.ic,this.Db,this)),xr(this.T,ii(this,"Sending request")),this.zc=!0,this.b.send(e),this.zc=!1}catch(e){xr(this.T,ii(this,"Send error: "+e.message)),this.ba(5,e)}};var zr=function(e){return Ce&&je(9)&&"number"==typeof e.timeout&&i(e.ontimeout)},Qr=function(e){return"content-type"==e.toLowerCase()};Vr.prototype.ic=function(){void 0!==n&&this.b&&(this.Ub="Timed out after "+this.Db+"ms, aborting",xr(this.T,ii(this,this.Ub)),this.dispatchEvent("timeout"),this.abort(8))},Vr.prototype.ba=function(e,t){this.Ca=!1,this.b&&(this.Qa=!0,this.b.abort(),this.Qa=!1),this.Ub=t,Jr(this),Zr(this)};var Jr=function(e){e.od||(e.od=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))};Vr.prototype.abort=function(){this.b&&this.Ca&&(xr(this.T,ii(this,"Aborting")),this.Ca=!1,this.Qa=!0,this.b.abort(),this.Qa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Zr(this))},Vr.prototype.lb=function(){this.b&&(this.Ca&&(this.Ca=!1,this.Qa=!0,this.b.abort(),this.Qa=!1),Zr(this,!0)),Vr.Uc.lb.call(this)},Vr.prototype.Re=function(){this.isDisposed()||(this.zd||this.zc||this.Qa?$r(this):this.dg())},Vr.prototype.dg=function(){$r(this)};var $r=function(e){if(e.Ca&&void 0!==n)if(e.cd[1]&&4==ti(e)&&2==ni(e))xr(e.T,ii(e,"Local request error detected and ignored"));else if(e.zc&&4==ti(e))jr(e.Re,0,e);else if(e.dispatchEvent("readystatechange"),4==ti(e)){xr(e.T,ii(e,"Request complete")),e.Ca=!1;try{var t=ni(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var a;if(a=0===t){var s=(e.Ec+"").match(Hr)[1]||null;if(!s&&r.self&&r.self.location){var u=r.self.location.protocol;s=u.substr(0,u.length-1)}a=!Gr.test(s?s.toLowerCase():"")}o=a}if(o)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ti(e)?e.b.statusText:""}catch(t){xr(e.T,"Can not get status: "+t.message),c=""}e.Ub=c+" ["+ni(e)+"]",Jr(e)}}finally{Zr(e)}}};Vr.prototype.Qe=function(e,t){P("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Xr(e,"progress")),this.dispatchEvent(Xr(e,t?"downloadprogress":"uploadprogress"))};var Xr=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},Zr=function(e,t){if(e.b){ei(e);var n=e.b,r=e.cd[0]?s:null;e.b=null,e.cd=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.T)&&e.log(vr,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},ei=function(e){e.b&&e.Zc&&(e.b.ontimeout=null),e.Vc&&(r.clearTimeout(e.Vc),e.Vc=null)},ti=function(e){return e.b?e.b.readyState:0},ni=function(e){try{return 2<ti(e)?e.b.status:-1}catch(e){return-1}},ri=function(e){try{return e.b?e.b.responseText:""}catch(t){return xr(e.T,"Can not get responseText: "+t.message),""}};Vr.prototype.getResponse=function(){try{if(!this.b)return null;if("response"in this.b)return this.b.response;switch(this.Oc){case"":case"text":return this.b.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.b)return this.b.mozResponseArrayBuffer}var e=this.T;return e&&e.log(vr,"Response type "+this.Oc+" is not supported on this browser",void 0),null}catch(e){return xr(this.T,"Can not get response: "+e.message),null}},Vr.prototype.getResponseHeader=function(e){if(this.b&&4==ti(this))return null===(e=this.b.getResponseHeader(e))?void 0:e},Vr.prototype.getAllResponseHeaders=function(){return this.b&&4==ti(this)?this.b.getAllResponseHeaders():""};var ii=function(e,t){return t+" ["+e.Ke+" "+e.Ec+" "+ni(e)+"]"},oi=function(e,t){if(this.pa=this.eb=this.qa="",this.vb=null,this.Pa=this.Ga="",this.da=this.Xf=!1,e instanceof oi){this.da=i(t)?t:e.da,ai(this,e.qa);var n=e.eb;pi(this),this.eb=n,si(this,e.pa),ui(this,e.vb),ci(this,e.Ga),li(this,e.ea.clone()),e=e.Pa,pi(this),this.Pa=e}else e&&(n=(e+"").match(Hr))?(this.da=!!t,ai(this,n[1]||"",!0),e=n[2]||"",pi(this),this.eb=gi(e),si(this,n[3]||"",!0),ui(this,n[4]),ci(this,n[5]||"",!0),li(this,n[6]||"",!0),e=n[7]||"",pi(this),this.Pa=gi(e)):(this.da=!!t,this.ea=new Si(null,0,this.da))};oi.prototype.toString=function(){var e=[],t=this.qa;t&&e.push(yi(t,_i,!0),":");var n=this.pa;return(n||"file"==t)&&(e.push("//"),(t=this.eb)&&e.push(yi(t,_i,!0),"@"),e.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.vb)&&e.push(":",n+"")),(n=this.Ga)&&(this.pa&&"/"!=n.charAt(0)&&e.push("/"),e.push(yi(n,"/"==n.charAt(0)?wi:bi,!0))),(n=""+this.ea)&&e.push("?",n),(n=this.Pa)&&e.push("#",yi(n,Ti)),e.join("")},oi.prototype.resolve=function(e){var t=this.clone(),n=!!e.qa;if(n?ai(t,e.qa):n=!!e.eb,n){var r=e.eb;pi(t),t.eb=r}else n=!!e.pa;if(n?si(t,e.pa):n=null!=e.vb,r=e.Ga,n)ui(t,e.vb);else if(n=!!e.Ga){if("/"!=r.charAt(0))if(this.pa&&!this.Ga)r="/"+r;else{var i=t.Ga.lastIndexOf("/");-1!=i&&(r=t.Ga.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(A(i,"./")||A(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?ci(t,r):n=""!=""+e.ea,n?li(t,e.ea.clone()):n=!!e.Pa,n&&(e=e.Pa,pi(t),t.Pa=e),t},oi.prototype.clone=function(){return new oi(this)};var ai=function(e,t,n){pi(e),e.qa=n?gi(t,!0):t,e.qa&&(e.qa=e.qa.replace(/:$/,""))},si=function(e,t,n){pi(e),e.pa=n?gi(t,!0):t},ui=function(e,t){if(pi(e),t){if(t=+t,isNaN(t)||0>t)throw Error("Bad port number "+t);e.vb=t}else e.vb=null},ci=function(e,t,n){pi(e),e.Ga=n?gi(t,!0):t},li=function(e,t,n){pi(e),t instanceof Si?(e.ea=t,e.ea.$d(e.da)):(n||(t=yi(t,Mi)),e.ea=new Si(t,0,e.da))},di=function(e,t,n){pi(e),e.ea.set(t,n)},hi=function(e,t){return e.ea.get(t)};oi.prototype.removeParameter=function(e){return pi(this),this.ea.remove(e),this};var pi=function(e){if(e.Xf)throw Error("Tried to modify a read-only Uri")};oi.prototype.$d=function(e){return this.da=e,this.ea&&this.ea.$d(e),this};var fi=function(e){return e instanceof oi?e.clone():new oi(e,void 0)},mi=function(e,t){var n=new oi(null,void 0);return ai(n,"https"),e&&si(n,e),t&&ci(n,t),n},gi=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},yi=function(e,t,n){return o(e)?(e=encodeURI(e).replace(t,vi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},vi=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},_i=/[#\/\?@]/g,bi=/[#\?:]/g,wi=/[#\?]/g,Mi=/[#\?@]/g,Ti=/#/g,Si=function(e,t,n){this.u=this.s=null,this.X=e||null,this.da=!!n},Li=function(e){e.s||(e.s=new Or,e.u=0,e.X&&Ur(e.X,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))},ki=function(e){var t=Yr(e);if(void 0===t)throw Error("Keys are undefined");var n=new Si(null,0,void 0);e=Rr(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];l(o)?Ci(n,i,o):n.add(i,o)}return n};(e=Si.prototype).add=function(e,t){Li(this),this.X=null,e=this.ca(e);var n=this.s.get(e);return n||this.s.set(e,n=[]),n.push(t),this.u=Y(this.u)+1,this},e.remove=function(e){return Li(this),e=this.ca(e),!!this.s.Jb(e)&&(this.X=null,this.u=Y(this.u)-this.s.get(e).length,this.s.remove(e))},e.clear=function(){this.s=this.X=null,this.u=0},e.Jb=function(e){return Li(this),e=this.ca(e),this.s.Jb(e)},e.forEach=function(e,t){Li(this),this.s.forEach(function(n,r){Z(n,function(n){e.call(t,n,r,this)},this)},this)},e.va=function(){Li(this);for(var e=this.s.ha(),t=this.s.va(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.ha=function(e){Li(this);var t=[];if(o(e))this.Jb(e)&&(t=ue(t,this.s.get(this.ca(e))));else{e=this.s.ha();for(var n=0;n<e.length;n++)t=ue(t,e[n])}return t},e.set=function(e,t){return Li(this),this.X=null,e=this.ca(e),this.Jb(e)&&(this.u=Y(this.u)-this.s.get(e).length),this.s.set(e,[t]),this.u=Y(this.u)+1,this},e.get=function(e,t){return 0<(e=e?this.ha(e):[]).length?e[0]+"":t};var Ci=function(e,t,n){e.remove(t),0<n.length&&(e.X=null,e.s.set(e.ca(t),ce(n)),e.u=Y(e.u)+n.length)};(e=Si.prototype).toString=function(){if(this.X)return this.X;if(!this.s)return"";for(var e=[],t=this.s.va(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(r+"");r=this.ha(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(r[o]+"")),e.push(a)}}return this.X=e.join("&")},e.clone=function(){var e=new Si;return e.X=this.X,this.s&&(e.s=this.s.clone(),e.u=this.u),e},e.ca=function(e){return e+="",this.da&&(e=e.toLowerCase()),e},e.$d=function(e){e&&!this.da&&(Li(this),this.X=null,this.s.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),Ci(this,n,e))},this)),this.da=e},e.extend=function(e){for(var t=0;t<arguments.length;t++)Fr(arguments[t],function(e,t){this.add(t,e)},this)};var Ei,Di={Kg:{qd:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Wd:"https://securetoken.googleapis.com/v1/token",id:"p"},Lg:{qd:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Wd:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Mg:{qd:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Wd:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}},Ii=function(e){for(var t in Di)if(Di[t].id===e)return e=Di[t],{firebaseEndpoint:e.qd,secureTokenEndpoint:e.Wd};return null};Ei=Ii("__EID__")?"__EID__":void 0;var Ai=function(){var e=Ji();return Ce&&!!Re&&11==Re||/Edge\/\d+/.test(e)},xi=function(){return r.window&&r.window.location.href||""},Oi=function(e,t){t=t||r.window;var n="about:blank";e&&(n=Nt(Rt(e))),t.location.href=n},Ni=function(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):l(e[n])?_e(e[n],t[n])||r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Ni(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r},Pi=function(){var e=Ji();return!((e="Chrome"!=Ki(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ce&&Re&&!(9<Re))},Ri=function(e){return!!((e=(e||Ji()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))},Yi=function(e){e=e||r.window;try{e.close()}catch(e){}},Fi=function(e,t,n){var r=""+Math.floor(1e9*Math.random());t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ji().toLowerCase(),r&&(t.target=r,A(n,"crios/")&&(t.target="_blank")),"Firefox"==Ki(Ji())&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ot?n:Rt(void 0!==n.href?n.href:n+""),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),pn(a,"HTMLAnchorElement"),t instanceof Ot||t instanceof Ot||(t=t.qb?t.ob():t+"",P(Pt.test(t))||(t="about:invalid#zClosurez"),t=Ft(t)),a.href=Nt(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),r=Nt(t),a&&(De&&A(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),a.opener=null,e=V("b/12014412, meta tag with sanitized URL"),r='<META HTTP-EQUIV="refresh" content="0; url='+T(r)+'">',F(H(e),"must provide justification"),P(!/^[\s\xa0]*$/.test(H(e)),"must provide non-empty justification"),a.document.write(gn((new mn).Tf(r))),a.document.close())):(a=r.open(Nt(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a},ji=function(e){return new Cn(function(t){var n=function(){Br(2e3).then(function(){if(e&&!e.closed)return n();t()})};return n()})},Bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hi=function(){var e=null;return new Cn(function(t){"complete"==r.document.readyState?t():(e=function(){t()},Mt(window,"load",e))}).g(function(t){throw Tt(window,"load",e),t})},Ui=function(){return Vi(void 0)?Hi().then(function(){return new Cn(function(e,t){var n=r.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):xn(Error("Cordova must run in an Android or iOS file scheme."))},Vi=function(e){return e=e||Ji(),!("file:"!==to()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))},Wi=function(){var e=r.window;try{return!(!e||e==e.top)}catch(e){return!1}},qi=function(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Gi=function(){var e=qi();return"ReactNative"===e||"Node"===e},Ki=function(e){var t=e.toLowerCase();return A(t,"opera/")||A(t,"opr/")||A(t,"opios/")?"Opera":A(t,"iemobile")?"IEMobile":A(t,"msie")||A(t,"trident/")?"IE":A(t,"edge/")?"Edge":A(t,"firefox/")?"Firefox":A(t,"silk/")?"Silk":A(t,"blackberry")?"Blackberry":A(t,"webos")?"Webos":!A(t,"safari/")||A(t,"chrome/")||A(t,"crios/")||A(t,"android")?!A(t,"chrome/")&&!A(t,"crios/")||A(t,"edge/")?A(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"},zi={Fg:"FirebaseCore-web",Hg:"FirebaseUI-web"},Qi=function(e,t){t=t||[];var n,r=[],i={};for(n in zi)i[zi[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),("Browser"===(r=qi())?Ki(Ji()):r)+"/JsCore/"+e+"/"+t.join(",")},Ji=function(){return r.navigator&&r.navigator.userAgent||""},$i=function(e,t){e=e.split("."),t=t||r;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t},Xi=function(){try{var e=r.localStorage,t=ao();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ai()||!!r.indexedDB}catch(e){}return!1},Zi=function(){return(eo()||"chrome-extension:"===to()||Vi())&&!Gi()&&Xi()},eo=function(){return"http:"===to()||"https:"===to()},to=function(){return r.location&&r.location.protocol||null},no=function(e){return e=e||Ji(),!Ri(e)&&"Firefox"!=Ki(e)},ro=function(e){return void 0===e?null:jt(e)},io=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n},oo=function(e){if(null!==e)return JSON.parse(e)},ao=function(e){return e||""+Math.floor(1e9*Math.random())},so=function(e){return e=e||Ji(),"Safari"!=Ki(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)},uo=function(){var e=r.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null},co=function(){var e=r.navigator;return!e||"boolean"!=typeof e.onLine||!eo()&&"chrome-extension:"!==to()&&void 0===e.connection||e.onLine},lo=function(e,t,n,r){if(e>t)throw Error("Short delay should be less than long delay!");this.ug=e,this.ag=t,e=n||Ji(),r=r||qi(),this.Wf=Ri(e)||"ReactNative"===r};lo.prototype.get=function(){return this.Wf?this.ag:this.ug};var ho,po=function(){var e=r.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState},fo=function(){var e=r.document,t=null;return po()||!e?An():new Cn(function(n){t=function(){po()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).g(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})},mo=function(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null},go={};try{var yo={};Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:2}),ho=2==yo.abcd}catch(e){ho=!1}var vo=function(e,t,n){ho?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n},_o=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&vo(e,n,t[n])},bo=function(e){var t={};return _o(t,e),t},wo=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},Mo=function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0},To=function(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)vo(t,n,To(e[n]))}return t},So="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Lo=["client_id","response_type","scope","redirect_uri","state"],ko={Gg:{Dc:"locale",Zb:500,Yb:600,providerId:"facebook.com",Ud:Lo},Ig:{Dc:null,Zb:500,Yb:620,providerId:"github.com",Ud:Lo},Jg:{Dc:"hl",Zb:515,Yb:680,providerId:"google.com",Ud:Lo},Ng:{Dc:"lang",Zb:485,Yb:705,providerId:"twitter.com",Ud:So}},Co=function(e){for(var t in ko)if(ko[t].providerId==e)return ko[t];return null},Eo=function(e,t){this.code="auth/"+e,this.message=t||Io[e]||""};_(Eo,Error),Eo.prototype.A=function(){return{code:this.code,message:this.message}},Eo.prototype.toJSON=function(){return this.A()};var Do=function(e){var t=e&&e.code;return t?new Eo(t.substring(5),e.message):null},Io={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ao=function(e,t,n,r,i){if(this.ma=e,this.Y=t||null,this.Eb=n||null,this.Yd=r||null,this.ba=i||null,!this.Eb&&!this.ba)throw new Eo("invalid-auth-event");if(this.Eb&&this.ba)throw new Eo("invalid-auth-event");if(this.Eb&&!this.Yd)throw new Eo("invalid-auth-event")};Ao.prototype.tc=function(){return this.Yd},Ao.prototype.getError=function(){return this.ba},Ao.prototype.A=function(){return{type:this.ma,eventId:this.Y,urlResponse:this.Eb,sessionId:this.Yd,error:this.ba&&this.ba.A()}};var xo=function(e){return(e=e||{}).type?new Ao(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Do(e.error)):null},Oo=function(e){var t="unauthorized-domain",n=void 0,r=fi(e);e=r.pa,"chrome-extension"==(r=r.qa)?n=w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Eo.call(this,t,n)};_(Oo,Eo);var No=function(e){this.Zf=e.sub,v(),this.Mb=e.email||null,this.Rd=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.qf=!!e.is_anonymous||"anonymous"==this.Rd};No.prototype.getEmail=function(){return this.Mb},No.prototype.isAnonymous=function(){return this.qf};var Po=function(e){if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=JSON.parse(We(e));if(r.sub&&r.iss&&r.aud&&r.exp)return new No(r)}catch(e){}return null},Ro=function(e,t){return e.then(function(e){if(e.idToken){var n=Po(e.idToken);if(!n||t!=n.Zf)throw new Eo("user-mismatch");return e}throw new Eo("user-mismatch")}).g(function(e){throw e&&e.code&&"auth/user-not-found"==e.code?new Eo("user-mismatch"):e})},Yo=function(e,t){if(t.idToken||t.accessToken)t.idToken&&vo(this,"idToken",t.idToken),t.accessToken&&vo(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Eo("internal-error","failed to construct a credential");vo(this,"accessToken",t.oauthToken),vo(this,"secret",t.oauthTokenSecret)}vo(this,"providerId",e)};Yo.prototype.Ob=function(e){return Ia(e,Fo(this))},Yo.prototype.Fc=function(e,t){var n=Fo(this);return n.idToken=t,Aa(e,n)},Yo.prototype.Gd=function(e,t){var n=Fo(this);return Ro(xa(e,n),t)};var Fo=function(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:""+ki(t),requestUri:"http://localhost"}};Yo.prototype.A=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e};var jo=function(e,t){this.kg=t||[],_o(this,{providerId:e,isOAuthProvider:!0}),this.qe={},this.Ed=(Co(e)||{}).Dc||null,this.nd=null};jo.prototype.setCustomParameters=function(e){return this.qe=be(e),this};var Bo=function(e){jo.call(this,e,Lo),this.Vd=[]};_(Bo,jo),Bo.prototype.addScope=function(e){return ie(this.Vd,e)||this.Vd.push(e),this},Bo.prototype.ye=function(){return ce(this.Vd)},Bo.prototype.credential=function(e,t){if(!e&&!t)throw new Eo("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yo(this.providerId,{idToken:e||null,accessToken:t||null})};var Ho=function(){Bo.call(this,"facebook.com")};_(Ho,Bo),vo(Ho,"PROVIDER_ID","facebook.com");var Uo=function(e){if(!e)throw new Eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new Ho).credential(null,t)},Vo=function(){Bo.call(this,"github.com")};_(Vo,Bo),vo(Vo,"PROVIDER_ID","github.com");var Wo=function(e){if(!e)throw new Eo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new Vo).credential(null,t)},qo=function(){Bo.call(this,"google.com"),this.addScope("profile")};_(qo,Bo),vo(qo,"PROVIDER_ID","google.com");var Go=function(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new qo).credential(n,t)},Ko=function(){jo.call(this,"twitter.com",So)};_(Ko,jo),vo(Ko,"PROVIDER_ID","twitter.com");var zo=function(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Eo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yo("twitter.com",n)},Qo=function(e,t){this.Mb=e,this.Ld=t,vo(this,"providerId","password")};Qo.prototype.Ob=function(e){return is(e,es,{email:this.Mb,password:this.Ld})},Qo.prototype.Fc=function(e,t){return is(e,za,{idToken:t,email:this.Mb,password:this.Ld})},Qo.prototype.Gd=function(e,t){return Ro(this.Ob(e),t)},Qo.prototype.A=function(){return{email:this.Mb,password:this.Ld}};var Jo=function(){_o(this,{providerId:"password",isOAuthProvider:!1})};_o(Jo,{PROVIDER_ID:"password"});var $o=function(e){if(!(e.verificationId&&e.$c||e.hc&&e.phoneNumber))throw new Eo("internal-error");this.U=e,vo(this,"providerId","phone")};$o.prototype.Ob=function(e){return e.verifyPhoneNumber(Xo(this))},$o.prototype.Fc=function(e,t){var n=Xo(this);return n.idToken=t,is(e,ns,n)},$o.prototype.Gd=function(e,t){var n=Xo(this);return n.operation="REAUTH",e=is(e,rs,n),Ro(e,t)},$o.prototype.A=function(){var e={providerId:"phone"};return this.U.verificationId&&(e.verificationId=this.U.verificationId),this.U.$c&&(e.verificationCode=this.U.$c),this.U.hc&&(e.temporaryProof=this.U.hc),this.U.phoneNumber&&(e.phoneNumber=this.U.phoneNumber),e};var Xo=function(e){return e.U.hc&&e.U.phoneNumber?{temporaryProof:e.U.hc,phoneNumber:e.U.phoneNumber}:{sessionInfo:e.U.verificationId,code:e.U.$c}},Zo=function(e){try{this.tf=e||t.auth()}catch(e){throw new Eo("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}_o(this,{providerId:"phone",isOAuthProvider:!1})};Zo.prototype.verifyPhoneNumber=function(e,t){var n=this.tf.f;return An(t.verify()).then(function(r){if(!o(r))throw new Eo("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return is(n,Ga,{phoneNumber:e,recaptchaToken:r});default:throw new Eo("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};var ea=function(e,t){if(!e)throw new Eo("missing-verification-id");if(!t)throw new Eo("missing-verification-code");return new $o({verificationId:e,$c:t})};_o(Zo,{PROVIDER_ID:"phone"});var ta=function(e){if(e.temporaryProof&&e.phoneNumber)return new $o({hc:e.temporaryProof,phoneNumber:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Go(e,n);case"facebook.com":return Uo(n);case"github.com":return Wo(n);case"twitter.com":return zo(n,r);default:return new Bo(t).credential(e,n)}}catch(e){return null}},na=function(e){if(!e.isOAuthProvider)throw new Eo("invalid-oauth-provider")},ra=function(e,t,n){Eo.call(this,e,n),(e=t||{}).email&&vo(this,"email",e.email),e.phoneNumber&&vo(this,"phoneNumber",e.phoneNumber),e.credential&&vo(this,"credential",e.credential)};_(ra,Eo),ra.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.A();return t&&Me(e,t),e},ra.prototype.toJSON=function(){return this.A()};var ia=function(e){if(e.code){var t=e.code||"";0==t.indexOf("auth/")&&(t=t.substring(5));var n={credential:ta(e)};if(e.email)n.email=e.email;else{if(!e.phoneNumber)return new Eo(t,e.message||void 0);n.phoneNumber=e.phoneNumber}return new ra(t,n,e.message)}return null},oa=function(e){this.Eg=e};_(oa,qt),oa.prototype.rc=function(){return new this.Eg},oa.prototype.Cd=function(){return{}};var aa,sa=function(e,n,i){var o="Node"==qi();if(!(o=r.XMLHttpRequest||o&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest))throw new Eo("internal-error","The XMLHttpRequest compatibility library was not found.");this.m=e,e=n||{},this.qg=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.rg=e.secureTokenTimeout||ua,this.Pc=be(e.secureTokenHeaders||ca),this.Df=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Ef=e.firebaseTimeout||la,this.mb=be(e.firebaseHeaders||da),i&&(this.mb["X-Client-Version"]=i,this.Pc["X-Client-Version"]=i),this.vf=new Jt,this.Dg=new oa(o)},ua=new lo(3e4,6e4),ca={"Content-Type":"application/x-www-form-urlencoded"},la=new lo(3e4,6e4),da={"Content-Type":"application/json"},ha=function(e,t){t?e.mb["X-Firebase-Locale"]=t:delete e.mb["X-Firebase-Locale"]},pa=function(e,t){t?(e.mb["X-Client-Version"]=t,e.Pc["X-Client-Version"]=t):(delete e.mb["X-Client-Version"],delete e.Pc["X-Client-Version"])},fa=function(e,t,n,r,i,o,a){co()?(Pi()?e=g(e.tg,e):(aa||(aa=new Cn(function(e,t){ya(e,t)})),e=g(e.sg,e)),e(t,n,r,i,o,a)):n&&n(null)};sa.prototype.tg=function(e,t,n,r,i,o){var a="Node"==qi(),s=Gi()?a?new Vr(this.Dg):new Vr:new Vr(this.vf);if(o){s.Db=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}s.listen("complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(ri(this))||null}catch(t){e=null}t&&t(e)}),Cr(s,"ready",function(){u&&clearTimeout(u),this.Ma||(this.Ma=!0,this.lb())}),Cr(s,"timeout",function(){u&&clearTimeout(u),this.Ma||(this.Ma=!0,this.lb()),t&&t(null)}),s.send(e,n,r,i)};var ma=V("https://apis.google.com/js/client.js?onload=%{onload}"),ga="__fcb"+Math.floor(1e6*Math.random()),ya=function(e,t){if(((window.gapi||{}).client||{}).request)e();else{r[ga]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=K(ma,{onload:ga});tr(cr(n),function(){t(Error("CORS_UNSUPPORTED"))})}};sa.prototype.sg=function(e,t,n,r,i){var o=this;aa.then(function(){window.gapi.client.setApiKey(o.m);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).g(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})};var va=function(e,t){return new Cn(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?fa(e,e.qg+"?key="+encodeURIComponent(e.m),function(e){e?e.error?r(os(e)):e.access_token&&e.refresh_token?n(e):r(new Eo("internal-error")):r(new Eo("network-request-failed"))},"POST",""+ki(t),e.Pc,e.rg.get()):r(new Eo("internal-error"))})},_a=function(e,t,n,r,i,o){var a=fi(e.Df+t);di(a,"key",e.m),o&&di(a,"cb",""+v());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&di(a,u,r[u]);return new Cn(function(t,o){fa(e,""+a,function(e){e?e.error?o(os(e,i||{})):t(e):o(new Eo("network-request-failed"))},n,s?void 0:jt(io(r)),e.mb,e.Ef.get())})},ba=function(e){if(!xt.test(e.email))throw new Eo("invalid-email")},wa=function(e){"email"in e&&ba(e)},Ma=function(e,t){return is(e,Ya,{identifier:t,continueUri:eo()?xi():"http://localhost"}).then(function(e){return e.allProviders||[]})},Ta=function(e){return is(e,Va,{}).then(function(e){return e.authorizedDomains||[]})},Sa=function(e){if(!e.idToken)throw new Eo("internal-error")},La=function(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Eo("internal-error")}else{if(!e.sessionInfo)throw new Eo("missing-verification-id");if(!e.code)throw new Eo("missing-verification-code")}};sa.prototype.signInAnonymously=function(){return is(this,Qa,{})},sa.prototype.updateEmail=function(e,t){return is(this,Ka,{idToken:e,email:t})},sa.prototype.updatePassword=function(e,t){return is(this,za,{idToken:e,password:t})};var ka={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};sa.prototype.updateProfile=function(e,t){var n={idToken:e},r=[];return fe(ka,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),is(this,Ka,n)},sa.prototype.sendPasswordResetEmail=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},Me(e,t),is(this,Ua,e)},sa.prototype.sendEmailVerification=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},Me(e,t),is(this,Ha,e)},sa.prototype.verifyPhoneNumber=function(e){return is(this,ts,e)};var Ca=function(e,t,n){return is(e,ja,{idToken:t,deleteProvider:n})},Ea=function(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Eo("internal-error")},Da=function(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=ia(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=ia(e)):"EMAIL_EXISTS"==e.errorMessage&&(e.code="email-already-in-use",t=ia(e)),t)throw t;if(!e.idToken)throw new Eo("internal-error")},Ia=function(e,t){return t.returnIdpCredential=!0,is(e,Ja,t)},Aa=function(e,t){return t.returnIdpCredential=!0,is(e,Xa,t)},xa=function(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,is(e,$a,t)},Oa=function(e){if(!e.oobCode)throw new Eo("invalid-action-code")};sa.prototype.confirmPasswordReset=function(e,t){return is(this,qa,{oobCode:e,newPassword:t})},sa.prototype.checkActionCode=function(e){return is(this,Pa,{oobCode:e})},sa.prototype.applyActionCode=function(e){return is(this,Na,{oobCode:e})};var Na={endpoint:"setAccountInfo",F:Oa,cb:"email"},Pa={endpoint:"resetPassword",F:Oa,$:function(e){if(!e.email||!e.requestType)throw new Eo("internal-error")}},Ra={endpoint:"signupNewUser",F:function(e){if(ba(e),!e.password)throw new Eo("weak-password")},$:Sa,Aa:!0},Ya={endpoint:"createAuthUri"},Fa={endpoint:"deleteAccount",ab:["idToken"]},ja={endpoint:"setAccountInfo",ab:["idToken","deleteProvider"],F:function(e){if(!l(e.deleteProvider))throw new Eo("internal-error")}},Ba={endpoint:"getAccountInfo"},Ha={endpoint:"getOobConfirmationCode",ab:["idToken","requestType"],F:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Eo("internal-error")},cb:"email"},Ua={endpoint:"getOobConfirmationCode",ab:["requestType"],F:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Eo("internal-error");ba(e)},cb:"email"},Va={ie:!0,endpoint:"getProjectConfig",De:"GET"},Wa={ie:!0,endpoint:"getRecaptchaParam",De:"GET",$:function(e){if(!e.recaptchaSiteKey)throw new Eo("internal-error")}},qa={endpoint:"resetPassword",F:Oa,cb:"email"},Ga={endpoint:"sendVerificationCode",ab:["phoneNumber","recaptchaToken"],cb:"sessionInfo"},Ka={endpoint:"setAccountInfo",ab:["idToken"],F:wa,Aa:!0},za={endpoint:"setAccountInfo",ab:["idToken"],F:function(e){if(wa(e),!e.password)throw new Eo("weak-password")},$:Sa,Aa:!0},Qa={endpoint:"signupNewUser",$:Sa,Aa:!0},Ja={endpoint:"verifyAssertion",F:Ea,$:Da,Aa:!0},$a={endpoint:"verifyAssertion",F:Ea,$:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Eo("user-not-found");if(!e.idToken)throw new Eo("internal-error")},Aa:!0},Xa={endpoint:"verifyAssertion",F:function(e){if(Ea(e),!e.idToken)throw new Eo("internal-error")},$:Da,Aa:!0},Za={endpoint:"verifyCustomToken",F:function(e){if(!e.token)throw new Eo("invalid-custom-token")},$:Sa,Aa:!0},es={endpoint:"verifyPassword",F:function(e){if(ba(e),!e.password)throw new Eo("wrong-password")},$:Sa,Aa:!0},ts={endpoint:"verifyPhoneNumber",F:La,$:Sa},ns={endpoint:"verifyPhoneNumber",F:function(e){if(!e.idToken)throw new Eo("internal-error");La(e)},$:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",ia(e);Sa(e)}},rs={yf:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",F:La,$:Sa},is=function(e,t,n){if(!Mo(n,t.ab))return xn(new Eo("internal-error"));var r,i=t.De||"POST";return An(n).then(t.F).then(function(){return t.Aa&&(n.returnSecureToken=!0),_a(e,t.endpoint,i,n,t.yf,t.ie||!1)}).then(function(e){return r=e}).then(t.$).then(function(){if(!t.cb)return r;if(!(t.cb in r))throw new Eo("internal-error");return r[t.cb]})},os=function(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Eo(r[n]):null)return n;n=e.error&&e.error.message||"",Me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Eo(r[i],t);return!t&&e&&(t=ro(e)),new Eo("internal-error",t)},as=function(e){this.Bg=e,this.yc=null,this.Id=ss(this)},ss=function(e){return ps().then(function(){return new Cn(function(t,n){$i("gapi.iframes.getContext")().open({where:document.body,url:e.Bg,messageHandlersFilter:$i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){e.yc=r,e.yc.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},ds.get()),o=function(){clearTimeout(i),t()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};as.prototype.sendMessage=function(e){var t=this;return this.Id.then(function(){return new Cn(function(n){t.yc.send(e.type,e,n,$i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var us=function(e,t){e.Id.then(function(){e.yc.register("authEvent",t,$i("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},cs=V("https://apis.google.com/js/api.js?onload=%{onload}"),ls=new lo(3e4,6e4),ds=new lo(5e3,15e3),hs=null,ps=function(){return hs||(hs=new Cn(function(e,t){if(co()){var n=function(){uo(),$i("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){uo(),t(Error("Network Error"))},timeout:ls.get()})};if($i("gapi.iframes.Iframe"))e();else if($i("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random());r[i]=function(){$i("gapi.load")?n():t(Error("Network Error"))},i=K(cs,{onload:i}),An(cr(i)).g(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))}).g(function(e){throw hs=null,e}))},fs=function(e,t,n){this.B=e,this.m=t,this.o=n,this.fb=null,this.Ba=mi(this.B,"/__/auth/iframe"),di(this.Ba,"apiKey",this.m),di(this.Ba,"appName",this.o),this.P=null,this.M=[]};fs.prototype.ae=function(e){return this.fb=e,this},fs.prototype.Zd=function(e){return this.P=e,this},fs.prototype.toString=function(){return this.fb?di(this.Ba,"v",this.fb):this.Ba.removeParameter("v"),this.P?di(this.Ba,"eid",this.P):this.Ba.removeParameter("eid"),this.M.length?di(this.Ba,"fw",this.M.join(",")):this.Ba.removeParameter("fw"),""+this.Ba};var ms=function(e,t,n,r,i){this.B=e,this.m=t,this.o=n,this.sf=r,this.fb=this.Y=this.Td=null,this.xb=i,this.P=null};ms.prototype.ae=function(e){return this.fb=e,this},ms.prototype.Zd=function(e){return this.P=e,this},ms.prototype.toString=function(){var e=mi(this.B,"/__/auth/handler");if(di(e,"apiKey",this.m),di(e,"appName",this.o),di(e,"authType",this.sf),this.xb.isOAuthProvider){var n=this.xb;try{var r=t.app(this.o).auth().ia}catch(e){r=null}n.nd=r,di(e,"providerId",this.xb.providerId),n=this.xb,r=io(n.qe);for(var i in r)r[i]=""+r[i];i=n.kg,r=be(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.Ed&&n.nd&&!r[n.Ed]&&(r[n.Ed]=n.nd),ve(r)||di(e,"customParameters",ro(r))}if("function"==typeof this.xb.ye&&(n=this.xb.ye()).length&&di(e,"scopes",n.join(",")),this.Td?di(e,"redirectUrl",this.Td):e.removeParameter("redirectUrl"),this.Y?di(e,"eventId",this.Y):e.removeParameter("eventId"),this.fb?di(e,"v",this.fb):e.removeParameter("v"),this.mc)for(var s in this.mc)this.mc.hasOwnProperty(s)&&!hi(e,s)&&di(e,s,this.mc[s]);return this.P?di(e,"eid",this.P):e.removeParameter("eid"),(s=gs(this.o)).length&&di(e,"fw",s.join(",")),""+e};var gs=function(e){try{return ce(t.app(e).auth().M)}catch(e){return[]}},ys=function(e,t,n,r,i){this.B=e,this.m=t,this.o=n,this.La=r||null,this.P=i||null,this.f=this.yd=this.we=null,this.ta=[],this.Ac=this.wa=null},vs=function(e){var t=xi();return Ta(e).then(function(e){e:{var n=fi(t),r=n.qa;n=n.pa;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=fi(o).pa==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Bi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Oo(xi())})};(e=ys.prototype).Sb=function(){if(this.Ac)return this.Ac;var e=this;return this.Ac=Hi().then(function(){if(!e.yd){var t=e.La,n=e.P,r=gs(e.o);(t=new fs(e.B,e.m,e.o).ae(t).Zd(n)).M=ce(r||[]),e.yd=""+t}e.xc=new as(e.yd),ws(e)})},e.ec=function(e,t,n){var r=new Eo("popup-closed-by-user"),i=new Eo("web-storage-unsupported"),o=this,a=!1;return this.Ra().then(function(){Ms(o).then(function(n){n||(e&&Yi(e),t(i),a=!0)})}).g(function(){}).then(function(){if(!a)return ji(e)}).then(function(){if(!a)return Br(n).then(function(){t(r)})})},e.Ye=function(){var e=Ji();return!no(e)&&!so(e)},e.Be=function(){return!1},e.$b=function(e,t,n,r,i,o,a){if(!e)return xn(new Eo("popup-blocked"));if(a&&!no())return this.Ra().g(function(t){Yi(e),i(t)}),r(),An();this.wa||(this.wa=vs(_s(this)));var s=this;return this.wa.then(function(){var t=s.Ra().g(function(t){throw Yi(e),i(t),t});return r(),t}).then(function(){if(na(n),!a){var r=bs(s.B,s.m,s.o,t,n,null,o,s.La,void 0,s.P);Oi(r,e)}}).g(function(e){throw"auth/network-request-failed"==e.code&&(s.wa=null),e})};var _s=function(e){return e.f||(e.we=e.La?Qi(e.La,gs(e.o)):null,e.f=new sa(e.m,Ii(e.P),e.we)),e.f};ys.prototype.ac=function(e,t,n){this.wa||(this.wa=vs(_s(this)));var r=this;return this.wa.then(function(){na(t);var i=bs(r.B,r.m,r.o,e,t,xi(),n,r.La,void 0,r.P);Oi(i)}).g(function(e){throw"auth/network-request-failed"==e.code&&(r.wa=null),e})},ys.prototype.Ra=function(){var e=this;return this.Sb().then(function(){return e.xc.Id}).g(function(){throw e.wa=null,new Eo("network-request-failed")})},ys.prototype.bf=function(){return!0};var bs=function(e,t,n,r,i,o,a,s,u,c){return e=new ms(e,t,n,r,i),e.Td=o,e.Y=a,o=e.ae(s),o.mc=be(u||null),""+o.Zd(c)},ws=function(e){if(!e.xc)throw Error("IfcHandler must be initialized!");us(e.xc,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=xo(t.authEvent),n=0;n<e.ta.length;n++)r=e.ta[n](t)||r;return n={},n.status=r?"ACK":"ERROR",An(n)}return n.status="ERROR",An(n)})},Ms=function(e){var t={type:"webStorageSupport"};return e.Sb().then(function(){return e.xc.sendMessage(t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})};ys.prototype.ib=function(e){this.ta.push(e)},ys.prototype.dc=function(e){se(this.ta,function(t){return t==e})};var Ts=function(e,t,n,i,o,a){if(vo(this,"type","recaptcha"),this.ad=this.Ib=null,this.Kb=!1,this.ne=t,this.Fa=n||{theme:"light",type:"image"},this.J=[],this.Fa.sitekey)throw new Eo("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.Bc="invisible"===this.Fa.size,!_n(t)||!this.Bc&&_n(t).hasChildNodes())throw new Eo("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.f=new sa(e,a||null,o||null),this.Jf=i||function(){return null};var s=this;this.Wc=[];var u=this.Fa.callback;this.Fa.callback=function(e){if(s.Lb(e),"function"==typeof u)u(e);else if("string"==typeof u){var t=$i(u,r);"function"==typeof t&&t(e)}};var c=this.Fa["expired-callback"];this.Fa["expired-callback"]=function(){if(s.Lb(null),"function"==typeof c)c();else if("string"==typeof c){var e=$i(c,r);"function"==typeof e&&e()}}};Ts.prototype.Lb=function(e){for(var t=0;t<this.Wc.length;t++)try{this.Wc[t](e)}catch(e){}};var Ss=function(e,t){se(e.Wc,function(e){return e==t})};Ts.prototype.c=function(e){var t=this;return this.J.push(e),Rn(e,function(){oe(t.J,e)}),e},Ts.prototype.Tb=function(){var e=this;return this.Ib?this.Ib:this.Ib=this.c(An().then(function(){if(eo())return Hi();throw new Eo("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Es(Is(),e.Jf())}).then(function(){return is(e.f,Wa,{})}).then(function(t){e.Fa.sitekey=t.recaptchaSiteKey}).g(function(t){throw e.Ib=null,t}))},Ts.prototype.render=function(){Ls(this);var e=this;return this.c(this.Tb().then(function(){if(null===e.ad){var t=e.ne;if(!e.Bc){var n=_n(t);t=Mn("DIV"),n.appendChild(t)}e.ad=grecaptcha.render(t,e.Fa)}return e.ad}))},Ts.prototype.verify=function(){Ls(this);var e=this;return this.c(this.render().then(function(t){return new Cn(function(n){var r=grecaptcha.getResponse(t);if(r)n(r);else{var i=function(t){t&&(Ss(e,i),n(t))};e.Wc.push(i),e.Bc&&grecaptcha.execute(e.ad)}})}))};var Ls=function(e){if(e.Kb)throw new Eo("internal-error","RecaptchaVerifier instance has been destroyed.")};Ts.prototype.clear=function(){Ls(this),this.Kb=!0,Is().ld--;for(var e=0;e<this.J.length;e++)this.J[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.Bc){e=_n(this.ne);for(var t;t=e.firstChild;)e.removeChild(t)}};var ks=V("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cs=function(){this.ld=r.grecaptcha?1/0:0,this.Ce=null,this.jd="__rcb"+Math.floor(1e6*Math.random())},Es=function(e,t){return new Cn(function(n,i){if(co())if(!r.grecaptcha||t!==e.Ce&&!e.ld){r[e.jd]=function(){if(r.grecaptcha){e.Ce=t;var o=r.grecaptcha.render;r.grecaptcha.render=function(t,n){return t=o(t,n),e.ld++,t},n()}else i(new Eo("internal-error"));delete r[e.jd]};var o=K(ks,{onload:e.jd,hl:t||""});An(cr(o)).g(function(){i(new Eo("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else i(new Eo("network-request-failed"))})},Ds=null,Is=function(){return Ds||(Ds=new Cs),Ds},As=function(e,n,r){try{this.i=r||t.app()}catch(e){throw new Eo("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.i.options||!this.i.options.apiKey)throw new Eo("invalid-api-key");r=this.i.options.apiKey;var i=this,o=null;try{o=ce(this.i.auth().M)}catch(e){}o=t.SDK_VERSION?Qi(t.SDK_VERSION,o):null,Ts.call(this,r,e,n,function(){try{var e=i.i.auth().ia}catch(t){e=null}return e},o,Ii(Ei))};_(As,Ts);var xs=function(e){if(this.G=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.G)throw new Eo("internal-error","The React Native compatibility library was not found.")};(e=xs.prototype).get=function(e){return An(this.G.getItem(e)).then(function(e){return e&&oo(e)})},e.set=function(e,t){return An(this.G.setItem(e,ro(t)))},e.remove=function(e){return An(this.G.removeItem(e))},e.jb=function(){},e.$a=function(){};var Os=function(){this.G={}};(e=Os.prototype).get=function(e){return An(this.G[e])},e.set=function(e,t){return this.G[e]=t,An()},e.remove=function(e){return delete this.G[e],An()},e.jb=function(){},e.$a=function(){};var Ns=function(){if(!Ps()){if("Node"==qi())throw new Eo("internal-error","The LocalStorage compatibility library was not found.");throw new Eo("web-storage-unsupported")}this.G=r.localStorage||t.INTERNAL.node.localStorage},Ps=function(){var e="Node"==qi();if(!(e=r.localStorage||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Ns.prototype).get=function(e){var t=this;return An().then(function(){var n=t.G.getItem(e);return oo(n)})},e.set=function(e,t){var n=this;return An().then(function(){var r=ro(t);null===r?n.remove(e):n.G.setItem(e,r)})},e.remove=function(e){var t=this;return An().then(function(){t.G.removeItem(e)})},e.jb=function(e){r.window&&_t(r.window,"storage",e)},e.$a=function(e){r.window&&Tt(r.window,"storage",e)};var Rs=function(){this.G={}};(e=Rs.prototype).get=function(){return An(null)},e.set=function(){return An()},e.remove=function(){return An()},e.jb=function(){},e.$a=function(){};var Ys=function(){if(!Fs()){if("Node"==qi())throw new Eo("internal-error","The SessionStorage compatibility library was not found.");throw new Eo("web-storage-unsupported")}this.G=r.sessionStorage||t.INTERNAL.node.sessionStorage},Fs=function(){var e="Node"==qi();if(!(e=r.sessionStorage||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};(e=Ys.prototype).get=function(e){var t=this;return An().then(function(){var n=t.G.getItem(e);return oo(n)})},e.set=function(e,t){var n=this;return An().then(function(){var r=ro(t);null===r?n.remove(e):n.G.setItem(e,r)})},e.remove=function(e){var t=this;return An().then(function(){t.G.removeItem(e)})},e.jb=function(){},e.$a=function(){};var js,Bs=function(e,t,n,i,o,a){if(!window.indexedDB)throw new Eo("web-storage-unsupported");this.zf=e,this.Hd=t,this.md=n,this.ff=i,this.gb=o,this.N={},this.fc=[],this.Wb=0,this.Rf=a||r.indexedDB},Hs=function(e){return new Cn(function(t,n){var r=e.Rf.open(e.zf,e.gb);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(e.Hd,{keyPath:e.md})}catch(e){n(e)}},r.onsuccess=function(e){t(e.target.result)}})},Us=function(e){return e.Ge||(e.Ge=Hs(e)),e.Ge},Vs=function(e,t){return t.objectStore(e.Hd)},Ws=function(e,t,n){return t.transaction([e.Hd],n?"readwrite":"readonly")},qs=function(e){return new Cn(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})};(e=Bs.prototype).set=function(e,t){var n,r=!1,i=this;return Rn(Us(this).then(function(t){return n=t,t=Vs(i,Ws(i,n,!0)),qs(t.get(e))}).then(function(o){var a=Vs(i,Ws(i,n,!0));return o?(o.value=t,qs(a.put(o))):(i.Wb++,r=!0,o={},o[i.md]=e,o[i.ff]=t,qs(a.add(o)))}).then(function(){i.N[e]=t}),function(){r&&i.Wb--})},e.get=function(e){var t=this;return Us(this).then(function(n){return qs(Vs(t,Ws(t,n,!1)).get(e))}).then(function(e){return e&&e.value})},e.remove=function(e){var t=!1,n=this;return Rn(Us(this).then(function(r){return t=!0,n.Wb++,qs(Vs(n,Ws(n,r,!0)).delete(e))}).then(function(){delete n.N[e]}),function(){t&&n.Wb--})},e.xg=function(){var e=this;return Us(this).then(function(t){var n=Vs(e,Ws(e,t,!1));return n.getAll?qs(n.getAll()):new Cn(function(e,t){var r=[],i=n.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){t(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.Wb){for(r=0;r<t.length;r++)n[t[r][e.md]]=t[r][e.ff];r=Ni(e.N,n),e.N=n}return r})},e.jb=function(e){0==this.fc.length&&this.ce(),this.fc.push(e)},e.$a=function(e){se(this.fc,function(t){return t==e}),0==this.fc.length&&this.Sc()},e.ce=function(){var e=this;this.Sc();var t=function(){return e.Nd=Br(800).then(g(e.xg,e)).then(function(t){0<t.length&&Z(e.fc,function(e){e(t)})}).then(t).g(function(e){"STOP_EVENT"!=e.message&&t()}),e.Nd};t()},e.Sc=function(){this.Nd&&this.Nd.cancel("STOP_EVENT")};var Gs,Ks=function(){this.se={Browser:zs,Node:Qs,ReactNative:Js}[qi()]},zs={D:Ns,ee:Ys},Qs={D:Ns,ee:Ys},Js={D:xs,ee:Rs},$s=function(e){this.Bd(e)};$s.prototype.Bd=function(e){var t=e.url;if(void 0===t)throw new Eo("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Eo("invalid-continue-uri");this.uf=t,this.ge=this.nc=null,this.He=!1;var n=e.android;if(n&&"object"==typeof n){t=n.packageName;var r=n.installApp;if(n=n.minimumVersion,"string"==typeof t&&t.length){if(this.nc=t,void 0!==r&&"boolean"!=typeof r)throw new Eo("argument-error","installApp property must be a boolean when specified.");if(this.He=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Eo("argument-error","minimumVersion property must be a non empty string when specified.");this.ge=n||null}else{if(void 0!==t)throw new Eo("argument-error","packageName property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Eo("missing-android-pkg-name")}}else if(void 0!==n)throw new Eo("argument-error","android property must be a non null object when specified.");if(this.xd=null,(t=e.iOS)&&"object"==typeof t){if("string"==typeof(t=t.bundleId)&&t.length)this.xd=t;else if(void 0!==t)throw new Eo("argument-error","bundleId property must be a non empty string when specified.")}else if(void 0!==t)throw new Eo("argument-error","iOS property must be a non null object when specified.");if(void 0!==(e=e.handleCodeInApp)&&"boolean"!=typeof e)throw new Eo("argument-error","handleCodeInApp property must be a boolean when specified.");if((this.le=!!e)&&!this.xd&&!this.nc)throw new Eo("argument-error","handleCodeInApp property can't be true when no mobile application is provided.")};var Xs=function(e){var t={};t.continueUrl=e.uf,t.canHandleCodeInApp=e.le,(t.androidPackageName=e.nc)&&(t.androidMinimumVersion=e.ge,t.androidInstallApp=e.He),t.iOSBundleId=e.xd;for(var n in t)null===t[n]&&delete t[n];return t},Zs=function(e,t){this.xf=t,vo(this,"verificationId",e)};Zs.prototype.confirm=function(e){return e=ea(this.verificationId,e),this.xf(e)};var eu=function(e,t,n,r){return new Zo(e).verifyPhoneNumber(t,n).then(function(e){return new Zs(e,r)})},tu=function(e){var t={},n=e.email,r=e.newEmail;if(e=e.requestType,!n||!e)throw Error("Invalid provider user info!");t.fromEmail=r||null,t.email=n,vo(this,"operation",e),vo(this,"data",To(t))},nu=function(e,t,n,r,i,o){if(this.fg=e,this.mg=t,this.Kf=n,this.Gc=r,this.fe=i,this.ng=!!o,this.ub=null,this.Sa=this.Gc,this.fe<this.Gc)throw Error("Proactive refresh lower bound greater than upper bound!")};nu.prototype.start=function(){this.Sa=this.Gc,iu(this,!0)};var ru=function(e,t){return t?(e.Sa=e.Gc,e.Kf()):(t=e.Sa,e.Sa*=2,e.Sa>e.fe&&(e.Sa=e.fe),t)},iu=function(e,t){e.stop(),e.ub=Br(ru(e,t)).then(function(){return e.ng?An():fo()}).then(function(){return e.fg()}).then(function(){iu(e,!0)}).g(function(t){e.mg(t)&&iu(e,!1)})};nu.prototype.stop=function(){this.ub&&(this.ub.cancel(),this.ub=null)};var ou=function(e){var t={};t["facebook.com"]=uu,t["google.com"]=lu,t["github.com"]=cu,t["twitter.com"]=du;var n=e&&e.providerId;try{if(n)return t[n]?new t[n](e):new su(e);if(void 0!==e.idToken)return new au(e)}catch(e){}return null},au=function(e){var t=e.providerId;if(!t&&e.idToken){var n=Po(e.idToken);n&&n.Rd&&(t=n.Rd)}if(!t)throw Error("Invalid additional user info!");e=!!e.isNewUser,vo(this,"providerId",t),vo(this,"isNewUser",e)},su=function(e){au.call(this,e),e=oo(e.rawUserInfo||"{}"),vo(this,"profile",To(e||{}))};_(su,au);var uu=function(e){if(su.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};_(uu,su);var cu=function(e){if(su.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider id!");vo(this,"username",this.profile&&this.profile.login||null)};_(cu,su);var lu=function(e){if(su.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider id!")};_(lu,su);var du=function(e){if(su.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");vo(this,"username",e.screenName||null)};_(du,su);var hu,pu={LOCAL:"local",NONE:"none",SESSION:"session"},fu=function(e){var t=new Eo("invalid-persistence-type"),n=new Eo("unsupported-persistence-type");e:{for(r in pu)if(pu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(qi()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Xi()&&"none"!==e)throw n}},mu=function(e,t,n,r){this.Me=e,this.Xd=t,this.og=n,this.Ve=r,this.S={},Gs||(Gs=new Ks),e=Gs;try{if(Ai()){js||(js=new Bs("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var i=js}else i=new e.se.D;this.Se=i}catch(e){this.Se=new Os,this.Ve=!0}try{this.af=new e.se.ee}catch(e){this.af=new Os}this.Qf=new Os,this.de=g(this.Ze,this),this.N={}},gu=function(){return hu||(hu=new mu("firebase",":",!(so(Ji())||!Wi()),no())),hu},yu=function(e,t){switch(t){case"session":return e.af;case"none":return e.Qf;default:return e.Se}};(e=mu.prototype).ca=function(e,t){return this.Me+this.Xd+e.name+(t?this.Xd+t:"")},e.get=function(e,t){return yu(this,e.D).get(this.ca(e,t))},e.remove=function(e,t){return t=this.ca(e,t),"local"==e.D&&(this.N[t]=null),yu(this,e.D).remove(t)},e.set=function(e,t,n){var r=this.ca(e,n),i=this,o=yu(this,e.D);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.D&&(i.N[r]=t)})},e.addListener=function(e,t,n){e=this.ca(e,t),void 0!==r.localStorage&&"function"==typeof r.localStorage.getItem&&(this.N[e]=r.localStorage.getItem(e)),ve(this.S)&&this.ce(),this.S[e]||(this.S[e]=[]),this.S[e].push(n)},e.removeListener=function(e,t,n){e=this.ca(e,t),this.S[e]&&(se(this.S[e],function(e){return e==n}),0==this.S[e].length&&delete this.S[e]),ve(this.S)&&this.Sc()},e.ce=function(){yu(this,"local").jb(this.de),this.Ve||Ai()||vu(this)};var vu=function(e){_u(e),e.Fd=setInterval(function(){for(var t in e.S){var n=r.localStorage.getItem(t),i=e.N[t];n!=i&&(e.N[t]=n,n=new st({type:"storage",key:t,target:window,oldValue:i,newValue:n,Md:!0}),e.Ze(n))}},1e3)},_u=function(e){e.Fd&&(clearInterval(e.Fd),e.Fd=null)};mu.prototype.Sc=function(){yu(this,"local").$a(this.de),_u(this)},mu.prototype.Ze=function(e){if(e&&e.Hf){var t=e.R.key;if(null==t)for(var n in this.S){var i=this.N[n];void 0===i&&(i=null);var o=r.localStorage.getItem(n);o!==i&&(this.N[n]=o,this.hd(n))}else if(0==t.indexOf(this.Me+this.Xd)&&this.S[t]){if(void 0!==e.R.Md?yu(this,"local").$a(this.de):_u(this),this.og)if(n=r.localStorage.getItem(t),(i=e.R.newValue)!==n)null!==i?r.localStorage.setItem(t,i):r.localStorage.removeItem(t);else if(this.N[t]===i&&void 0===e.R.Md)return;var a=this;n=function(){void 0===e.R.Md&&a.N[t]===r.localStorage.getItem(t)||(a.N[t]=r.localStorage.getItem(t),a.hd(t))},Ce&&Re&&10==Re&&r.localStorage.getItem(t)!==e.R.newValue&&e.R.newValue!==e.R.oldValue?setTimeout(n,10):n()}}else Z(e,g(this.hd,this))},mu.prototype.hd=function(e){this.S[e]&&Z(this.S[e],function(e){e()})};var bu=function(e,t){this.j=e,this.h=t||gu()},wu={name:"authEvent",D:"local"},Mu=function(e){return e.h.get(wu,e.j).then(function(e){return xo(e)})};bu.prototype.ib=function(e){this.h.addListener(wu,this.j,e)},bu.prototype.dc=function(e){this.h.removeListener(wu,this.j,e)};var Tu=function(e){this.h=e||gu()},Su={name:"sessionId",D:"session"};Tu.prototype.tc=function(e){return this.h.get(Su,e)};var Lu=function(e,t,n,r,i,o,a){this.B=e,this.m=t,this.o=n,this.La=r||null,this.P=a||null,this.$e=t+":"+n,this.pg=new Tu,this.xe=new bu(this.$e),this.Ad=null,this.ta=[],this.Vf=i||500,this.ig=o||2e3,this.Rb=this.Jc=null},ku=function(e){return new Eo("invalid-cordova-configuration",e)};Lu.prototype.Ra=function(){return this.Tb?this.Tb:this.Tb=Ui().then(function(){if("function"!=typeof $i("universalLinks.subscribe",r))throw ku("cordova-universal-links-plugin is not installed");if(void 0===$i("BuildInfo.packageName",r))throw ku("cordova-plugin-buildinfo is not installed");if("function"!=typeof $i("cordova.plugins.browsertab.openUrl",r))throw ku("cordova-plugin-browsertab is not installed");if("function"!=typeof $i("cordova.InAppBrowser.open",r))throw ku("cordova-plugin-inappbrowser is not installed")},function(){throw new Eo("cordova-not-ready")})};var Cu=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")},Eu=function(e){var t=new Ze;return t.update(e),le(t.digest())};(e=Lu.prototype).ec=function(e,t){return t(new Eo("operation-not-supported-in-this-environment")),An()},e.$b=function(){return xn(new Eo("operation-not-supported-in-this-environment"))},e.bf=function(){return!1},e.Ye=function(){return!0},e.Be=function(){return!0},e.ac=function(e,t,n){if(this.Jc)return xn(new Eo("redirect-operation-pending"));var i=this,o=r.document,a=null,s=null,u=null,c=null;return this.Jc=Rn(An().then(function(){return na(t),Iu(i)}).then(function(){return Du(i,e,t,n)}).then(function(){return new Cn(function(e,t){s=function(){var t=$i("cordova.plugins.browsertab.close",r);return e(),"function"==typeof t&&t(),i.Rb&&"function"==typeof i.Rb.close&&(i.Rb.close(),i.Rb=null),!1},i.ib(s),u=function(){a||(a=Br(i.ig).then(function(){t(new Eo("redirect-cancelled-by-user"))}))},c=function(){po()&&u()},o.addEventListener("resume",u,!1),Ji().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).g(function(e){return Au(i).then(function(){throw e})})}),function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.dc(s),i.Jc=null})};var Du=function(e,t,n,i){var o=Cu(),a=new Ao(t,i,null,o,new Eo("no-auth-event")),s=$i("BuildInfo.packageName",r);if("string"!=typeof s)throw new Eo("invalid-cordova-configuration");var u=$i("BuildInfo.displayName",r),c={};if(Ji().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Ji().toLowerCase().match(/android/))return xn(new Eo("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Eu(o),c.sessionId=o;var l=bs(e.B,e.m,e.o,t,n,null,i,e.La,c,e.P);return e.Ra().then(function(){var t=e.$e;return e.pg.h.set(wu,a.A(),t)}).then(function(){var t=$i("cordova.plugins.browsertab.isAvailable",r);if("function"!=typeof t)throw new Eo("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=$i("cordova.plugins.browsertab.openUrl",r)))throw new Eo("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=$i("cordova.InAppBrowser.open",r)))throw new Eo("invalid-cordova-configuration");t=n;var i=Ji();i=!(!i.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.Rb=t(l,i?"_blank":"_system","location=yes")}})})};Lu.prototype.Lb=function(e){for(var t=0;t<this.ta.length;t++)try{this.ta[t](e)}catch(e){}};var Iu=function(e){return e.Ad||(e.Ad=e.Ra().then(function(){return new Cn(function(t){var n=function(r){return t(r),e.dc(n),!1};e.ib(n),xu(e)})})),e.Ad},Au=function(e){var t=null;return Mu(e.xe).then(function(n){return t=n,(n=e.xe).h.remove(wu,n.j)}).then(function(){return t})},xu=function(e){var t=$i("universalLinks.subscribe",r);if("function"!=typeof t)throw new Eo("invalid-cordova-configuration");var n=new Ao("unknown",null,null,null,new Eo("no-auth-event")),i=!1,o=Br(e.Vf).then(function(){return Au(e).then(function(){i||e.Lb(n)})}),a=function(t){i=!0,o&&o.cancel(),Au(e).then(function(r){var i=n;if(r&&t&&t.url){i=null;var o=t.url,a=fi(o),s=hi(a,"link"),u=hi(fi(s),"link");a=hi(a,"deep_link_id"),-1!=(o=hi(fi(a),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=fi(o),i=oo(hi(i,"firebaseError")||null),i=(i="object"==typeof i?Do(i):null)?new Ao(r.ma,r.Y,null,null,i):new Ao(r.ma,r.Y,o,r.tc())),i=i||n}e.Lb(i)})},s=r.handleOpenURL;r.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf($i("BuildInfo.packageName",r).toLowerCase()+"://")&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}},t(null,a)};Lu.prototype.ib=function(e){this.ta.push(e),Iu(this).g(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ao("unknown",null,null,null,new Eo("no-auth-event")),e(t))})},Lu.prototype.dc=function(e){se(this.ta,function(t){return t==e})};var Ou=function(e){this.j=e,this.h=gu()},Nu={name:"pendingRedirect",D:"session"},Pu=function(e){return e.h.set(Nu,"pending",e.j)},Ru=function(e){return e.h.remove(Nu,e.j)},Yu=function(e){return e.h.get(Nu,e.j).then(function(e){return"pending"==e})},Fu=function(e,t,n){this.B=e,this.m=t,this.o=n,this.gc=[],this.sb=!1,this.ed=g(this.vd,this),this.Xa=new Gu(this),this.Od=new Xu(this),this.Xb=new Ou(this.m+":"+this.o),this.Ia={},this.Ia.unknown=this.Xa,this.Ia.signInViaRedirect=this.Xa,this.Ia.linkViaRedirect=this.Xa,this.Ia.reauthViaRedirect=this.Xa,this.Ia.signInViaPopup=this.Od,this.Ia.linkViaPopup=this.Od,this.Ia.reauthViaPopup=this.Od,this.Z=ju(this.B,this.m,this.o,Ei)},ju=function(e,n,r,i){var o=t.SDK_VERSION||null;return Vi()?new Lu(e,n,r,o,void 0,void 0,i):new ys(e,n,r,o,i)};Fu.prototype.reset=function(){this.sb=!1,this.Z.dc(this.ed),this.Z=ju(this.B,this.m,this.o)},Fu.prototype.Sb=function(){var e=this;this.sb||(this.sb=!0,this.Z.ib(this.ed));var t=this.Z;return this.Z.Ra().g(function(n){throw e.Z==t&&e.reset(),n})};var Bu=function(e){e.Z.Ye()&&e.Sb().g(function(t){var n=new Ao("unknown",null,null,null,new Eo("operation-not-supported-in-this-environment"));Vu(t)&&e.vd(n)}),e.Z.Be()||Ku(e.Xa)};Fu.prototype.subscribe=function(e){if(ie(this.gc,e)||this.gc.push(e),!this.sb){var t=this;Yu(this.Xb).then(function(e){e?Ru(t.Xb).then(function(){t.Sb().g(function(e){var n=new Ao("unknown",null,null,null,new Eo("operation-not-supported-in-this-environment"));Vu(e)&&t.vd(n)})}):Bu(t)}).g(function(){Bu(t)})}},Fu.prototype.unsubscribe=function(e){se(this.gc,function(t){return t==e})},Fu.prototype.vd=function(e){if(!e)throw new Eo("invalid-auth-event");for(var t=!1,n=0;n<this.gc.length;n++){var r=this.gc[n];if(r.ke(e.ma,e.Y)){(t=this.Ia[e.ma])&&t.Te(e,r),t=!0;break}}return Ku(this.Xa),t};var Hu=new lo(2e3,1e4),Uu=new lo(3e4,6e4);Fu.prototype.getRedirectResult=function(){return this.Xa.getRedirectResult()},Fu.prototype.$b=function(e,t,n,r,i){var o=this;return this.Z.$b(e,t,n,function(){o.sb||(o.sb=!0,o.Z.ib(o.ed))},function(){o.reset()},r,i)};var Vu=function(e){return!(!e||"auth/cordova-not-ready"!=e.code)};Fu.prototype.ac=function(e,t,n){var r,i=this;return Pu(this.Xb).then(function(){return i.Z.ac(e,t,n).g(function(e){if(Vu(e))throw new Eo("operation-not-supported-in-this-environment");return r=e,Ru(i.Xb).then(function(){throw r})}).then(function(){return i.Z.bf()?new Cn(function(){}):Ru(i.Xb).then(function(){return i.getRedirectResult()}).then(function(){}).g(function(){})})})},Fu.prototype.ec=function(e,t,n,r){return this.Z.ec(n,function(n){e.bb(t,null,n,r)},Hu.get())};var Wu={},qu=function(e,t,n){var r=t+":"+n;return Wu[r]||(Wu[r]=new Fu(e,t,n)),Wu[r]},Gu=function(e){this.h=e,this.Ab=null,this.cc=[],this.bc=[],this.yb=null,this.Sd=!1};Gu.prototype.reset=function(){this.Ab=null,this.yb&&(this.yb.cancel(),this.yb=null)},Gu.prototype.Te=function(e,t){if(!e)return xn(new Eo("invalid-auth-event"));this.reset(),this.Sd=!0;var n=e.ma,r=e.Y,i=e.getError()&&"auth/web-storage-unsupported"==e.getError().code,o=e.getError()&&"auth/operation-not-supported-in-this-environment"==e.getError().code;return"unknown"!=n||i||o?e=e.ba?this.Pd(e,t):t.Nb(n,r)?this.Qd(e,t):xn(new Eo("invalid-auth-event")):(Ju(this,!1,null,null),e=An()),e};var Ku=function(e){e.Sd||(e.Sd=!0,Ju(e,!1,null,null))};Gu.prototype.Pd=function(e){return Ju(this,!0,null,e.getError()),An()},Gu.prototype.Qd=function(e,t){var n=this;t=t.Nb(e.ma,e.Y);var r=e.Eb,i=e.tc(),o=!!e.ma.match(/Redirect$/);return t(r,i).then(function(e){Ju(n,o,e,null)}).g(function(e){Ju(n,o,null,e)})};var zu=function(e,t){if(e.Ab=function(){return xn(t)},e.bc.length)for(var n=0;n<e.bc.length;n++)e.bc[n](t)},Qu=function(e,t){if(e.Ab=function(){return An(t)},e.cc.length)for(var n=0;n<e.cc.length;n++)e.cc[n](t)},Ju=function(e,t,n,r){t?r?zu(e,r):Qu(e,n):Qu(e,{user:null}),e.cc=[],e.bc=[]};Gu.prototype.getRedirectResult=function(){var e=this;return new Cn(function(t,n){e.Ab?e.Ab().then(t,n):(e.cc.push(t),e.bc.push(n),$u(e))})};var $u=function(e){var t=new Eo("timeout");e.yb&&e.yb.cancel(),e.yb=Br(Uu.get()).then(function(){e.Ab||Ju(e,!0,null,t)})},Xu=function(e){this.h=e};Xu.prototype.Te=function(e,t){if(!e)return xn(new Eo("invalid-auth-event"));var n=e.ma,r=e.Y;return e.ba?this.Pd(e,t):t.Nb(n,r)?this.Qd(e,t):xn(new Eo("invalid-auth-event"))},Xu.prototype.Pd=function(e,t){return t.bb(e.ma,null,e.getError(),e.Y),An()},Xu.prototype.Qd=function(e,t){var n=e.Y,r=e.ma,i=t.Nb(r,n),o=e.Eb;return e=e.tc(),i(o,e).then(function(e){t.bb(r,e,null,n)}).g(function(e){t.bb(r,null,e,n)})};var Zu=function(e){this.f=e,this.Ja=this.fa=null,this.Na=0};Zu.prototype.A=function(){return{apiKey:this.f.m,refreshToken:this.fa,accessToken:this.Ja,expirationTime:this.Na}};var ec=function(e,t){var n=t.idToken,r=t.refreshToken;t=tc(t.expiresIn),e.Ja=n,e.Na=t,e.fa=r},tc=function(e){return v()+1e3*parseInt(e,10)},nc=function(e,t){return va(e.f,t).then(function(t){return e.Ja=t.access_token,e.Na=tc(t.expires_in),e.fa=t.refresh_token,{accessToken:e.Ja,expirationTime:e.Na,refreshToken:e.fa}}).g(function(t){throw"auth/user-token-expired"==t.code&&(e.fa=null),t})};Zu.prototype.getToken=function(e){return e=!!e,this.Ja&&!this.fa?xn(new Eo("user-token-expired")):e||!this.Ja||v()>this.Na-3e4?this.fa?nc(this,{grant_type:"refresh_token",refresh_token:this.fa}):An(null):An({accessToken:this.Ja,expirationTime:this.Na,refreshToken:this.fa})};var rc=function(e,t){this.pe=e||null,this.Je=t||null,_o(this,{lastSignInTime:mo(t||null),creationTime:mo(e||null)})};rc.prototype.clone=function(){return new rc(this.pe,this.Je)},rc.prototype.A=function(){return{lastLoginAt:this.Je,createdAt:this.pe}};var ic=function(e,t,n,r,i,o){_o(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})},oc=function(e,t){at.call(this,e);for(var n in t)this[n]=t[n]};_(oc,at);var ac=function(e,n,r){this.J=[],this.m=e.apiKey,this.o=e.appName,this.B=e.authDomain||null,e=t.SDK_VERSION?Qi(t.SDK_VERSION):null,this.f=new sa(this.m,Ii(Ei),e),this.ra=new Zu(this.f),fc(this,n.idToken),ec(this.ra,n),vo(this,"refreshToken",this.ra.fa),vc(this,r||{}),kr.call(this),this.Kc=!1,this.B&&Zi()&&(this.v=qu(this.B,this.m,this.o)),this.Rc=[],this.sa=null,this.wb=dc(this),this.Gb=g(this.wd,this);var i=this;this.ia=null,this.Pe=function(e){i.Cb(e.languageCode)},this.Dd=null,this.M=[],this.Oe=function(e){uc(i,e.Ff)},this.sd=null};_(ac,kr),ac.prototype.Cb=function(e){this.ia=e,ha(this.f,e)};var sc=function(e,t){e.Dd&&Tt(e.Dd,"languageCodeChanged",e.Pe),(e.Dd=t)&&_t(t,"languageCodeChanged",e.Pe)},uc=function(e,n){e.M=n,pa(e.f,t.SDK_VERSION?Qi(t.SDK_VERSION,e.M):null)},cc=function(e,t){e.sd&&Tt(e.sd,"frameworkChanged",e.Oe),(e.sd=t)&&_t(t,"frameworkChanged",e.Oe)};ac.prototype.wd=function(){this.wb.ub&&(this.wb.stop(),this.wb.start())};var lc=function(e){try{return t.app(e.o).auth()}catch(t){throw new Eo("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}},dc=function(e){return new nu(function(){return e.getIdToken(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.ra.Na-v()-3e5;return 0<t?t:0},3e4,96e4,!1)},hc=function(e){e.Kb||e.wb.ub||(e.wb.start(),Tt(e,"tokenChanged",e.Gb),_t(e,"tokenChanged",e.Gb))},pc=function(e){Tt(e,"tokenChanged",e.Gb),e.wb.stop()},fc=function(e,t){e.Ie=t,vo(e,"_lat",t)},mc=function(e,t){se(e.Rc,function(e){return e==t})},gc=function(e){for(var t=[],n=0;n<e.Rc.length;n++)t.push(e.Rc[n](e));return Pn(t).then(function(){return e})},yc=function(e){e.v&&!e.Kc&&(e.Kc=!0,e.v.subscribe(e))},vc=function(e,t){_o(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new rc(t.createdAt,t.lastLoginAt),providerData:[]})};vo(ac.prototype,"providerId","firebase");var _c=function(){},bc=function(e){return An().then(function(){if(e.Kb)throw new Eo("app-deleted")})},wc=function(e){return te(e.providerData,function(e){return e.providerId})},Mc=function(e,t){t&&(Tc(e,t.providerId),e.providerData.push(t))},Tc=function(e,t){se(e.providerData,function(e){return e.providerId==t})},Sc=function(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&vo(e,t,n)};ac.prototype.copy=function(e){var t=this;t!=e&&(_o(this,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?vo(this,"metadata",e.metadata.clone()):vo(this,"metadata",new rc),Z(e.providerData,function(e){Mc(t,e)}),this.ra=e.ra,vo(this,"refreshToken",this.ra.fa))},ac.prototype.reload=function(){var e=this;return this.c(bc(this).then(function(){return Lc(e).then(function(){return gc(e)}).then(_c)}))};var Lc=function(e){return e.getIdToken().then(function(t){var n=e.isAnonymous;return Cc(e,t).then(function(){return n||Sc(e,"isAnonymous",!1),t})})};ac.prototype.getIdToken=function(e){var t=this;return this.c(bc(this).then(function(){return t.ra.getToken(e)}).then(function(e){if(!e)throw new Eo("internal-error");return e.accessToken!=t.Ie&&(fc(t,e.accessToken),t.Ta()),Sc(t,"refreshToken",e.refreshToken),e.accessToken}))},ac.prototype.getToken=function(e){return go["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(go["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.getIdToken(e)};var kc=function(e,t){t.idToken&&e.Ie!=t.idToken&&(ec(e.ra,t),e.Ta(),fc(e,t.idToken),Sc(e,"refreshToken",e.ra.fa))};ac.prototype.Ta=function(){this.dispatchEvent(new oc("tokenChanged"))};var Cc=function(e,t){return is(e.f,Ba,{idToken:t}).then(g(e.gg,e))};ac.prototype.gg=function(e){if(!(e=e.users)||!e.length)throw new Eo("internal-error");e=e[0],vc(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=Ec(e),n=0;n<t.length;n++)Mc(this,t[n]);Sc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))};var Ec=function(e){return(e=e.providerUserInfo)&&e.length?te(e,function(e){return new ic(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]};ac.prototype.reauthenticateAndRetrieveDataWithCredential=function(e){var t=this,n=null;return this.c(e.Gd(this.f,this.uid).then(function(e){return kc(t,e),n=Ic(t,e,"reauthenticate"),t.sa=null,t.reload()}).then(function(){return n}),!0)},ac.prototype.reauthenticateWithCredential=function(e){return this.reauthenticateAndRetrieveDataWithCredential(e).then(function(){})};var Dc=function(e,t){return Lc(e).then(function(){if(ie(wc(e),t))return gc(e).then(function(){throw new Eo("provider-already-linked")})})};ac.prototype.linkAndRetrieveDataWithCredential=function(e){var t=this,n=null;return this.c(Dc(this,e.providerId).then(function(){return t.getIdToken()}).then(function(n){return e.Fc(t.f,n)}).then(function(e){return n=Ic(t,e,"link"),Ac(t,e)}).then(function(){return n}))},ac.prototype.linkWithCredential=function(e){return this.linkAndRetrieveDataWithCredential(e).then(function(e){return e.user})},ac.prototype.linkWithPhoneNumber=function(e,t){var n=this;return this.c(Dc(this,"phone").then(function(){return eu(lc(n),e,t,g(n.linkAndRetrieveDataWithCredential,n))}))},ac.prototype.reauthenticateWithPhoneNumber=function(e,t){var n=this;return this.c(An().then(function(){return eu(lc(n),e,t,g(n.reauthenticateAndRetrieveDataWithCredential,n))}),!0)};var Ic=function(e,t,n){var r=ta(t);return t=ou(t),bo({user:e,credential:r,additionalUserInfo:t,operationType:n})},Ac=function(e,t){return kc(e,t),e.reload().then(function(){return e})};(e=ac.prototype).updateEmail=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return t.f.updateEmail(n,e)}).then(function(e){return kc(t,e),t.reload()}))},e.updatePhoneNumber=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return e.Fc(t.f,n)}).then(function(e){return kc(t,e),t.reload()}))},e.updatePassword=function(e){var t=this;return this.c(this.getIdToken().then(function(n){return t.f.updatePassword(n,e)}).then(function(e){return kc(t,e),t.reload()}))},e.updateProfile=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return bc(this);var t=this;return this.c(this.getIdToken().then(function(n){return t.f.updateProfile(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return kc(t,e),Sc(t,"displayName",e.displayName||null),Sc(t,"photoURL",e.photoUrl||null),Z(t.providerData,function(e){"password"===e.providerId&&(vo(e,"displayName",t.displayName),vo(e,"photoURL",t.photoURL))}),gc(t)}).then(_c))},e.unlink=function(e){var t=this;return this.c(Lc(this).then(function(n){return ie(wc(t),e)?Ca(t.f,n,[e]).then(function(e){var n={};return Z(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),Z(wc(t),function(e){n[e]||Tc(t,e)}),n[Zo.PROVIDER_ID]||vo(t,"phoneNumber",null),gc(t)}):gc(t).then(function(){throw new Eo("no-such-provider")})}))},e.delete=function(){var e=this;return this.c(this.getIdToken().then(function(t){return is(e.f,Fa,{idToken:t})}).then(function(){e.dispatchEvent(new oc("userDeleted"))})).then(function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");sc(e,null),cc(e,null),e.J=[],e.Kb=!0,pc(e),vo(e,"refreshToken",null),e.v&&e.v.unsubscribe(e)})},e.ke=function(e,t){return!!("linkViaPopup"==e&&(this.la||null)==t&&this.ka||"reauthViaPopup"==e&&(this.la||null)==t&&this.ka||"linkViaRedirect"==e&&(this.Ha||null)==t||"reauthViaRedirect"==e&&(this.Ha||null)==t)},e.bb=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.la||null)||(n&&this.Va?this.Va(n):t&&!n&&this.ka&&this.ka(t),this.K&&(this.K.cancel(),this.K=null),delete this.ka,delete this.Va)},e.Nb=function(e,t){return"linkViaPopup"==e&&t==(this.la||null)?g(this.ue,this):"reauthViaPopup"==e&&t==(this.la||null)?g(this.ve,this):"linkViaRedirect"==e&&(this.Ha||null)==t?g(this.ue,this):"reauthViaRedirect"==e&&(this.Ha||null)==t?g(this.ve,this):null},e.sc=function(){return ao(this.uid+":::")},e.linkWithPopup=function(e){var t=this;return xc(this,"linkViaPopup",e,function(){return Dc(t,e.providerId).then(function(){return gc(t)})},!1)},e.reauthenticateWithPopup=function(e){return xc(this,"reauthViaPopup",e,function(){return An()},!0)};var xc=function(e,n,r,i,o){if(!Zi())return xn(new Eo("operation-not-supported-in-this-environment"));if(e.sa&&!o)return xn(e.sa);var a=Co(r.providerId),s=e.sc(),u=null;(!no()||Wi())&&e.B&&r.isOAuthProvider&&(u=bs(e.B,e.m,e.o,n,r,null,s,t.SDK_VERSION||null));var c=Fi(u,a&&a.Zb,a&&a.Yb);return i=i().then(function(){if(Nc(e),!o)return e.getIdToken().then(function(){})}).then(function(){return e.v.$b(c,n,r,s,!!u)}).then(function(){return new Cn(function(t,r){e.bb(n,null,new Eo("cancelled-popup-request"),e.la||null),e.ka=t,e.Va=r,e.la=s,e.K=e.v.ec(e,n,c,s)})}).then(function(e){return c&&Yi(c),e?bo(e):null}).g(function(e){throw c&&Yi(c),e}),e.c(i,o)};ac.prototype.linkWithRedirect=function(e){var t=this;return Oc(this,"linkViaRedirect",e,function(){return Dc(t,e.providerId)},!1)},ac.prototype.reauthenticateWithRedirect=function(e){return Oc(this,"reauthViaRedirect",e,function(){return An()},!0)};var Oc=function(e,t,n,r,i){if(!Zi())return xn(new Eo("operation-not-supported-in-this-environment"));if(e.sa&&!i)return xn(e.sa);var o=null,a=e.sc();return r=r().then(function(){if(Nc(e),!i)return e.getIdToken().then(function(){})}).then(function(){return e.Ha=a,gc(e)}).then(function(t){return e.Ya&&(t=e.Ya,t=t.h.set(jc,e.A(),t.j)),t}).then(function(){return e.v.ac(t,n,a)}).g(function(t){if(o=t,e.Ya)return Bc(e.Ya);throw o}).then(function(){if(o)throw o}),e.c(r,i)},Nc=function(e){if(!e.v||!e.Kc){if(e.v&&!e.Kc)throw new Eo("internal-error");throw new Eo("auth-domain-config-required")}};ac.prototype.ue=function(e,t){var n=this;this.K&&(this.K.cancel(),this.K=null);var r=null,i=this.getIdToken().then(function(r){return Aa(n.f,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=Ic(n,e,"link"),Ac(n,e)}).then(function(){return r});return this.c(i)},ac.prototype.ve=function(e,t){var n=this;this.K&&(this.K.cancel(),this.K=null);var r=null,i=An().then(function(){return Ro(xa(n.f,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=Ic(n,e,"reauthenticate"),kc(n,e),n.sa=null,n.reload()}).then(function(){return r});return this.c(i,!0)},ac.prototype.sendEmailVerification=function(e){var t=this,n=null;return this.c(this.getIdToken().then(function(t){return n=t,void 0===e||ve(e)?{}:Xs(new $s(e))}).then(function(e){return t.f.sendEmailVerification(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},ac.prototype.c=function(e,t){var n=this,r=Pc(this,e,t);return this.J.push(r),Rn(r,function(){oe(n.J,r)}),r};var Pc=function(e,t,n){return e.sa&&!n?(t.cancel(),xn(e.sa)):t.g(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.sa||e.dispatchEvent(new oc("userInvalidated")),e.sa=t),t})};ac.prototype.toJSON=function(){return this.A()},ac.prototype.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.B,stsTokenManager:this.ra.A(),redirectEventId:this.Ha||null};return this.metadata&&Me(e,this.metadata.A()),Z(this.providerData,function(t){e.providerData.push(wo(t))}),e};var Rc=function(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n.idToken=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-v())/1e3;var r=new ac(t,n,e);return e.providerData&&Z(e.providerData,function(e){e&&Mc(r,bo(e))}),e.redirectEventId&&(r.Ha=e.redirectEventId),r},Yc=function(e,t,n,r){var i=new ac(e,t);return n&&(i.Ya=n),r&&uc(i,r),i.reload().then(function(){return i})},Fc=function(e){this.j=e,this.h=gu()},jc={name:"redirectUser",D:"session"},Bc=function(e){return e.h.remove(jc,e.j)},Hc=function(e,t){return e.h.get(jc,e.j).then(function(e){return e&&t&&(e.authDomain=t),Rc(e||{})})},Uc=function(e,t){this.j=e,this.h=t||gu(),this.O=null,this.Jd=this.Bd(),this.h.addListener(qc("local"),this.j,g(this.vg,this))};Uc.prototype.vg=function(){var e=this,t=qc("local");Jc(this,function(){return An().then(function(){return e.O&&"local"!=e.O.D?e.h.get(t,e.j):null}).then(function(n){if(n)return Vc(e,"local").then(function(){e.O=t})})})};var Vc=function(e,t){var n,r=[];for(n in pu)pu[n]!==t&&r.push(e.h.remove(qc(pu[n]),e.j));return r.push(e.h.remove(Wc,e.j)),Nn(r)};Uc.prototype.Bd=function(){var e=this,t=qc("local"),n=qc("session"),r=qc("none");return this.h.get(n,this.j).then(function(i){return i?n:e.h.get(r,e.j).then(function(n){return n?r:e.h.get(t,e.j).then(function(n){return n?t:e.h.get(Wc,e.j).then(function(e){return e?qc(e):t})})})}).then(function(t){return e.O=t,Vc(e,t.D)}).g(function(){e.O||(e.O=t)})};var Wc={name:"persistence",D:"session"},qc=function(e){return{name:"authUser",D:e}};Uc.prototype.setPersistence=function(e){var t=null,n=this;return fu(e),Jc(this,function(){return e!=n.O.D?n.h.get(n.O,n.j).then(function(r){return t=r,Vc(n,e)}).then(function(){if(n.O=qc(e),t)return n.h.set(n.O,t,n.j)}):An()})};var Gc=function(e){return Jc(e,function(){return e.h.set(Wc,e.O.D,e.j)})},Kc=function(e,t){return Jc(e,function(){return e.h.set(e.O,t.A(),e.j)})},zc=function(e){return Jc(e,function(){return e.h.remove(e.O,e.j)})},Qc=function(e,t){return Jc(e,function(){return e.h.get(e.O,e.j).then(function(e){return e&&t&&(e.authDomain=t),Rc(e||{})})})},Jc=function(e,t){return e.Jd=e.Jd.then(t,t),e.Jd},$c=function(e){if(this.Ea=!1,vo(this,"app",e),!this.i().options||!this.i().options.apiKey)throw new Eo("invalid-api-key");e=t.SDK_VERSION?Qi(t.SDK_VERSION):null,this.f=new sa(this.i().options&&this.i().options.apiKey,Ii(Ei),e),this.J=[],this.Ka=[],this.Fb=[],this.cg=t.INTERNAL.createSubscribe(g(this.Sf,this)),this.kc=void 0,this.eg=t.INTERNAL.createSubscribe(g(this.Uf,this)),il(this,null),e=this.i().options.apiKey;var n=this.i().name;this.na=new Uc(e+":"+n),e=this.i().options.apiKey,n=this.i().name,this.zb=new Fc(e+":"+n),this.oc=this.c(al(this)),this.ya=this.c(sl(this)),this.Cc=!1,this.ud=g(this.wg,this),this.ef=g(this.pb,this),this.Gb=g(this.wd,this),this.cf=g(this.Of,this),this.df=g(this.Pf,this),nl(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.$f,this),this.Oa=0,kr.call(this),el(this),this.M=[]};_($c,kr);var Xc=function(e){at.call(this,"languageCodeChanged"),this.languageCode=e};_(Xc,at);var Zc=function(e){at.call(this,"frameworkChanged"),this.Ff=e};_(Zc,at),$c.prototype.setPersistence=function(e){return e=this.na.setPersistence(e),this.c(e)},$c.prototype.Cb=function(e){this.ia===e||this.Ea||(this.ia=e,ha(this.f,this.ia),this.dispatchEvent(new Xc(this.ia)))},$c.prototype.useDeviceLanguage=function(){var e=r.navigator;this.Cb(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},$c.prototype.$f=function(e){this.M.push(e),pa(this.f,t.SDK_VERSION?Qi(t.SDK_VERSION,this.M):null),this.dispatchEvent(new Zc(this.M))};var el=function(e){Object.defineProperty(e,"lc",{get:function(){return this.ia},set:function(e){this.Cb(e)},enumerable:!1}),e.ia=null};$c.prototype.toJSON=function(){return{apiKey:this.i().options.apiKey,authDomain:this.i().options.authDomain,appName:this.i().name,currentUser:cl(this)&&cl(this).A()}};var tl=function(e){return e.Af||xn(new Eo("auth-domain-config-required"))},nl=function(e){var t=e.i().options.authDomain,n=e.i().options.apiKey;t&&Zi()&&(e.Af=e.oc.then(function(){if(!e.Ea){if(e.v=qu(t,n,e.i().name),e.v.subscribe(e),cl(e)&&yc(cl(e)),e.Za){yc(e.Za);var r=e.Za;r.Cb(e.ia),sc(r,e),r=e.Za,uc(r,e.M),cc(r,e),e.Za=null}return e.v}}))};(e=$c.prototype).ke=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.la==t&&!!this.ka;default:return!1}},e.bb=function(e,t,n,r){"signInViaPopup"==e&&this.la==r&&(n&&this.Va?this.Va(n):t&&!n&&this.ka&&this.ka(t),this.K&&(this.K.cancel(),this.K=null),delete this.ka,delete this.Va)},e.Nb=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.la==t&&this.ka?g(this.Cf,this):null},e.Cf=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.K&&(this.K.cancel(),this.K=null);var r=null,i=null,o=Ia(n.f,e).then(function(e){return r=ta(e),i=ou(e),e});return e=n.oc.then(function(){return o}).then(function(e){return rl(n,e)}).then(function(){return bo({user:cl(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),this.c(e)},e.sc=function(){return ao()},e.signInWithPopup=function(e){if(!Zi())return xn(new Eo("operation-not-supported-in-this-environment"));var n=this,r=Co(e.providerId),i=this.sc(),o=null;(!no()||Wi())&&this.i().options.authDomain&&e.isOAuthProvider&&(o=bs(this.i().options.authDomain,this.i().options.apiKey,this.i().name,"signInViaPopup",e,null,i,t.SDK_VERSION||null));var a=Fi(o,r&&r.Zb,r&&r.Yb);return r=tl(this).then(function(t){return t.$b(a,"signInViaPopup",e,i,!!o)}).then(function(){return new Cn(function(e,t){n.bb("signInViaPopup",null,new Eo("cancelled-popup-request"),n.la),n.ka=e,n.Va=t,n.la=i,n.K=n.v.ec(n,"signInViaPopup",a,i)})}).then(function(e){return a&&Yi(a),e?bo(e):null}).g(function(e){throw a&&Yi(a),e}),this.c(r)},e.signInWithRedirect=function(e){if(!Zi())return xn(new Eo("operation-not-supported-in-this-environment"));var t=this,n=tl(this).then(function(){return Gc(t.na)}).then(function(){return t.v.ac("signInViaRedirect",e)});return this.c(n)},e.getRedirectResult=function(){if(!Zi())return xn(new Eo("operation-not-supported-in-this-environment"));var e=this,t=tl(this).then(function(){return e.v.getRedirectResult()}).then(function(e){return e?bo(e):null});return this.c(t)};var rl=function(e,t){var n={};return n.apiKey=e.i().options.apiKey,n.authDomain=e.i().options.authDomain,n.appName=e.i().name,e.oc.then(function(){return Yc(n,t,e.zb,ce(e.M))}).then(function(t){return cl(e)&&t.uid==cl(e).uid?(cl(e).copy(t),e.pb(t)):(il(e,t),yc(t),e.pb(t))}).then(function(){e.Ta()})},il=function(e,t){cl(e)&&(mc(cl(e),e.ef),Tt(cl(e),"tokenChanged",e.Gb),Tt(cl(e),"userDeleted",e.cf),Tt(cl(e),"userInvalidated",e.df),pc(cl(e))),t&&(t.Rc.push(e.ef),_t(t,"tokenChanged",e.Gb),_t(t,"userDeleted",e.cf),_t(t,"userInvalidated",e.df),0<e.Oa&&hc(t)),vo(e,"currentUser",t),t&&(t.Cb(e.ia),sc(t,e),uc(t,e.M),cc(t,e))};$c.prototype.signOut=function(){var e=this,t=this.ya.then(function(){return cl(e)?(il(e,null),zc(e.na).then(function(){e.Ta()})):An()});return this.c(t)};var ol=function(e){var t=e.i().options.authDomain;return t=Hc(e.zb,t).then(function(t){return(e.Za=t)&&(t.Ya=e.zb),Bc(e.zb)}),e.c(t)},al=function(e){var t=e.i().options.authDomain,n=ol(e).then(function(){return Qc(e.na,t)}).then(function(t){return t?(t.Ya=e.zb,e.Za&&(e.Za.Ha||null)==(t.Ha||null)?t:t.reload().then(function(){return Kc(e.na,t).then(function(){return t})}).g(function(n){return"auth/network-request-failed"==n.code?t:zc(e.na)})):null}).then(function(t){il(e,t||null)});return e.c(n)},sl=function(e){return e.oc.then(function(){return e.getRedirectResult()}).g(function(){}).then(function(){if(!e.Ea)return e.ud()}).g(function(){}).then(function(){if(!e.Ea){e.Cc=!0;var t=e.na;t.h.addListener(qc("local"),t.j,e.ud)}})};(e=$c.prototype).wg=function(){var e=this,t=this.i().options.authDomain;return Qc(this.na,t).then(function(t){if(!e.Ea){var n;if(n=cl(e)&&t){n=cl(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return cl(e).copy(t),cl(e).getIdToken();(cl(e)||t)&&(il(e,t),t&&(yc(t),t.Ya=e.zb),e.v&&e.v.subscribe(e),e.Ta())}})},e.pb=function(e){return Kc(this.na,e)},e.wd=function(){this.Ta(),this.pb(cl(this))},e.Of=function(){this.signOut()},e.Pf=function(){this.signOut()};var ul=function(e,t){var n=null,r=null;return e.c(t.then(function(t){return n=ta(t),r=ou(t),rl(e,t)}).then(function(){return bo({user:cl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};(e=$c.prototype).Sf=function(e){var t=this;this.addAuthTokenListener(function(){e.next(cl(t))})},e.Uf=function(e){var t=this;dl(this,function(){e.next(cl(t))})},e.onIdTokenChanged=function(e,n,r){var i=this;return this.Cc&&t.Promise.resolve().then(function(){h(e)?e(cl(i)):h(e.next)&&e.next(cl(i))}),this.cg(e,n,r)},e.onAuthStateChanged=function(e,n,r){var i=this;return this.Cc&&t.Promise.resolve().then(function(){i.kc=i.getUid(),h(e)?e(cl(i)):h(e.next)&&e.next(cl(i))}),this.eg(e,n,r)},e.If=function(e){var t=this,n=this.ya.then(function(){return cl(t)?cl(t).getIdToken(e).then(function(e){return{accessToken:e}}):null});return this.c(n)},e.signInWithCustomToken=function(e){var t=this;return this.ya.then(function(){return ul(t,is(t.f,Za,{token:e}))}).then(function(e){return e=e.user,Sc(e,"isAnonymous",!1),t.pb(e)}).then(function(){return cl(t)})},e.signInWithEmailAndPassword=function(e,t){var n=this;return this.ya.then(function(){return ul(n,is(n.f,es,{email:e,password:t}))}).then(function(e){return e.user})},e.createUserWithEmailAndPassword=function(e,t){var n=this;return this.ya.then(function(){return ul(n,is(n.f,Ra,{email:e,password:t}))}).then(function(e){return e.user})},e.signInWithCredential=function(e){return this.signInAndRetrieveDataWithCredential(e).then(function(e){return e.user})},e.signInAndRetrieveDataWithCredential=function(e){var t=this;return this.ya.then(function(){return ul(t,e.Ob(t.f))})},e.signInAnonymously=function(){var e=this;return this.ya.then(function(){var t=cl(e);return t&&t.isAnonymous?t:ul(e,e.f.signInAnonymously()).then(function(t){return t=t.user,Sc(t,"isAnonymous",!0),e.pb(t)}).then(function(){return cl(e)})})},e.i=function(){return this.app};var cl=function(e){return e.currentUser};$c.prototype.getUid=function(){return cl(this)&&cl(this).uid||null};var ll=function(e){return cl(e)&&cl(e)._lat||null};(e=$c.prototype).Ta=function(){if(this.Cc){for(var e=0;e<this.Ka.length;e++)this.Ka[e]&&this.Ka[e](ll(this));if(this.kc!==this.getUid()&&this.Fb.length)for(this.kc=this.getUid(),e=0;e<this.Fb.length;e++)this.Fb[e]&&this.Fb[e](ll(this))}},e.pf=function(e){this.addAuthTokenListener(e),0<++this.Oa&&cl(this)&&hc(cl(this))},e.jg=function(e){var t=this;Z(this.Ka,function(n){n==e&&t.Oa--}),0>this.Oa&&(this.Oa=0),0==this.Oa&&cl(this)&&pc(cl(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.Ka.push(e),this.c(this.ya.then(function(){t.Ea||ie(t.Ka,e)&&e(ll(t))}))},e.removeAuthTokenListener=function(e){se(this.Ka,function(t){return t==e})};var dl=function(e,t){e.Fb.push(t),e.c(e.ya.then(function(){!e.Ea&&ie(e.Fb,t)&&e.kc!==e.getUid()&&(e.kc=e.getUid(),t(ll(e)))}))};(e=$c.prototype).delete=function(){this.Ea=!0;for(var e=0;e<this.J.length;e++)this.J[e].cancel("app-deleted");return this.J=[],this.na&&(e=this.na).h.removeListener(qc("local"),e.j,this.ud),this.v&&this.v.unsubscribe(this),t.Promise.resolve()},e.c=function(e){var t=this;return this.J.push(e),Rn(e,function(){oe(t.J,e)}),e},e.fetchProvidersForEmail=function(e){return this.c(Ma(this.f,e))},e.verifyPasswordResetCode=function(e){return this.checkActionCode(e).then(function(e){return e.data.email})},e.confirmPasswordReset=function(e,t){return this.c(this.f.confirmPasswordReset(e,t).then(function(){}))},e.checkActionCode=function(e){return this.c(this.f.checkActionCode(e).then(function(e){return new tu(e)}))},e.applyActionCode=function(e){return this.c(this.f.applyActionCode(e).then(function(){}))},e.sendPasswordResetEmail=function(e,t){var n=this;return this.c(An().then(function(){return void 0===t||ve(t)?{}:Xs(new $s(t))}).then(function(t){return n.f.sendPasswordResetEmail(e,t)}).then(function(){}))},e.signInWithPhoneNumber=function(e,t){return this.c(eu(this,e,t,g(this.signInAndRetrieveDataWithCredential,this)))};var hl=function(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Eo("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].W(n[i])&&!o){if(t=t[i],0>i||i>=pl.length)throw new Eo("internal-error","Argument validator received an unsupported number of arguments.");n=pl[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.V+".";break e}r=null}}if(r)throw new Eo("argument-error",e+" failed: "+r)},pl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),fl=function(e,t){return{name:e||"",V:"a valid string",optional:!!t,W:o}},ml=function(){return{name:"opt_forceRefresh",V:"a boolean",optional:!0,W:a}},gl=function(e,t){return{name:e||"",V:"a valid object",optional:!!t,W:p}},yl=function(e,t){return{name:e||"",V:"a function",optional:!!t,W:h}},vl=function(e,t){return{name:e||"",V:"null",optional:!!t,W:c}},_l=function(){return{name:"",V:"an HTML element",optional:!1,W:function(e){return!!(e&&e instanceof Element)}}},bl=function(){return{name:"auth",V:"an instance of Firebase Auth",optional:!0,W:function(e){return!!(e&&e instanceof $c)}}},wl=function(){return{name:"app",V:"an instance of Firebase App",optional:!0,W:function(e){return!!(e&&e instanceof t.app.App)}}},Ml=function(e){return{name:e?e+"Credential":"credential",V:e?"a valid "+e+" credential":"a valid credential",optional:!1,W:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.Ob||!n)}}},Tl=function(){return{name:"authProvider",V:"a valid Auth provider",optional:!1,W:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}},Sl=function(){return{name:"applicationVerifier",V:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,W:function(e){return!!(e&&o(e.type)&&h(e.verify))}}},Ll=function(e,t,n,r){return{name:n||"",V:e.V+" or "+t.V,optional:!!r,W:function(n){return e.W(n)||t.W(n)}}},kl=function(e,t){for(var n in t){var r=t[n].name;e[r]=El(r,e[n],t[n].a)}},Cl=function(e,t,n,r){e[t]=El(t,n,r)},El=function(e,t,n){if(!n)return t;var r=Dl(e);e=function(){var e=Array.prototype.slice.call(arguments);return hl(r,n,e),t.apply(this,e)};for(var i in t)e[i]=t[i];for(i in t.prototype)e.prototype[i]=t.prototype[i];return e},Dl=function(e){return(e=e.split("."))[e.length-1]};kl($c.prototype,{applyActionCode:{name:"applyActionCode",a:[fl("code")]},checkActionCode:{name:"checkActionCode",a:[fl("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[fl("code"),fl("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[fl("email"),fl("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[fl("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Ll(gl(),yl(),"nextOrObserver"),yl("opt_error",!0),yl("opt_completed",!0)]},onIdTokenChanged:{name:"onIdTokenChanged",a:[Ll(gl(),yl(),"nextOrObserver"),yl("opt_error",!0),yl("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[fl("email"),Ll(gl("opt_actionCodeSettings",!0),vl(null,!0),"opt_actionCodeSettings",!0)]},setPersistence:{name:"setPersistence",a:[fl("persistence")]},signInAndRetrieveDataWithCredential:{name:"signInAndRetrieveDataWithCredential",a:[Ml()]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[Ml()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[fl("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[fl("email"),fl("password")]},signInWithPhoneNumber:{name:"signInWithPhoneNumber",a:[fl("phoneNumber"),Sl()]},signInWithPopup:{name:"signInWithPopup",a:[Tl()]},signInWithRedirect:{name:"signInWithRedirect",a:[Tl()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[fl(null,!0)]},useDeviceLanguage:{name:"useDeviceLanguage",a:[]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[fl("code")]}}),function(e,t){for(var n in t){var r=t[n].name;if(r!==n){var i=t[n].rf;Object.defineProperty(e,r,{get:function(){return this[n]},set:function(e){hl(r,[i],[e],!0),this[n]=e},enumerable:!0})}}}($c.prototype,{lc:{name:"languageCode",rf:Ll(fl(),vl(),"languageCode")}}),$c.Persistence=pu,$c.Persistence.LOCAL="local",$c.Persistence.SESSION="session",$c.Persistence.NONE="none",kl(ac.prototype,{delete:{name:"delete",a:[]},getIdToken:{name:"getIdToken",a:[ml()]},getToken:{name:"getToken",a:[ml()]},linkAndRetrieveDataWithCredential:{name:"linkAndRetrieveDataWithCredential",a:[Ml()]},linkWithCredential:{name:"linkWithCredential",a:[Ml()]},linkWithPhoneNumber:{name:"linkWithPhoneNumber",a:[fl("phoneNumber"),Sl()]},linkWithPopup:{name:"linkWithPopup",a:[Tl()]},linkWithRedirect:{name:"linkWithRedirect",a:[Tl()]},reauthenticateAndRetrieveDataWithCredential:{name:"reauthenticateAndRetrieveDataWithCredential",a:[Ml()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[Ml()]},reauthenticateWithPhoneNumber:{name:"reauthenticateWithPhoneNumber",a:[fl("phoneNumber"),Sl()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[Tl()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[Tl()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[Ll(gl("opt_actionCodeSettings",!0),vl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",a:[fl(null,!0)]},unlink:{name:"unlink",a:[fl("provider")]},updateEmail:{name:"updateEmail",a:[fl("email")]},updatePassword:{name:"updatePassword",a:[fl("password")]},updatePhoneNumber:{name:"updatePhoneNumber",a:[Ml("phone")]},updateProfile:{name:"updateProfile",a:[gl("profile")]}}),kl(Cn.prototype,{g:{name:"catch"},then:{name:"then"}}),kl(Zs.prototype,{confirm:{name:"confirm",a:[fl("verificationCode")]}}),Cl(Jo,"credential",function(e,t){return new Qo(e,t)},[fl("email"),fl("password")]),kl(Ho.prototype,{addScope:{name:"addScope",a:[fl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[gl("customOAuthParameters")]}}),Cl(Ho,"credential",Uo,[Ll(fl(),gl(),"token")]),kl(Vo.prototype,{addScope:{name:"addScope",a:[fl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[gl("customOAuthParameters")]}}),Cl(Vo,"credential",Wo,[Ll(fl(),gl(),"token")]),kl(qo.prototype,{addScope:{name:"addScope",a:[fl("scope")]},setCustomParameters:{name:"setCustomParameters",a:[gl("customOAuthParameters")]}}),Cl(qo,"credential",Go,[Ll(fl(),Ll(gl(),vl()),"idToken"),Ll(fl(),vl(),"accessToken",!0)]),kl(Ko.prototype,{setCustomParameters:{name:"setCustomParameters",a:[gl("customOAuthParameters")]}}),Cl(Ko,"credential",zo,[Ll(fl(),gl(),"token"),fl("secret",!0)]),kl(Bo.prototype,{addScope:{name:"addScope",a:[fl("scope")]},credential:{name:"credential",a:[Ll(fl(),vl(),"idToken",!0),Ll(fl(),vl(),"accessToken",!0)]},setCustomParameters:{name:"setCustomParameters",a:[gl("customOAuthParameters")]}}),Cl(Zo,"credential",ea,[fl("verificationId"),fl("verificationCode")]),kl(Zo.prototype,{verifyPhoneNumber:{name:"verifyPhoneNumber",a:[fl("phoneNumber"),Sl()]}}),kl(Eo.prototype,{toJSON:{name:"toJSON",a:[fl(null,!0)]}}),kl(ra.prototype,{toJSON:{name:"toJSON",a:[fl(null,!0)]}}),kl(Oo.prototype,{toJSON:{name:"toJSON",a:[fl(null,!0)]}}),kl(As.prototype,{clear:{name:"clear",a:[]},render:{name:"render",a:[]},verify:{name:"verify",a:[]}}),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:$c,Error:Eo};Cl(e,"EmailAuthProvider",Jo,[]),Cl(e,"FacebookAuthProvider",Ho,[]),Cl(e,"GithubAuthProvider",Vo,[]),Cl(e,"GoogleAuthProvider",qo,[]),Cl(e,"TwitterAuthProvider",Ko,[]),Cl(e,"OAuthProvider",Bo,[fl("providerId")]),Cl(e,"PhoneAuthProvider",Zo,[bl()]),Cl(e,"RecaptchaVerifier",As,[Ll(fl(),_l(),"recaptchaContainer"),gl("recaptchaParameters",!0),wl()]),t.INTERNAL.registerService("auth",function(e,t){return e=new $c(e),t({INTERNAL:{getUid:g(e.getUid,e),getToken:g(e.If,e),addAuthTokenListener:g(e.pf,e),removeAuthTokenListener:g(e.jg,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),t.INTERNAL.extendNamespace({User:ac})}()}).call(this)}).call(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(t,n(19))}},[75])}catch(e){throw Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.")}/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
try{webpackJsonpFirebase([0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(0),a=n(0),s=n(0),u=n(0),c=n(12),l=n(0);t.LUIDGenerator=function(){var e=1;return function(){return e++}}(),t.sha1=function(e){var t=s.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)};var d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=d.apply(null,e[r]):"object"==typeof e[r]?n+=u.stringify(e[r]):n+=e[r],n+=" ";return n};t.logger=null;var h=!0;t.enableLogging=function(e,n){r.assert(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?t.logger=console.log.bind(console):"object"==typeof console.log&&(t.logger=function(e){console.log(e)})),n&&c.SessionStorage.set("logging_enabled",!0)):"function"==typeof e?t.logger=e:(t.logger=null,c.SessionStorage.remove("logging_enabled"))},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!0===h&&(h=!1,null===t.logger&&!0===c.SessionStorage.get("logging_enabled")&&t.enableLogging(!0)),t.logger){var r=d.apply(null,e);t.logger(r)}},t.logWrapper=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.log.apply(void 0,[e].concat(n))}},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+d.apply(void 0,e);void 0!==console.error?console.error(n):console.log(n)}},t.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d.apply(void 0,e);throw Error("FIREBASE FATAL ERROR: "+n)},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof console){var n="FIREBASE WARNING: "+d.apply(void 0,e);void 0!==console.warn?console.warn(n):console.log(n)}},t.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&t.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},t.warnAboutUnsupportedMethod=function(e){t.warn(e+" is unsupported and will likely change soon.  Please do not use.")},t.isInvalidJSONNumber=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},t.executeWhenDOMReady=function(e){if(l.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},t.MIN_NAME="[MIN_NAME]",t.MAX_NAME="[MAX_NAME]",t.nameCompare=function(e,n){if(e===n)return 0;if(e===t.MIN_NAME||n===t.MAX_NAME)return-1;if(n===t.MIN_NAME||e===t.MAX_NAME)return 1;var r=t.tryParseInt(e),i=t.tryParseInt(n);return null!==r?null!==i?r-i==0?e.length-n.length:r-i:-1:null!==i?1:e<n?-1:1},t.stringCompare=function(e,t){return e===t?0:e<t?-1:1},t.requireKey=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+u.stringify(t))},t.ObjectToUniqueKey=function(e){if("object"!=typeof e||null===e)return u.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=u.stringify(n[o]),i+=":",i+=t.ObjectToUniqueKey(e[n[o]]);return i+="}"},t.splitStringBySize=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},t.each=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else i.forEach(e,function(e,n){return t(n,e)})},t.bindCallback=function(e,t){return t?e.bind(t):e},t.doubleToIEEE754String=function(e){r.assert(!t.isInvalidJSONNumber(e),"Invalid JSON number");var n,i,o,a,s,u,c;for(0===e?(i=0,o=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),i=a+1023,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,o=Math.round(e/Math.pow(2,-1074)))),u=[],s=52;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(n?1:0),u.reverse(),c=u.join("");var l="";for(s=0;s<64;s+=8){var d=parseInt(c.substr(s,8),2).toString(16);1===d.length&&(d="0"+d),l+=d}return l.toLowerCase()},t.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},t.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},t.errorForServerCode=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=Error(e+" at "+t.path+": "+n);return r.code=e.toUpperCase(),r},t.e=RegExp("^-?\\d{1,10}$"),t.tryParseInt=function(e){if(t.e.test(e)){var n=+e;if(n>=-2147483648&&n<=2147483647)return n}return null},t.exceptionGuard=function(e){try{e()}catch(e){setTimeout(function(){var n=e.stack||"";throw t.warn("Exception was thrown by user callback.",n),e},Math.floor(0))}},t.callUserCallback=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"==typeof e&&t.exceptionGuard(function(){e.apply(void 0,n)})},t.beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},t.exportPropGetter=function(e,t,n){Object.defineProperty(e,t,{get:n})},t.setTimeoutNonBlocking=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(){function e(e,t){if(void 0===t){this.n=e.split("/");for(var n=0,r=0;r<this.n.length;r++)this.n[r].length>0&&(this.n[n]=this.n[r],n++);this.n.length=n,this.i=0}else this.n=e,this.i=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.i>=this.n.length?null:this.n[this.i]},e.prototype.getLength=function(){return this.n.length-this.i},e.prototype.popFront=function(){var t=this.i;return t<this.n.length&&t++,new e(this.n,t)},e.prototype.getBack=function(){return this.i<this.n.length?this.n[this.n.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.i;t<this.n.length;t++)""!==this.n[t]&&(e+="/"+this.n[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.i;t<this.n.length;t++)""!==this.n[t]&&(e+="/"+encodeURIComponent(this.n[t]+""));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.n.slice(this.i+e)},e.prototype.parent=function(){if(this.i>=this.n.length)return null;for(var t=[],n=this.i;n<this.n.length-1;n++)t.push(this.n[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.i;r<this.n.length;r++)n.push(this.n[r]);if(t instanceof e)for(r=t.i;r<t.n.length;r++)n.push(t.n[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.i>=this.n.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),o=0;o<n.length&&o<i.length;o++){var a=r.nameCompare(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.i,n=e.i;t<=this.n.length;t++,n++)if(this.n[t]!==e.n[n])return!1;return!0},e.prototype.contains=function(e){var t=this.i,n=e.i;if(this.getLength()>e.getLength())return!1;for(;t<this.n.length;){if(this.n[t]!==e.n[n])return!1;++t,++n}return!0},e}();t.Path=o;var a=function(){function e(e,t){this.o=t,this.u=e.slice(),this.l=Math.max(1,this.u.length);for(var n=0;n<this.u.length;n++)this.l+=i.stringLength(this.u[n]);this.f()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.u.length>0&&(this.l+=1),this.u.push(e),this.l+=i.stringLength(e),this.f()},e.prototype.pop=function(){var e=this.u.pop();this.l-=i.stringLength(e),this.u.length>0&&(this.l-=1)},e.prototype.f=function(){if(this.l>e.MAX_PATH_LENGTH_BYTES)throw Error(this.o+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.l+").");if(this.u.length>e.MAX_PATH_DEPTH)throw Error(this.o+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.u.length?"":"in property '"+this.u.join(".")+"'"},e}();t.ValidationPath=a},function(e,t,n){"use strict";function r(e){a=e}function i(e){s=e}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a,s,u=n(14),c=n(1),l=n(5),d=n(15);t.setNodeFromJSON=r,t.setMaxNode=i;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?c.nameCompare(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return l.NamedNode.MIN},t.prototype.maxPost=function(){return new l.NamedNode(c.MAX_NAME,new d.LeafNode("[PRIORITY-POST]",s))},t.prototype.makePost=function(e,t){var n=a(e);return new l.NamedNode(t,new d.LeafNode("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(u.Index);t.PriorityIndex=h,t.PRIORITY_INDEX=new h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),a=n(1),s=n(16),u=n(5),c=n(35),l=n(3),d=n(10),h=n(37),p=n(15),f=n(39),m=function(){function e(e,t,n){this._=e,this.y=t,this.g=n,this.m=null,this.y&&c.validatePriorityNode(this.y),this._.isEmpty()&&o.assert(!this.y||this.y.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return i||(i=new e(new s.SortedMap(f.NAME_COMPARATOR),null,h.IndexMap.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.y||i},e.prototype.updatePriority=function(t){return this._.isEmpty()?this:new e(this._,t,this.g)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this._.get(e);return null===t?i:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this._.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new u.NamedNode(t,n),a=void 0,s=void 0,c=void 0;return n.isEmpty()?(a=this._.remove(t),s=this.g.removeFromIndexes(r,this._)):(a=this._.insert(t,n),s=this.g.addToIndexes(r,this._)),c=a.isEmpty()?i:this.y,new e(a,c,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this._.isEmpty()},e.prototype.numChildren=function(){return this._.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(l.PRIORITY_INDEX,function(a,s){n[a]=s.val(t),r++,o&&e.e.test(a)?i=Math.max(i,+a):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.m){var e="";this.getPriority().isEmpty()||(e+="priority:"+c.priorityHashText(this.getPriority().val())+":"),this.forEachChild(l.PRIORITY_INDEX,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.m=""===e?"":a.sha1(e)}return this.m},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.C(n);if(r){var i=r.getPredecessorKey(new u.NamedNode(e,t));return i?i.name:null}return this._.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.C(e);if(t){var n=t.minKey();return n&&n.name}return this._.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new u.NamedNode(t,this._.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.C(e);if(t){var n=t.maxKey();return n&&n.name}return this._.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new u.NamedNode(t,this._.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.C(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this._.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.C(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this._.getIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.C(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this._.getReverseIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===t.MAX_NODE?-1:0},e.prototype.withIndex=function(t){if(t===d.KEY_INDEX||this.g.hasIndex(t))return this;var n=this.g.addIndex(t,this._);return new e(this._,this.y,n)},e.prototype.isIndexed=function(e){return e===d.KEY_INDEX||this.g.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this._.count()===t._.count()){for(var n=this.getIterator(l.PRIORITY_INDEX),r=t.getIterator(l.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.C=function(e){return e===d.KEY_INDEX?null:this.g.get(""+e)},e.e=/^(0|[1-9]\d*)$/,e}();t.ChildrenNode=m;var g=function(e){function t(){return e.call(this,new s.SortedMap(f.NAME_COMPARATOR),m.EMPTY_NODE,h.IndexMap.Default)||this}return r(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return m.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(m);t.MaxNode=g,t.MAX_NODE=new g,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,m.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,t.MAX_NODE)}}),d.KeyIndex.__EMPTY_NODE=m.EMPTY_NODE,p.LeafNode.__childrenNodeConstructor=m,c.setMaxNode(t.MAX_NODE),l.setMaxNode(t.MAX_NODE)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}();t.NamedNode=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(1),a=n(0),s=n(0);t.N=/[\[\].#$\/\u0000-\u001F\u007F]/,t.P=/[\[\].#$\u0000-\u001F\u007F]/,t.S=10485760,t.isValidKey=function(e){return"string"==typeof e&&0!==e.length&&!t.N.test(e)},t.isValidPathString=function(e){return"string"==typeof e&&0!==e.length&&!t.P.test(e)},t.isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),t.isValidPathString(e)},t.isValidPriority=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!o.isInvalidJSONNumber(e)||e&&"object"==typeof e&&i.contains(e,".sv")},t.validateFirebaseDataArg=function(e,n,r,i,o){o&&void 0===r||t.validateFirebaseData(a.errorPrefix(e,n,o),r,i)},t.validateFirebaseData=function(e,n,a){var u=a instanceof r.Path?new r.ValidationPath(a,e):a;if(void 0===n)throw Error(e+"contains undefined "+u.toErrorString());if("function"==typeof n)throw Error(e+"contains a function "+u.toErrorString()+" with contents = "+n);if(o.isInvalidJSONNumber(n))throw Error(e+"contains "+n+" "+u.toErrorString());if("string"==typeof n&&n.length>t.S/3&&s.stringLength(n)>t.S)throw Error(e+"contains a string greater than "+t.S+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var c=!1,l=!1;if(i.forEach(n,function(n,r){if(".value"===n)c=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!t.isValidKey(n)))throw Error(e+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),t.validateFirebaseData(e,r,u),u.pop()}),c&&l)throw Error(e+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},t.validateFirebaseMergePaths=function(e,n){var i,o;for(i=0;i<n.length;i++)for(var a=(o=n[i]).slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!t.isValidKey(a[s]))throw Error(e+"contains an invalid key ("+a[s]+") in path "+o+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.sort(r.Path.comparePaths);var u=null;for(i=0;i<n.length;i++){if(o=n[i],null!==u&&u.contains(o))throw Error(e+"contains a path "+u+" that is ancestor of another path "+o);u=o}},t.validateFirebaseMergeDataArg=function(e,n,o,s,u){if(!u||void 0!==o){var c=a.errorPrefix(e,n,u);if(!o||"object"!=typeof o||Array.isArray(o))throw Error(c+" must be an object containing the children to replace.");var l=[];i.forEach(o,function(e,n){var i=new r.Path(e);if(t.validateFirebaseData(c,n,s.child(i)),".priority"===i.getBack()&&!t.isValidPriority(n))throw Error(c+"contains an invalid value for '"+i+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(i)}),t.validateFirebaseMergePaths(c,l)}},t.validatePriority=function(e,n,r,i){if(!i||void 0!==r){if(o.isInvalidJSONNumber(r))throw Error(a.errorPrefix(e,n,i)+"is "+r+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!t.isValidPriority(r))throw Error(a.errorPrefix(e,n,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},t.validateEventType=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.validateKey=function(e,n,r,i){if(!(i&&void 0===r||t.isValidKey(r)))throw Error(a.errorPrefix(e,n,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},t.validatePathString=function(e,n,r,i){if(!(i&&void 0===r||t.isValidPathString(r)))throw Error(a.errorPrefix(e,n,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},t.validateRootPathString=function(e,n,r,i){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),t.validatePathString(e,n,r,i)},t.validateWritablePath=function(e,t){if(".info"===t.getFront())throw Error(e+" failed = Can't modify data under /.info/")},t.validateUrl=function(e,n,r){var i=""+r.path;if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!t.isValidKey(r.repoInfo.namespace)||0!==i.length&&!t.isValidRootPathString(i))throw Error(a.errorPrefix(e,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},t.validateCredential=function(e,t,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw Error(a.errorPrefix(e,t,r)+"must be a valid credential (a string).")},t.validateBoolean=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw Error(a.errorPrefix(e,t,r)+"must be a boolean.")},t.validateString=function(e,t,n,r){if((!r||void 0!==n)&&"string"!=typeof n)throw Error(a.errorPrefix(e,t,r)+"must be a valid string.")},t.validateObject=function(e,t,n,r){if(!(r&&void 0===n||n&&"object"==typeof n&&null!==n))throw Error(a.errorPrefix(e,t,r)+"must be a valid object.")},t.validateObjectContainsKey=function(e,t,n,r,o,s){if(!n||"object"!=typeof n||!i.contains(n,r)){if(o)return;throw Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'"')}if(s){var u=i.safeGet(n,r);if("number"===s&&"number"!=typeof u||"string"===s&&"string"!=typeof u||"boolean"===s&&"boolean"!=typeof u||"function"===s&&"function"!=typeof u||"object"===s&&"object"!=typeof u&&u)throw o?Error(a.errorPrefix(e,t,o)+'contains invalid value for key "'+r+'" (must be of type "'+s+'")'):Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'" with type "'+s+'"')}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(t.OperationType||(t.OperationType={}));var i=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,r.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();t.OperationSource=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}();t.Change=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(14),a=n(5),s=n(1),u=n(0),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return s.nameCompare(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return a.NamedNode.MIN},t.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,i)},t.prototype.makePost=function(e,t){return u.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new a.NamedNode(e,i)},t.prototype.toString=function(){return".key"},t}(o.Index);t.KeyIndex=c,t.KEY_INDEX=new c},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=null),null===e)return i.ChildrenNode.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),u.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){var n=e;return new o.LeafNode(n,r(t))}if(e instanceof Array||!p){var f=i.ChildrenNode.EMPTY_NODE,m=e;return s.forEach(m,function(e,t){if(s.contains(m,e)&&"."!==e.substring(0,1)){var n=r(t);!n.isLeafNode()&&n.isEmpty()||(f=f.updateImmediateChild(e,n))}}),f.updatePriority(r(t))}var g=[],y=!1,v=e;if(s.forEach(v,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=r(v[e]);n.isEmpty()||(y=y||!n.getPriority().isEmpty(),g.push(new a.NamedNode(e,n)))}}),0==g.length)return i.ChildrenNode.EMPTY_NODE;var _=c.buildChildSet(g,l.NAME_ONLY_COMPARATOR,function(e){return e.name},l.NAME_COMPARATOR);if(y){var b=c.buildChildSet(g,h.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(_,r(t),new d.IndexMap({".priority":b},{".priority":h.PRIORITY_INDEX}))}return new i.ChildrenNode(_,r(t),d.IndexMap.Default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(15),a=n(5),s=n(0),u=n(0),c=n(38),l=n(39),d=n(37),h=n(3),p=!0;t.nodeFromJSON=r,h.setNodeFromJSON(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79),i=n(80),o=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(t)}}catch(e){}return new i.MemoryStorage};t.PersistentStorage=o("localStorage"),t.SessionStorage=o("sessionStorage")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_VERSION="5",t.VERSION_PARAM="v",t.TRANSPORT_SESSION_PARAM="s",t.REFERER_PARAM="r",t.FORGE_REF="f",t.FORGE_DOMAIN="firebaseio.com",t.LAST_SESSION_PARAM="ls",t.WEBSOCKET="websocket",t.LONG_POLLING="long_polling"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(1),o=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new r.NamedNode(i.MIN_NAME,e),o=new r.NamedNode(i.MIN_NAME,t);return 0!==this.compare(n,o)},e.prototype.minPost=function(){return r.NamedNode.MIN},e}();t.Index=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(35),s=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.T=t,this.y=n,this.m=null,i.assert(void 0!==this.T&&null!==this.T,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.y)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.y},e.prototype.updatePriority=function(t){return new e(this.T,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.y:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.y:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.y)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.m){var e="";this.y.isEmpty()||(e+="priority:"+a.priorityHashText(this.y.val())+":");var t=typeof this.T;e+=t+":",e+="number"===t?o.doubleToIEEE754String(this.T):this.T,this.m=o.sha1(e)}return this.m},e.prototype.getValue=function(){return this.T},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(i.assert(t.isLeafNode(),"Unknown node type"),this.w(t))},e.prototype.w=function(t){var n=typeof t.T,r=typeof this.T,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.T<t.T?-1:this.T===t.T?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.T===t.T&&this.y.equals(t.y)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();t.LeafNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.I=r,this.R=i,this.O=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.I?e.left:e.right;else{if(0===o){this.O.push(e);break}this.O.push(e),e=this.I?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.O.length)return null;var e,t=this.O.pop();if(e=this.R?this.R(t.key,t.value):{key:t.key,value:t.value},this.I)for(t=t.left;!t.isEmpty();)this.O.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.O.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.O.length>0},e.prototype.peek=function(){if(0===this.O.length)return null;var e=this.O[this.O.length-1];return this.R?this.R(e.key,e.value):{key:e.key,value:e.value}},e}();t.SortedMapIterator=r;var i=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:a.EMPTY_NODE,this.right=null!=o?o:a.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.A=function(){return this.left.isEmpty()?this:this.left.A()},e.prototype.minKey=function(){return this.A().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return i=this,r=n(e,i.key),(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).D()},e.prototype.M=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var e=this;return e.left.L()||e.left.left.L()||(e=e.F()),(e=e.copy(null,null,null,e.left.M(),null)).D()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.L()||n.left.left.L()||(n=n.F()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.L()&&(n=n.x()),n.right.isEmpty()||n.right.L()||n.right.left.L()||(n=n.k()),0===t(e,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.A(),n=n.copy(r.key,r.value,null,null,n.right.M())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.D()},e.prototype.L=function(){return this.color},e.prototype.D=function(){var e=this;return e.right.L()&&!e.left.L()&&(e=e.W()),e.left.L()&&e.left.left.L()&&(e=e.x()),e.left.L()&&e.right.L()&&(e=e.j()),e},e.prototype.F=function(){var e=this.j();return e.right.left.L()&&(e=e.copy(null,null,null,null,e.right.x()),e=e.W(),e=e.j()),e},e.prototype.k=function(){var e=this.j();return e.left.left.L()&&(e=e.x(),e=e.j()),e},e.prototype.W=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.x=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.j=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.V=function(){var e=this.Q();return Math.pow(2,e)<=this.count()+1},e.prototype.Q=function(){var e;if(this.L()&&this.left.L())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.L())throw Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.Q())!==this.right.Q())throw Error("Black depths differ");return e+(this.L()?0:1)},e.RED=!0,e.BLACK=!1,e}();t.LLRBNode=i;var o=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new i(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.Q=function(){return 0},e.prototype.L=function(){return!1},e}();t.LLRBEmptyNode=o;var a=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.U=t,this.B=n}return e.prototype.insert=function(t,n){return new e(this.U,this.B.insert(t,n,this.U).copy(null,null,i.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.U,this.B.remove(t,this.U).copy(null,null,i.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.B;!n.isEmpty();){if(0===(t=this.U(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.B,r=null;!n.isEmpty();){if(0===(t=this.U(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.B.isEmpty()},e.prototype.count=function(){return this.B.count()},e.prototype.minKey=function(){return this.B.minKey()},e.prototype.maxKey=function(){return this.B.maxKey()},e.prototype.inorderTraversal=function(e){return this.B.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.B.reverseTraversal(e)},e.prototype.getIterator=function(e){return new r(this.B,null,this.U,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new r(this.B,e,this.U,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new r(this.B,e,this.U,!0,t)},e.prototype.getReverseIterator=function(e){return new r(this.B,null,this.U,!0,e)},e.EMPTY_NODE=new o,e}();t.SortedMap=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(11),o=n(2),a=n(43),s=n(86),u=n(97),c=n(0),l=n(1),d=n(0),h=n(98),p=n(24),f=n(100),m=n(48),g=n(101),y=n(49),v=n(106),_=n(31),b=function(){function e(e,t,n){var r=this;this.H=e,this.app=n,this.dataUpdateCount=0,this.G=null,this.K=new g.EventQueue,this.Y=1,this.X=null,this.z=new a.SparseSnapshotTree,this.J=null;var i=new h.AuthTokenProvider(n);if(this.$=p.StatsManager.getCollection(e),t||l.beingCrawled())this.Z=new v.ReadonlyRestClient(this.H,this.ee.bind(this),i),setTimeout(this.te.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(o)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.J=new y.PersistentConnection(this.H,this.ee.bind(this),this.te.bind(this),this.ne.bind(this),i,o),this.Z=this.J}i.addTokenChangeListener(function(e){r.Z.refreshAuthToken(e)}),this.re=p.StatsManager.getOrCreateReporter(e,function(){return new f.StatsReporter(r.$,r.Z)}),this.ie(),this.oe=new u.SnapshotHolder,this.ae=new s.SyncTree({startListening:function(e,t,n,i){var o=[],a=r.oe.getNode(e.path);return a.isEmpty()||(o=r.ae.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.se("connected",!1),this.ue=new s.SyncTree({startListening:function(e,t,n,i){return r.Z.listen(e,n,t,function(t,n){var o=i(t,n);r.K.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){r.Z.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.H.secure?"https://":"http://")+this.H.host},e.prototype.name=function(){return this.H.namespace},e.prototype.serverTime=function(){var e=this.oe.getNode(new o.Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},e.prototype.ee=function(e,t,n,r){this.dataUpdateCount++;var a=new o.Path(e);t=this.X?this.X(e,t):t;var s=[];if(r)if(n){var u=d.map(t,function(e){return i.nodeFromJSON(e)});s=this.ue.applyTaggedQueryMerge(a,u,r)}else{var c=i.nodeFromJSON(t);s=this.ue.applyTaggedQueryOverwrite(a,c,r)}else if(n){var l=d.map(t,function(e){return i.nodeFromJSON(e)});s=this.ue.applyServerMerge(a,l)}else{var h=i.nodeFromJSON(t);s=this.ue.applyServerOverwrite(a,h)}var p=a;s.length>0&&(p=this.le(a)),this.K.raiseEventsForChangedPath(p,s)},e.prototype.he=function(e){this.X=e},e.prototype.te=function(e){this.se("connected",e),!1===e&&this.ce()},e.prototype.ne=function(e){var t=this;l.each(e,function(e,n){t.se(n,e)})},e.prototype.se=function(e,t){var n=new o.Path("/.info/"+e),r=i.nodeFromJSON(t);this.oe.updateSnapshot(n,r);var a=this.ae.applyServerOverwrite(n,r);this.K.raiseEventsForChangedPath(n,a)},e.prototype.pe=function(){return this.Y++},e.prototype.setWithPriority=function(e,t,n,o){var a=this;this.de("set",{path:""+e,value:t,priority:n});var s=this.generateServerValues(),u=i.nodeFromJSON(t,n),c=r.resolveDeferredValueSnapshot(u,s),d=this.pe(),h=this.ue.applyUserOverwrite(e,c,d,!0);this.K.queueEvents(h),this.Z.put(""+e,u.val(!0),function(t,n){var r="ok"===t;r||l.warn("set at "+e+" failed: "+t);var i=a.ue.ackUserWrite(d,!r);a.K.raiseEventsForChangedPath(e,i),a.callOnCompleteCallback(o,t,n)});var p=this.fe(e);this.le(p),this.K.raiseEventsForChangedPath(p,[])},e.prototype.update=function(e,t,n){var o=this;this.de("update",{path:""+e,value:t});var a=!0,s=this.generateServerValues(),u={};if(d.forEach(t,function(e,t){a=!1;var n=i.nodeFromJSON(t);u[e]=r.resolveDeferredValueSnapshot(n,s)}),a)l.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.pe(),h=this.ue.applyUserMerge(e,u,c);this.K.queueEvents(h),this.Z.merge(""+e,t,function(t,r){var i="ok"===t;i||l.warn("update at "+e+" failed: "+t);var a=o.ue.ackUserWrite(c,!i),s=a.length>0?o.le(e):e;o.K.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,t,r)}),d.forEach(t,function(t){var n=o.fe(e.child(t));o.le(n)}),this.K.raiseEventsForChangedPath(e,[])}},e.prototype.ce=function(){var e=this;this.de("onDisconnectEvents");var t=this.generateServerValues(),n=[];r.resolveDeferredValueTree(this.z,t).forEachTree(o.Path.Empty,function(t,r){n=n.concat(e.ue.applyServerOverwrite(t,r));var i=e.fe(t);e.le(i)}),this.z=new a.SparseSnapshotTree,this.K.raiseEventsForChangedPath(o.Path.Empty,n)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.Z.onDisconnectCancel(""+e,function(r,i){"ok"===r&&n.z.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,o=i.nodeFromJSON(t);this.Z.onDisconnectPut(""+e,o.val(!0),function(t,i){"ok"===t&&r.z.remember(e,o),r.callOnCompleteCallback(n,t,i)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var o=this,a=i.nodeFromJSON(t,n);this.Z.onDisconnectPut(""+e,a.val(!0),function(t,n){"ok"===t&&o.z.remember(e,a),o.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(d.isEmpty(t))return l.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.Z.onDisconnectMerge(""+e,t,function(o,a){"ok"===o&&d.forEach(t,function(t,n){var o=i.nodeFromJSON(n);r.z.remember(e.child(t),o)}),r.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.ae.addEventRegistration(e,t):this.ue.addEventRegistration(e,t),this.K.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.ae.removeEventRegistration(e,t):this.ue.removeEventRegistration(e,t),this.K.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.J&&this.J.interrupt("repo_interrupt")},e.prototype.resume=function(){this.J&&this.J.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.G||(this.G=new m.StatsListener(this.$)),t=this.G.get()):t=this.$.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);d.forEach(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.$.incrementCounter(e),this.re.includeStat(e)},e.prototype.de=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.J&&(n=this.J.id+":"),l.log.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&l.exceptionGuard(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new _.Database(this))},enumerable:!0,configurable:!0}),e}();t.Repo=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._e=e,this.ye=t,this.ve=n}return e.prototype.isFullyInitialized=function(){return this.ye},e.prototype.isFiltered=function(){return this.ve},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.ve;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.ve||this._e.hasChild(e)},e.prototype.getNode=function(){return this._e},e}();t.CacheNode=r},,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),o=n(82),a=n(1),s=n(83),u=n(34),c=n(17),l=n(2),d=n(107),h=n(7),p=n(0),f=n(0),m=n(46),g=function(e){function t(t,n){if(!(t instanceof c.Repo))throw Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,d.QueryParams.DEFAULT,!1)||this}return r(t,e),t.prototype.getKey=function(){return p.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return p.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e+="":e instanceof l.Path||(null===this.path.getFront()?h.validateRootPathString("Reference.child",1,e,!1):h.validatePathString("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){p.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){p.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){p.validateArgCount("Reference.set",1,2,arguments.length),h.validateWritablePath("Reference.set",this.path),h.validateFirebaseDataArg("Reference.set",1,e,this.path,!1),p.validateCallback("Reference.set",2,t,!0);var n=new f.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(p.validateArgCount("Reference.update",1,2,arguments.length),h.validateWritablePath("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}h.validateFirebaseMergeDataArg("Reference.update",1,e,this.path,!1),p.validateCallback("Reference.update",2,t,!0);var i=new f.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(p.validateArgCount("Reference.setWithPriority",2,3,arguments.length),h.validateWritablePath("Reference.setWithPriority",this.path),h.validateFirebaseDataArg("Reference.setWithPriority",1,e,this.path,!1),h.validatePriority("Reference.setWithPriority",2,t,!1),p.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new f.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return p.validateArgCount("Reference.remove",0,1,arguments.length),h.validateWritablePath("Reference.remove",this.path),p.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(p.validateArgCount("Reference.transaction",1,3,arguments.length),h.validateWritablePath("Reference.transaction",this.path),p.validateCallback("Reference.transaction",1,e,!1),p.validateCallback("Reference.transaction",2,t,!0),h.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new f.Deferred;"function"==typeof t&&r.promise.catch(function(){});var i=function(e,n,i){e?r.reject(e):r.resolve(new o.TransactionResult(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){p.validateArgCount("Reference.setPriority",1,2,arguments.length),h.validateWritablePath("Reference.setPriority",this.path),h.validatePriority("Reference.setPriority",1,e,!1),p.validateCallback("Reference.setPriority",2,t,!0);var n=new f.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){p.validateArgCount("Reference.push",0,2,arguments.length),h.validateWritablePath("Reference.push",this.path),h.validateFirebaseDataArg("Reference.push",1,e,this.path,!0),p.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=s.nextPushId(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return h.validateWritablePath("Reference.onDisconnect",this.path),new i.OnDisconnect(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(u.Query);t.Reference=g,u.Query.__referenceConstructor=g,m.SyncPoint.__referenceConstructor=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(16),o=n(2),a=n(1),s=n(0),u=function(){return r||(r=new i.SortedMap(a.stringCompare)),r},c=function(){function e(e,t){void 0===t&&(t=u()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return s.forEach(t,function(e,t){n=n.set(new o.Path(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:o.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new o.Path(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.ge(o.Path.Empty,e)},e.prototype.ge=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.ge(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.me(e,o.Path.Empty,t)},e.prototype.me=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.me(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.Ce(e,o.Path.Empty,t)},e.prototype.Ce=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.Ce(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.Ee(o.Path.Empty,e)},e.prototype.Ee=function(e,t){this.children.inorderTraversal(function(n,r){r.Ee(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}();t.ImmutableTree=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(9),o=n(4),a=n(3),s=function(){function e(e){this.Ne=e}return e.prototype.updateChild=function(e,t,n,o,a,s){r.assert(e.isIndexed(this.Ne),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(t);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(i.Change.childRemovedChange(t,u)):r.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(i.Change.childAddedChange(t,n)):s.trackChildChange(i.Change.childChangedChange(t,n,u))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.Ne))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){t.hasChild(e)||n.trackChildChange(i.Change.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(t,r,o))}else n.trackChildChange(i.Change.childAddedChange(t,r))})),t.withIndex(this.Ne)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?o.ChildrenNode.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.Ne},e}();t.IndexedFilter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),i=function(){function e(){}return e.getCollection=function(e){var t=""+e;return this.Pe[t]||(this.Pe[t]=new r.StatsCollection),this.Pe[t]},e.getOrCreateReporter=function(e,t){var n=""+e;return this.be[n]||(this.be[n]=t()),this.be[n]},e.Pe={},e.be={},e}();t.StatsManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(17),o=n(1),a=n(32),s=n(7);n(109);var u,c=function(){function e(){this.Se={},this.Te=!1}return e.getInstance=function(){return u||(u=new e),u},e.prototype.interrupt=function(){for(var e in this.Se)for(var t in this.Se[e])this.Se[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.Se)for(var t in this.Se[e])this.Se[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=a.parseRepoInfo(n),i=r.repoInfo;return s.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=r.safeGet(this.Se,e.app.name);t&&r.safeGet(t,e.H.toURLString())===e||o.fatal("Database "+e.app.name+"("+e.H+") has already been deleted."),e.interrupt(),delete t[e.H.toURLString()]},e.prototype.createRepo=function(e,t){var n=r.safeGet(this.Se,t.name);n||(n={},this.Se[t.name]=n);var a=r.safeGet(n,e.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new i.Repo(e,this.Te,t),n[e.toURLString()]=a,a},e.prototype.forceRestClient=function(e){this.Te=e},e}();t.RepoManager=c},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(32),o=n(2),a=n(21),s=n(17),u=n(25),c=n(0),l=n(7),d=function(){function e(e){this.we=e,e instanceof s.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.B=new a.Reference(e,o.Path.Empty),this.INTERNAL=new h(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.we.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.Ie("ref"),c.validateArgCount("database.ref",0,1,arguments.length),void 0!==e?this.B.child(e):this.B},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.Ie(t),c.validateArgCount(t,1,1,arguments.length);var n=i.parseRepoInfo(e);l.validateUrl(t,1,n);var o=n.repoInfo;return o.host!==this.we.H.host&&r.fatal(t+": Host name does not match the current database: (found "+o.host+" but expected "+this.we.H.host+")"),this.ref(""+n.path)},e.prototype.Ie=function(e){null===this.we&&r.fatal("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.Ie("goOffline"),this.we.interrupt()},e.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.Ie("goOnline"),this.we.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}();t.Database=d;var h=function(){function e(e){this.database=e}return e.prototype.delete=function(){return this.database.Ie("delete"),u.RepoManager.getInstance().deleteRepo(this.database.we),this.database.we=null,this.database.B=null,this.database.INTERNAL=null,this.database=null,Promise.resolve()},e}();t.DatabaseInternals=h},function(e,t,n){"use strict";function r(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(33),a=n(1);t.parseRepoInfo=function(e){var n=t.parseURL(e),r=n.subdomain;"firebase"===n.domain&&a.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!=r||a.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||a.warnIfPageIsSecure();var s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new o.RepoInfo(n.host,n.secure,r,s),path:new i.Path(n.pathString)}},t.parseURL=function(e){var t="",n="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length),t=e.substring(0,l),o=r(e.substring(l));var d=t.split(".");3===d.length?(n=d[1],i=d[0].toLowerCase()):2===d.length&&(n=d[0]),(c=t.indexOf(":"))>=0&&(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10))}return{host:t,port:u,domain:n,subdomain:i,secure:a,scheme:s,pathString:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(12),a=n(13),s=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){r.assert("string"==typeof e,"typeof type must == string"),r.assert("object"==typeof t,"typeof params must == object");var n;if(e===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==a.LONG_POLLING)throw Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var o=[];return i.forEach(t,function(e,t){o.push(e+"="+t)}),n+o.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();t.RepoInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(10),a=n(3),s=n(36),u=n(40),c=n(1),l=n(2),d=n(7),h=n(0),p=n(84),f=n(0),m=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.Re=n,this.Oe=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return i.assert(r,"Reference.ts has not been loaded"),r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.Ae=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===o.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=c.MIN_NAME)throw Error(r);if("string"!=typeof t)throw Error(l)}if(e.hasEnd()){if(e.getIndexEndName()!=c.MAX_NAME)throw Error(r);if("string"!=typeof n)throw Error(l)}}else if(e.getIndex()===a.PRIORITY_INDEX){if(null!=t&&!d.isValidPriority(t)||null!=n&&!d.isValidPriority(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(e.getIndex()instanceof u.PathIndex||e.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.De=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.Me=function(e){if(!0===this.Oe)throw Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.Re},e.prototype.getRef=function(){return h.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){h.validateArgCount("Query.on",2,4,arguments.length),d.validateEventType("Query.on",1,t,!1),h.validateCallback("Query.on",2,n,!1);var o=e.Le("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new p.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new p.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){h.validateArgCount("Query.off",0,3,arguments.length),d.validateEventType("Query.off",1,e,!0),h.validateCallback("Query.off",2,t,!0),h.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new p.ValueEventRegistration(o,null,n||null)}else e&&(t&&(i={},i[e]=t),r=new p.ChildEventRegistration(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;h.validateArgCount("Query.once",1,4,arguments.length),d.validateEventType("Query.once",1,t,!1),h.validateCallback("Query.once",2,n,!0);var a=e.Le("Query.once",r,i),s=!0,u=new f.Deferred;u.promise.catch(function(){});var c=function(e){s&&(s=!1,o.off(t,c),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,c,function(e){o.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(h.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.Re.hasLimit())throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.Re.limitToFirst(t),this.Oe)},e.prototype.limitToLast=function(t){if(h.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.Re.hasLimit())throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.Re.limitToLast(t),this.Oe)},e.prototype.orderByChild=function(t){if(h.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');d.validatePathString("Query.orderByChild",1,t,!1),this.Me("Query.orderByChild");var n=new l.Path(t);if(n.isEmpty())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),i=this.Re.orderBy(r);return e.Ae(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){h.validateArgCount("Query.orderByKey",0,0,arguments.length),this.Me("Query.orderByKey");var t=this.Re.orderBy(o.KEY_INDEX);return e.Ae(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){h.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.Me("Query.orderByPriority");var t=this.Re.orderBy(a.PRIORITY_INDEX);return e.Ae(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){h.validateArgCount("Query.orderByValue",0,0,arguments.length),this.Me("Query.orderByValue");var t=this.Re.orderBy(s.VALUE_INDEX);return e.Ae(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),h.validateArgCount("Query.startAt",0,2,arguments.length),d.validateFirebaseDataArg("Query.startAt",1,t,this.path,!0),d.validateKey("Query.startAt",2,n,!0);var r=this.Re.startAt(t,n);if(e.De(r),e.Ae(r),this.Re.hasStart())throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.Oe)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),h.validateArgCount("Query.endAt",0,2,arguments.length),d.validateFirebaseDataArg("Query.endAt",1,t,this.path,!0),d.validateKey("Query.endAt",2,n,!0);var r=this.Re.endAt(t,n);if(e.De(r),e.Ae(r),this.Re.hasEnd())throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.Oe)},e.prototype.equalTo=function(e,t){if(h.validateArgCount("Query.equalTo",1,2,arguments.length),d.validateFirebaseDataArg("Query.equalTo",1,e,this.path,!1),d.validateKey("Query.equalTo",2,t,!0),this.Re.hasStart())throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.Re.hasEnd())throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return h.validateArgCount("Query.toString",0,0,arguments.length),""+this.repo+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return h.validateArgCount("Query.toJSON",0,1,arguments.length),""+this},e.prototype.queryObject=function(){return this.Re.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=c.ObjectToUniqueKey(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(h.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.Le=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,h.validateCallback(e,3,r.cancel,!0),r.context=n,h.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw Error(h.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.Query=m},function(e,t,n){"use strict";function r(e){i=e}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),a=n(1),s=n(0);t.setMaxNode=r,t.priorityHashText=function(e){return"number"==typeof e?"number:"+a.doubleToIEEE754String(e):"string:"+e},t.validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===i||e.isEmpty(),"priority of unexpected type.");o.assert(e===i||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=n(5),a=n(1),s=n(11),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?a.nameCompare(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return o.NamedNode.MIN},t.prototype.maxPost=function(){return o.NamedNode.MAX},t.prototype.makePost=function(e,t){var n=s.nodeFromJSON(e);return new o.NamedNode(t,n)},t.prototype.toString=function(){return".value"},t}(i.Index);t.ValueIndex=u,t.VALUE_INDEX=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(38),a=n(0),s=n(5),u=n(3),c=n(10),l={},d=function(){function e(e,t){this.Fe=e,this.xe=t}return Object.defineProperty(e,"Default",{get:function(){return i.assert(l&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new e({".priority":l},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.Fe,e);if(!t)throw Error("No index defined for "+e);return t===l?null:t},e.prototype.hasIndex=function(e){return a.contains(this.xe,""+e)},e.prototype.addIndex=function(t,n){i.assert(t!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,d=n.getIterator(s.NamedNode.Wrap),h=d.getNext();h;)u=u||t.isDefinedOn(h.node),r.push(h),h=d.getNext();var p;p=u?o.buildChildSet(r,t.getCompare()):l;var f=""+t,m=a.clone(this.xe);m[f]=t;var g=a.clone(this.Fe);return g[f]=p,new e(g,m)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.Fe,function(e,u){var c=a.safeGet(r.xe,u);if(i.assert(c,"Missing index implementation for "+u),e===l){if(c.isDefinedOn(t.node)){for(var d=[],h=n.getIterator(s.NamedNode.Wrap),p=h.getNext();p;)p.name!=t.name&&d.push(p),p=h.getNext();return d.push(t),o.buildChildSet(d,c.getCompare())}return l}var f=n.get(t.name),m=e;return f&&(m=m.remove(new s.NamedNode(t.name,f))),m.insert(t,t.node)}),this.xe)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.Fe,function(e){if(e===l)return e;var r=n.get(t.name);return r?e.remove(new s.NamedNode(t.name,r)):e}),this.xe)},e}();t.IndexMap=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(16),o=Math.log(2),a=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/o,10)}(e+1),this.ke=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.We=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.We&1<<this.ke);return this.ke--,e},e}();t.buildChildSet=function(e,t,n,o){e.sort(t);var s=function(t,i){var o,a,u=i-t;if(0==u)return null;if(1==u)return o=e[t],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,null,null);var c=parseInt(u/2,10)+t,l=s(t,c),d=s(c+1,i);return o=e[c],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,l,d)},u=function(t){for(var i=null,o=null,a=e.length,u=function(t,i){var o=a-t,u=a;a-=t;var l=s(o+1,u),d=e[o],h=n?n(d):d;c(new r.LLRBNode(h,d.node,i,null,l))},c=function(e){i?(i.left=e,i=e):(o=e,i=e)},l=0;l<t.count;++l){var d=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));d?u(h,r.LLRBNode.BLACK):(u(h,r.LLRBNode.BLACK),u(h,r.LLRBNode.RED))}return o}(new a(e.length));return new i.SortedMap(o||t,u)}},function(e,t,n){"use strict";function r(e,t){return o.nameCompare(e.name,t.name)}function i(e,t){return o.nameCompare(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.NAME_ONLY_COMPARATOR=r,t.NAME_COMPARATOR=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(14),s=n(4),u=n(5),c=n(11),l=function(e){function t(t){var n=e.call(this)||this;return n.je=t,i.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r(t,e),t.prototype.extractChild=function(e){return e.getChild(this.je)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.je).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?o.nameCompare(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=c.nodeFromJSON(e),r=s.ChildrenNode.EMPTY_NODE.updateChild(this.je,n);return new u.NamedNode(t,r)},t.prototype.maxPost=function(){var e=s.ChildrenNode.EMPTY_NODE.updateChild(this.je,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,e)},t.prototype.toString=function(){return this.je.slice().join("/")},t}(a.Index);t.PathIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=n(2),a=n(3),s=function(){function e(e,t,n){this._e=e,this.Ve=t,this.Ne=n}return e.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this._e.val()},e.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this._e.val(!0)},e.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this._e.isEmpty()},e.prototype.child=function(t){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),t+="",i.validatePathString("DataSnapshot.child",1,t,!1);var n=new o.Path(t),s=this.Ve.child(n);return new e(this._e.getChild(n),s,a.PRIORITY_INDEX)},e.prototype.hasChild=function(e){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),i.validatePathString("DataSnapshot.hasChild",1,e,!1);var t=new o.Path(e);return!this._e.getChild(t).isEmpty()},e.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this._e.getPriority().val()},e.prototype.forEach=function(t){var n=this;return r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,t,!1),!this._e.isLeafNode()&&!!this._e.forEachChild(this.Ne,function(r,i){return t(new e(i,n.Ve.child(r),a.PRIORITY_INDEX))})},e.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this._e.isLeafNode()&&!this._e.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.Ve.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this._e.numChildren()},e.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.Ve},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.DataSnapshot=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(43),a=n(15),s=n(11),u=n(3);t.generateWithValues=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},t.resolveDeferredValue=function(e,t){return e&&"object"==typeof e?(r.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},t.resolveDeferredValueTree=function(e,n){var r=new o.SparseSnapshotTree;return e.forEachTree(new i.Path(""),function(e,i){r.remember(e,t.resolveDeferredValueSnapshot(i,n))}),r},t.resolveDeferredValueSnapshot=function(e,n){var r,i=e.getPriority().val(),o=t.resolveDeferredValue(i,n);if(e.isLeafNode()){var c=e,l=t.resolveDeferredValue(c.getValue(),n);return l!==c.getValue()||o!==c.getPriority().val()?new a.LeafNode(l,s.nodeFromJSON(o)):e}var d=e;return r=d,o!==d.getPriority().val()&&(r=r.updatePriority(new a.LeafNode(o))),d.forEachChild(u.PRIORITY_INDEX,function(e,i){var o=t.resolveDeferredValueSnapshot(i,n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(3),o=n(44),a=function(){function e(){this.T=null,this._=null}return e.prototype.find=function(e){if(null!=this.T)return this.T.getChild(e);if(e.isEmpty()||null==this._)return null;var t=e.getFront();return e=e.popFront(),this._.contains(t)?this._.get(t).find(e):null},e.prototype.remember=function(t,n){if(t.isEmpty())this.T=n,this._=null;else if(null!==this.T)this.T=this.T.updateChild(t,n);else{null==this._&&(this._=new o.CountedSet);var r=t.getFront();this._.contains(r)||this._.add(r,new e);var i=this._.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.T=null,this._=null,!0;if(null!==this.T){if(this.T.isLeafNode())return!1;var t=this.T;this.T=null;var n=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){n.remember(new r.Path(e),t)}),this.forget(e)}if(null!==this._){var o=e.getFront();return e=e.popFront(),this._.contains(o)&&this._.get(o).forget(e)&&this._.remove(o),!!this._.isEmpty()&&(this._=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.T?t(e,this.T):this.forEachChild(function(n,i){var o=new r.Path(e+"/"+n);i.forEachTree(o,t)})},e.prototype.forEachChild=function(e){null!==this._&&this._.each(function(t,n){e(t,n)})},e}();t.SparseSnapshotTree=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return r.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return r.isEmpty(this.set)},e.prototype.count=function(){return r.getCount(this.set)},e.prototype.each=function(e){r.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return r.forEach(this.set,function(t){e.push(t)}),e},e}();t.CountedSet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(2),o=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=r.OperationType.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,i.Path.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();t.Overwrite=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(18),o=n(4),a=n(0),s=n(0),u=n(47),c=n(90),l=function(){function e(){this.Qe={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(r,"Reference.ts has not been loaded"),r},set:function(e){a.assert(!r,"__referenceConstructor has already been defined"),r=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return s.isEmpty(this.Qe)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=s.safeGet(this.Qe,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var o=[];return s.forEach(this.Qe,function(r,i){o=o.concat(i.applyOperation(e,t,n))}),o},e.prototype.addEventRegistration=function(e,t,n,r,a){var l=e.queryIdentifier(),d=s.safeGet(this.Qe,l);if(!d){var h=n.calcCompleteEventCache(a?r:null),p=!1;h?p=!0:r instanceof o.ChildrenNode?(h=n.calcCompleteEventChildren(r),p=!1):(h=o.ChildrenNode.EMPTY_NODE,p=!1);var f=new u.ViewCache(new i.CacheNode(h,p,!1),new i.CacheNode(r,a,!1));d=new c.View(e,f),this.Qe[l]=d}return d.addEventRegistration(t),d.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i=t.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var c=this;s.forEach(this.Qe,function(e,t){a=a.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete c.Qe[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var l=s.safeGet(this.Qe,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.Qe[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:a}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.Qe).map(function(t){return e.Qe[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return s.forEach(this.Qe,function(n,r){t=t||r.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return s.safeGet(this.Qe,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return s.findValue(this.Qe,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}();t.SyncPoint=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(18),o=function(){function e(e,t){this.qe=e,this.Ue=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new i.CacheNode(t,n,r),this.Ue)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.qe,new i.CacheNode(t,n,r))},e.prototype.getEventCache=function(){return this.qe},e.prototype.getCompleteEventSnap=function(){return this.qe.isFullyInitialized()?this.qe.getNode():null},e.prototype.getServerCache=function(){return this.Ue},e.prototype.getCompleteServerSnap=function(){return this.Ue.isFullyInitialized()?this.Ue.getNode():null},e.Empty=new e(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),e}();t.ViewCache=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.Be=e,this.He=null}return e.prototype.get=function(){var e=this.Be.get(),t=r.clone(e);return this.He&&r.forEach(this.He,function(e,n){t[e]=t[e]-n}),this.He=e,t},e}();t.StatsListener=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(0),a=n(0),s=n(0),u=n(1),c=n(2),l=n(102),d=n(103),h=n(0),p=n(51),f=n(0),m=n(0),g=1e3,y=3e5,v=function(e){function t(n,r,i,o,a,s){var c=e.call(this)||this;if(c.H=n,c.ee=r,c.te=i,c.ne=o,c.Ge=a,c.Ke=s,c.id=t.Ye++,c.de=u.logWrapper("p:"+c.id+":"),c.Xe={},c.ze={},c.Je=[],c.$e=0,c.Ze=[],c.et=!1,c.tt=g,c.nt=y,c.rt=null,c.lastSessionId=null,c.it=null,c.ot=!1,c.at={},c.st=0,c.ut=null,c.lt=null,c.ht=!1,c.ct=0,c.pt=!0,c.dt=null,c.ft=null,s&&!m.isNodeSdk())throw Error("Auth override specified in options, but not supported on non Node.js platforms");return c._t(0),l.VisibilityMonitor.getInstance().on("visible",c.yt,c),-1===n.host.indexOf("fblocal")&&d.OnlineMonitor.getInstance().on("online",c.vt,c),c}return r(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.st,i={r:r,a:e,b:t};this.de(a.stringify(i)),s.assert(this.et,"sendRequest call when we're not connected not allowed."),this.ut.sendRequest(i),n&&(this.at[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=""+e.path;this.de("Listen called for "+o+" "+i),this.ze[o]=this.ze[o]||{},s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.ze[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.ze[o][i]=a,this.et&&this.gt(a)},t.prototype.gt=function(e){var n=this,r=e.query,i=""+r.path,o=r.queryIdentifier();this.de("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.mt(s,r),(n.ze[i]&&n.ze[i][o])===e&&(n.de("listen response",a),"ok"!==u&&n.Ct(i,o),e.onComplete&&e.onComplete(u,s))})},t.mt=function(e,t){if(e&&"object"==typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex()+'"',i=""+t.path;u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.lt=e,this.de("Auth token refreshed"),this.lt?this.tryAuth():this.et&&this.sendRequest("unauth",{},function(){}),this.Et(e)},t.prototype.Et=function(e){(e&&40===e.length||h.isAdmin(e))&&(this.de("Admin auth credential detected.  Reducing max reconnect time."),this.nt=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.et&&this.lt){var t=this.lt,n=h.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.Ke?r.noauth=!0:"object"==typeof this.Ke&&(r.authvar=this.Ke),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.lt===t&&("ok"===r?e.ct=0:e.Nt(r,i))})}},t.prototype.unlisten=function(e,t){var n=""+e.path,r=e.queryIdentifier();this.de("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.Ct(n,r)&&this.et&&this.Pt(n,r,e.queryObject(),t)},t.prototype.Pt=function(e,t,n,r){this.de("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.et?this.bt("o",e,t,n):this.Ze.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.et?this.bt("om",e,t,n):this.Ze.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.et?this.bt("oc",e,null,t):this.Ze.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.bt=function(e,t,n,r){var i={p:t,d:n};this.de("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.Je.push({action:e,request:o,onComplete:r}),this.$e++;var a=this.Je.length-1;this.et?this.St(a):this.de("Buffering put: "+t)},t.prototype.St=function(e){var t=this,n=this.Je[e].action,r=this.Je[e].request,i=this.Je[e].onComplete;this.Je[e].queued=this.et,this.sendRequest(n,r,function(r){t.de(n+" response",r),delete t.Je[e],t.$e--,0===t.$e&&(t.Je=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.et){var n={c:e};this.de("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.de("reportStats","Error sending stats: "+n)}})}},t.prototype.Tt=function(e){if("r"in e){this.de("from server: "+a.stringify(e));var t=e.r,n=this.at[t];n&&(delete this.at[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.wt(e.a,e.b)}},t.prototype.wt=function(e,t){this.de("handleServerMessage",e,t),"d"===e?this.ee(t.p,t.d,!1,t.t):"m"===e?this.ee(t.p,t.d,!0,t.t):"c"===e?this.It(t.p,t.q):"ac"===e?this.Nt(t.s,t.d):"sd"===e?this.Rt(t):u.error("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.Ot=function(e,t){this.de("connection ready"),this.et=!0,this.ft=(new Date).getTime(),this.At(e),this.lastSessionId=t,this.pt&&this.Dt(),this.Mt(),this.pt=!1,this.te(!0)},t.prototype._t=function(e){var t=this;s.assert(!this.ut,"Scheduling a connect when we're already connected/ing?"),this.it&&clearTimeout(this.it),this.it=setTimeout(function(){t.it=null,t.Lt()},Math.floor(e))},t.prototype.yt=function(e){e&&!this.ot&&this.tt===this.nt&&(this.de("Window became visible.  Reducing delay."),this.tt=g,this.ut||this._t(0)),this.ot=e},t.prototype.vt=function(e){e?(this.de("Browser went online."),this.tt=g,this.ut||this._t(0)):(this.de("Browser went offline.  Killing connection."),this.ut&&this.ut.close())},t.prototype.Ft=function(){if(this.de("data client disconnected"),this.et=!1,this.ut=null,this.xt(),this.at={},this.kt()){if(this.ot){if(this.ft){(new Date).getTime()-this.ft>3e4&&(this.tt=g),this.ft=null}}else this.de("Window isn't visible.  Delaying reconnect."),this.tt=this.nt,this.dt=(new Date).getTime();var e=(new Date).getTime()-this.dt,t=Math.max(0,this.tt-e);t=Math.random()*t,this.de("Trying to reconnect in "+t+"ms"),this._t(t),this.tt=Math.min(this.nt,1.3*this.tt)}this.te(!1)},t.prototype.Lt=function(){if(this.kt()){this.de("Making a connection attempt"),this.dt=(new Date).getTime(),this.ft=null;var e=this.Tt.bind(this),n=this.Ot.bind(this),r=this.Ft.bind(this),i=this.id+":"+t.Wt++,o=this,a=this.lastSessionId,c=!1,l=null,d=function(){l?l.close():(c=!0,r())},h=function(e){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)};this.ut={close:d,sendRequest:h};var m=this.ht;this.ht=!1,this.Ge.getToken(m).then(function(t){c?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.lt=t&&t.accessToken,l=new p.Connection(i,o.H,e,n,r,function(e){u.warn(e+" ("+o.H+")"),o.interrupt("server_kill")},a))}).then(null,function(e){o.de("Failed to get token: "+e),c||(f.CONSTANTS.NODE_ADMIN&&u.warn(e),d())})}},t.prototype.interrupt=function(e){u.log("Interrupting connection for reason: "+e),this.Xe[e]=!0,this.ut?this.ut.close():(this.it&&(clearTimeout(this.it),this.it=null),this.et&&this.Ft())},t.prototype.resume=function(e){u.log("Resuming connection for reason: "+e),delete this.Xe[e],o.isEmpty(this.Xe)&&(this.tt=g,this.ut||this._t(0))},t.prototype.At=function(e){var t=e-(new Date).getTime();this.ne({serverTimeOffset:t})},t.prototype.xt=function(){for(var e=0;e<this.Je.length;e++){var t=this.Je[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.Je[e],this.$e--)}0===this.$e&&(this.Je=[])},t.prototype.It=function(e,t){var n;n=t?t.map(function(e){return u.ObjectToUniqueKey(e)}).join("$"):"default";var r=this.Ct(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.Ct=function(e,t){var n,r=""+new c.Path(e);return void 0!==this.ze[r]?(n=this.ze[r][t],delete this.ze[r][t],0===o.getCount(this.ze[r])&&delete this.ze[r]):n=void 0,n},t.prototype.Nt=function(e,t){u.log("Auth token revoked: "+e+"/"+t),this.lt=null,this.ht=!0,this.ut.close(),"invalid_token"!==e&&"permission_denied"!==e||++this.ct>=3&&(this.tt=3e4,this.Ge.notifyForInvalidToken())},t.prototype.Rt=function(e){this.rt?this.rt(e):"msg"in e&&"undefined"!=typeof console&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.Mt=function(){var e=this;this.tryAuth(),o.forEach(this.ze,function(t,n){o.forEach(n,function(t,n){e.gt(n)})});for(var t=0;t<this.Je.length;t++)this.Je[t]&&this.St(t);for(;this.Ze.length;){var n=this.Ze.shift();this.bt(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.Dt=function(){var e={},t="js";f.CONSTANTS.NODE_ADMIN?t="admin_node":f.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,m.isMobileCordova()?e["framework.cordova"]=1:m.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.kt=function(){var e=d.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.Xe)&&e},t.Ye=0,t.Wt=0,t}(n(54).ServerActions);t.PersistentConnection=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.jt=e,this.Vt={},r.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.Vt[e]))for(var r=this.Vt[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.Qt(e),this.Vt[e]=this.Vt[e]||[],this.Vt[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.Qt(e);for(var r=this.Vt[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.Qt=function(e){r.assert(this.jt.find(function(t){return t===e}),"Unknown event: "+e)},e}();t.EventEmitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(12),o=n(13),a=n(104),s=function(){function e(e,t,n,i,o,s,u){this.id=e,this.H=t,this.qt=n,this.Ot=i,this.z=o,this.Ut=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.Bt=0,this.de=r.logWrapper("c:"+this.id+":"),this.Ht=new a.TransportManager(t),this.de("Connection created"),this.Gt()}return e.prototype.Gt=function(){var e=this,t=this.Ht.initialTransport();this.Kt=new t(this.Yt(),this.H,void 0,this.lastSessionId),this.Xt=t.responsesRequiredToBeHealthy||0;var n=this.zt(this.Kt),i=this.Jt(this.Kt);this.$t=this.Kt,this.Zt=this.Kt,this.en=null,this.tn=!1,setTimeout(function(){e.Kt&&e.Kt.open(n,i)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.nn=r.setTimeoutNonBlocking(function(){e.nn=null,e.tn||(e.Kt&&e.Kt.bytesReceived>102400?(e.de("Connection exceeded healthy timeout but has received "+e.Kt.bytesReceived+" bytes.  Marking connection healthy."),e.tn=!0,e.Kt.markConnectionHealthy()):e.Kt&&e.Kt.bytesSent>10240?e.de("Connection exceeded healthy timeout but has sent "+e.Kt.bytesSent+" bytes.  Leaving connection alive."):(e.de("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},e.prototype.Yt=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.Jt=function(e){var t=this;return function(n){e===t.Kt?t.rn(n):e===t.en?(t.de("Secondary connection lost."),t.in()):t.de("closing an old connection")}},e.prototype.zt=function(e){var t=this;return function(n){2!=t.Bt&&(e===t.Zt?t.an(n):e===t.en?t.sn(n):t.de("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.un(t)},e.prototype.tryCleanupConnection=function(){this.$t===this.en&&this.Zt===this.en&&(this.de("cleaning up and promoting a connection: "+this.en.connId),this.Kt=this.en,this.en=null)},e.prototype.ln=function(e){if("t"in e){var t=e.t;"a"===t?this.hn():"r"===t?(this.de("Got a reset on secondary, closing it"),this.en.close(),this.$t!==this.en&&this.Zt!==this.en||this.close()):"o"===t&&(this.de("got pong on secondary."),this.cn--,this.hn())}},e.prototype.sn=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);if("c"==t)this.ln(n);else{if("d"!=t)throw Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.hn=function(){this.cn<=0?(this.de("Secondary connection is healthy."),this.tn=!0,this.en.markConnectionHealthy(),this.pn()):(this.de("sending ping on secondary."),this.en.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.pn=function(){this.en.start(),this.de("sending client ack on secondary"),this.en.send({t:"c",d:{t:"a",d:{}}}),this.de("Ending transmission on primary"),this.Kt.send({t:"c",d:{t:"n",d:{}}}),this.$t=this.en,this.tryCleanupConnection()},e.prototype.an=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);"c"==t?this.dn(n):"d"==t&&this.Tt(n)},e.prototype.Tt=function(e){this.fn(),this.qt(e)},e.prototype.fn=function(){this.tn||--this.Xt<=0&&(this.de("Primary connection is healthy."),this.tn=!0,this.Kt.markConnectionHealthy())},e.prototype.dn=function(e){var t=r.requireKey("t",e);if("d"in e){var n=e.d;if("h"===t)this._n(n);else if("n"===t){this.de("recvd end transmission on primary"),this.Zt=this.en;for(var i=0;i<this.pendingDataMessages.length;++i)this.Tt(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.yn(n):"r"===t?this.vn(n):"e"===t?r.error("Server Error: "+n):"o"===t?(this.de("got pong on primary."),this.fn(),this.gn()):r.error("Unknown control packet command: "+t)}},e.prototype._n=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.H.updateHost(i),0==this.Bt&&(this.Kt.start(),this.mn(this.Kt,t),o.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.Cn())},e.prototype.Cn=function(){var e=this.Ht.upgradeTransport();e&&this.En(e)},e.prototype.En=function(e){var t=this;this.en=new e(this.Yt(),this.H,this.sessionId),this.cn=e.responsesRequiredToBeHealthy||0;var n=this.zt(this.en),i=this.Jt(this.en);this.en.open(n,i),r.setTimeoutNonBlocking(function(){t.en&&(t.de("Timed out trying to upgrade."),t.en.close())},Math.floor(6e4))},e.prototype.vn=function(e){this.de("Reset packet received.  New host: "+e),this.H.updateHost(e),1===this.Bt?this.close():(this.Nn(),this.Gt())},e.prototype.mn=function(e,t){var n=this;this.de("Realtime connection established."),this.Kt=e,this.Bt=1,this.Ot&&(this.Ot(t,this.sessionId),this.Ot=null),0===this.Xt?(this.de("Primary connection is healthy."),this.tn=!0):r.setTimeoutNonBlocking(function(){n.gn()},Math.floor(5e3))},e.prototype.gn=function(){this.tn||1!==this.Bt||(this.de("sending ping on primary."),this.un({t:"c",d:{t:"p",d:{}}}))},e.prototype.in=function(){var e=this.en;this.en=null,this.$t!==e&&this.Zt!==e||this.close()},e.prototype.rn=function(e){this.Kt=null,e||0!==this.Bt?1===this.Bt&&this.de("Realtime connection lost."):(this.de("Realtime connection failed."),this.H.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.H.host),this.H.internalHost=this.H.host)),this.close()},e.prototype.yn=function(e){this.de("Connection shutdown command received. Shutting down..."),this.Ut&&(this.Ut(e),this.Ut=null),this.z=null,this.close()},e.prototype.un=function(e){if(1!==this.Bt)throw"Connection is not connected";this.$t.send(e)},e.prototype.close=function(){2!==this.Bt&&(this.de("Closing realtime connection."),this.Bt=2,this.Nn(),this.z&&(this.z(),this.z=null))},e.prototype.Nn=function(){this.de("Shutting down all connections"),this.Kt&&(this.Kt.close(),this.Kt=null),this.en&&(this.en.close(),this.en=null),this.nn&&(clearTimeout(this.nn),this.nn=null)},e}();t.Connection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(44),o=n(24),a=n(105),s=n(13),u=n(0),c=n(0);t.FIREBASE_LONGPOLL_START_PARAM="start",t.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",t.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",t.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",t.FIREBASE_LONGPOLL_ID_PARAM="id",t.FIREBASE_LONGPOLL_PW_PARAM="pw",t.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",t.FIREBASE_LONGPOLL_DATA_PARAM="d",t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe";var l=function(){function e(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.Pn=!1,this.de=r.logWrapper(e),this.$=o.StatsManager.getCollection(t),this.urlFn=function(e){return t.connectionURL(s.LONG_POLLING,e)}}return e.prototype.open=function(e,n){var i=this;this.curSegmentNum=0,this.z=n,this.myPacketOrderer=new a.PacketReceiver(e),this.bn=!1,this.Sn=setTimeout(function(){i.de("Timed out trying to connect."),i.Tn(),i.Sn=null},Math.floor(3e4)),r.executeWhenDOMReady(function(){if(!i.bn){i.scriptTagHolder=new d(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1],a=e[2];if(e[3],e[4],i.wn(e),i.scriptTagHolder)if(i.Sn&&(clearTimeout(i.Sn),i.Sn=null),i.Pn=!0,r==t.FIREBASE_LONGPOLL_START_PARAM)i.id=o,i.password=a;else{if(r!==t.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,function(){i.Tn()})):i.Tn()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];i.wn(e),i.myPacketOrderer.handleResponse(n,r)},function(){i.Tn()},i.urlFn);var e={};e[t.FIREBASE_LONGPOLL_START_PARAM]="t",e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(e[t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=i.scriptTagHolder.uniqueCallbackIdentifier),e[s.VERSION_PARAM]=s.PROTOCOL_VERSION,i.transportSessionId&&(e[s.TRANSPORT_SESSION_PARAM]=i.transportSessionId),i.lastSessionId&&(e[s.LAST_SESSION_PARAM]=i.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(e[s.REFERER_PARAM]=s.FORGE_REF);var n=i.urlFn(e);i.de("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.In=!0},e.forceDisallow=function(){e.Rn=!0},e.isAvailable=function(){return e.In||!e.Rn&&"undefined"!=typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!c.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.On=function(){this.bn=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.Sn&&(clearTimeout(this.Sn),this.Sn=null)},e.prototype.Tn=function(){this.bn||(this.de("Longpoll is closing itself"),this.On(),this.z&&(this.z(this.Pn),this.z=null))},e.prototype.close=function(){this.bn||(this.de("Longpoll is being closed."),this.On())},e.prototype.send=function(e){var t=u.stringify(e);this.bytesSent+=t.length,this.$.incrementCounter("bytes_sent",t.length);for(var n=u.base64Encode(t),i=r.splitStringBySize(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,n){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=e,r[t.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.wn=function(e){var t=u.stringify(e).length;this.bytesReceived+=t,this.$.incrementCounter("bytes_received",t)},e}();t.BrowserPollConnection=l;var d=function(){function e(n,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=n,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[t.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[t.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=e.An();var u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(e){r.log("frame writing exception"),e.stack&&r.log(e.stack),r.log(e)}}}return e.An=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||r.log("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var i=this.urlFn(r);e.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.Dn(););},e.prototype.Dn=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){var o=this.pendingSegs.shift();r=r+"&"+t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+i+"="+o.seg+"&"+t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+i+"="+o.ts+"&"+t.FIREBASE_LONGPOLL_DATA_PARAM+i+"="+o.d,i++}return n+=r,this.Mn(n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.Dn()},e.prototype.Mn=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.Dn()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;c.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){r.log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(e){}},Math.floor(1))},e}();t.FirebaseIFrameScriptHolder=d},function(e,t,n){"use strict";(function(e){function r(e){p=e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(0),a=n(1),s=n(24),u=n(13),c=n(0),l=n(12),d=n(0),h=n(0),p=null;"undefined"!=typeof MozWebSocket?p=MozWebSocket:"undefined"!=typeof WebSocket&&(p=WebSocket),t.setWebSocketImpl=r;var f=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.de=a.logWrapper(this.connId),this.$=s.StatsManager.getCollection(n),this.connURL=t.Ln(n,r,i)}return t.Ln=function(e,t,n){var r={};return r[u.VERSION_PARAM]=u.PROTOCOL_VERSION,!h.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(u.FORGE_DOMAIN)&&(r[u.REFERER_PARAM]=u.FORGE_REF),t&&(r[u.TRANSPORT_SESSION_PARAM]=t),n&&(r[u.LAST_SESSION_PARAM]=n),e.connectionURL(u.WEBSOCKET,r)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.de("Websocket connecting to "+this.connURL),this.Pn=!1,l.PersistentStorage.set("previous_websocket_failure",!0);try{if(h.isNodeSdk()){var o=c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+u.PROTOCOL_VERSION+"/"+i.default.SDK_VERSION+"/"+e.platform+"/"+o}},s=e.env,d=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;d&&(a.proxy={origin:d}),this.mySock=new p(this.connURL,[],a)}else this.mySock=new p(this.connURL)}catch(e){this.de("Error instantiating WebSocket.");var f=e.message||e.data;return f&&this.de(f),void this.Tn()}this.mySock.onopen=function(){r.de("Websocket connected."),r.Pn=!0},this.mySock.onclose=function(){r.de("Websocket connection was disconnected."),r.mySock=null,r.Tn()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.de("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.de(t),r.Tn()}},t.prototype.start=function(){},t.forceDisallow=function(){t.Rn=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==p&&!t.Rn},t.previouslyFailed=function(){return l.PersistentStorage.isInMemoryStorage||!0===l.PersistentStorage.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){l.PersistentStorage.remove("previous_websocket_failure")},t.prototype.Fn=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=d.jsonEval(t);this.onMessage(n)}},t.prototype.xn=function(e){this.totalFrames=e,this.frames=[]},t.prototype.kn=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=+e;if(!isNaN(t))return this.xn(t),null}return this.xn(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.$.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.Fn(t);else{var n=this.kn(t);null!==n&&this.Fn(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=d.stringify(e);this.bytesSent+=t.length,this.$.incrementCounter("bytes_sent",t.length);var n=a.splitStringBySize(t,16384);n.length>1&&this.Wn(n.length+"");for(var r=0;r<n.length;r++)this.Wn(n[r])},t.prototype.On=function(){this.bn=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.Tn=function(){this.bn||(this.de("WebSocket is closing itself"),this.On(),this.onDisconnect&&(this.onDisconnect(this.Pn),this.onDisconnect=null))},t.prototype.close=function(){this.bn||(this.de("WebSocket is being closed"),this.On())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.Wn("0"),e.resetKeepAlive()},Math.floor(45e3))},t.prototype.Wn=function(e){try{this.mySock.send(e)}catch(e){this.de("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.Tn.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();t.WebSocketConnection=f}).call(t,n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}();t.ServerActions=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(3),o=n(5),a=n(4),s=function(){function e(t){this.jn=new r.IndexedFilter(t.getIndex()),this.Ne=t.getIndex(),this.Vn=e.Qn(t),this.qn=e.Un(t)}return e.prototype.getStartPost=function(){return this.Vn},e.prototype.getEndPost=function(){return this.qn},e.prototype.matches=function(e){return this.Ne.compare(this.getStartPost(),e)<=0&&this.Ne.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,s){return this.matches(new o.NamedNode(t,n))||(n=a.ChildrenNode.EMPTY_NODE),this.jn.updateChild(e,t,n,r,i,s)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=a.ChildrenNode.EMPTY_NODE);var r=t.withIndex(this.Ne);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){s.matches(new o.NamedNode(e,t))||(r=r.updateImmediateChild(e,a.ChildrenNode.EMPTY_NODE))}),this.jn.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.jn},e.prototype.getIndex=function(){return this.Ne},e.Qn=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.Un=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}();t.RangedFilter=s},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";function r(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return c.RepoManager.getInstance().databaseFromApp(e,n)},{Reference:s.Reference,Query:a.Query,Database:o.Database,enableLogging:u.enableLogging,INTERNAL:l,ServerValue:o.Database.ServerValue,TEST_ACCESS:d},null,!0);h.isNodeSdk()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(31),a=n(34),s=n(21),u=n(1),c=n(25),l=n(111),d=n(112),h=n(0);t.registerDatabase=r,r(i.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.Bn=e,this.Hn="firebase:"}return e.prototype.set=function(e,t){null==t?this.Bn.removeItem(this.Gn(e)):this.Bn.setItem(this.Gn(e),r.stringify(t))},e.prototype.get=function(e){var t=this.Bn.getItem(this.Gn(e));return null==t?null:r.jsonEval(t)},e.prototype.remove=function(e){this.Bn.removeItem(this.Gn(e))},e.prototype.Gn=function(e){return this.Hn+e},e.prototype.toString=function(){return""+this.Bn},e}();t.DOMStorageWrapper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.Kn={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.Kn[e]:this.Kn[e]=t},e.prototype.get=function(e){return r.contains(this.Kn,e)?this.Kn[e]:null},e.prototype.remove=function(e){delete this.Kn[e]},e}();t.MemoryStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=n(1),a=n(0),s=function(){function e(e,t){this.we=e,this.Yn=t}return e.prototype.cancel=function(e){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.we.onDisconnectCancel(this.Yn,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),i.validateWritablePath("OnDisconnect.remove",this.Yn),r.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.we.onDisconnectSet(this.Yn,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),i.validateWritablePath("OnDisconnect.set",this.Yn),i.validateFirebaseDataArg("OnDisconnect.set",1,e,this.Yn,!1),r.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.we.onDisconnectSet(this.Yn,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),i.validateWritablePath("OnDisconnect.setWithPriority",this.Yn),i.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,e,this.Yn,!1),i.validatePriority("OnDisconnect.setWithPriority",2,t,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.we.onDisconnectSetWithPriority(this.Yn,e,t,o.wrapCallback(n)),o.promise},e.prototype.update=function(e,t){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),i.validateWritablePath("OnDisconnect.update",this.Yn),Array.isArray(e)){for(var n={},s=0;s<e.length;++s)n[""+s]=e[s];e=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}i.validateFirebaseMergeDataArg("OnDisconnect.update",1,e,this.Yn,!1),r.validateCallback("OnDisconnect.update",2,t,!0);var u=new a.Deferred;return this.we.onDisconnectUpdate(this.Yn,e,u.wrapCallback(t)),u.promise},e}();t.OnDisconnect=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();t.TransactionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(i){var o=i===t;t=i;var a,s=Array(8);for(a=7;a>=0;a--)s[a]=e.charAt(i%64),i=Math.floor(i/64);r.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=e.charAt(n[a]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),i=n(85),o=n(0),a=n(0),s=function(){function e(e,t,n){this.Xn=e,this.zn=t,this.Jn=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.Jn;if("cancel"===e.getEventType()){a.assert(this.zn,"Raising a cancel event on a listener with no cancel callback");var n=this.zn;return function(){n.call(t,e.error)}}var r=this.Xn;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.zn?new i.CancelEvent(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.Xn||!this.Xn||t.Xn===this.Xn&&t.Jn===this.Jn)},e.prototype.hasAnyCallback=function(){return null!==this.Xn},e}();t.ValueEventRegistration=s;var u=function(){function e(e,t,n){this.$n=e,this.zn=t,this.Jn=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.$n,t)},e.prototype.createCancelEvent=function(e,t){return this.zn?new i.CancelEvent(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new i.DataEvent(e.type,this,new r.DataSnapshot(e.snapshotNode,n,o),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.Jn;if("cancel"===e.getEventType()){a.assert(this.zn,"Raising a cancel event on a listener with no cancel callback");var n=this.zn;return function(){n.call(t,e.error)}}var r=this.$n[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.$n||!t.$n)return!0;if(this.Jn===t.Jn){var n=o.getCount(t.$n);if(n===o.getCount(this.$n)){if(1===n){var r=o.getAnyKey(t.$n),i=o.getAnyKey(this.$n);return!(i!==r||t.$n[r]&&this.$n[i]&&t.$n[r]!==this.$n[i])}return o.every(this.$n,function(e,n){return t.$n[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.$n},e}();t.ChildEventRegistration=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},e}();t.DataEvent=i;var o=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path+":cancel"},e}();t.CancelEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(87),a=n(4),s=n(0),u=n(22),c=n(88),l=n(89),d=n(8),h=n(45),p=n(2),f=n(46),m=n(95),g=function(){function e(e){this.Zn=e,this.er=u.ImmutableTree.Empty,this.tr=new m.WriteTree,this.nr={},this.rr={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.tr.addOverwrite(e,t,n,r),r?this.ir(new h.Overwrite(d.OperationSource.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.tr.addMerge(e,t,n);var r=u.ImmutableTree.fromObject(t);return this.ir(new l.Merge(d.OperationSource.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.tr.getWrite(e);if(this.tr.removeWrite(e)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(p.Path.Empty,!0):s.forEach(n.children,function(e,t){r=r.set(new p.Path(e),t)}),this.ir(new o.AckUserWrite(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.ir(new h.Overwrite(d.OperationSource.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=u.ImmutableTree.fromObject(t);return this.ir(new l.Merge(d.OperationSource.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.ir(new c.ListenComplete(d.OperationSource.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.or(r);if(null!=i){var o=e.ar(i),a=o.path,s=o.queryId,u=p.Path.relativePath(a,t),c=new h.Overwrite(d.OperationSource.forServerTaggedQuery(s),u,n);return this.sr(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.or(r);if(i){var o=e.ar(i),a=o.path,s=o.queryId,c=p.Path.relativePath(a,t),h=u.ImmutableTree.fromObject(n),f=new l.Merge(d.OperationSource.forServerTaggedQuery(s),c,h);return this.sr(a,f)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.or(n);if(r){var i=e.ar(r),o=i.path,a=i.queryId,s=p.Path.relativePath(o,t),u=new c.ListenComplete(d.OperationSource.forServerTaggedQuery(a),s);return this.sr(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var i=t.path,o=null,s=!1;this.er.foreachOnPath(i,function(e,t){var n=p.Path.relativePath(e,i);o=o||t.getCompleteServerCache(n),s=s||t.hasCompleteView()});var u=this.er.get(i);u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(p.Path.Empty)):(u=new f.SyncPoint,this.er=this.er.set(i,u));var c;null!=o?c=!0:(c=!1,o=a.ChildrenNode.EMPTY_NODE,this.er.subtree(i).foreachChild(function(e,t){var n=t.getCompleteServerCache(p.Path.Empty);n&&(o=o.updateImmediateChild(e,n))}));var l=u.viewExistsForQuery(t);if(!l&&!t.getQueryParams().loadsAllData()){var d=e.ur(t);r.assert(!(d in this.rr),"View does not exist, but we have a tag");var h=e.lr();this.rr[d]=h,this.nr["_"+h]=d}var m=this.tr.childWrites(i),g=u.addEventRegistration(t,n,m,o,c);if(!l&&!s){var y=u.viewForQuery(t);g=g.concat(this.hr(t,y))}return g},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.er.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.er=this.er.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),d=this.er.findOnPath(o,function(e,t){return t.hasCompleteView()});if(l&&!d){var h=this.er.subtree(o);if(!h.isEmpty())for(var p=this.cr(h),f=0;f<p.length;++f){var m=p[f],g=m.getQuery(),y=this.pr(m);this.Zn.startListening(e.dr(g),this.fr(g),y.hashFn,y.onComplete)}}!d&&c.length>0&&!r&&(l?this.Zn.stopListening(e.dr(t),null):c.forEach(function(t){var n=i.rr[e.ur(t)];i.Zn.stopListening(e.dr(t),n)})),this._r(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.tr,r=this.er.findOnPath(e,function(t,n){var r=p.Path.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.cr=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),s.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype._r=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.ur(r),o=this.rr[i];delete this.rr[i],delete this.nr["_"+o]}}},e.dr=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.hr=function(t,n){var i=t.path,o=this.fr(t),a=this.pr(n),u=this.Zn.startListening(e.dr(t),o,a.hashFn,a.onComplete),c=this.er.subtree(i);if(o)r.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),s.forEach(n,function(e,t){r=r.concat(t)}),r}),d=0;d<l.length;++d){var h=l[d];this.Zn.stopListening(e.dr(h),this.fr(h))}return u},e.prototype.pr=function(e){var t=this,n=e.getQuery(),r=this.fr(n);return{hashFn:function(){return(e.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var o=i.errorForServerCode(e,n);return t.removeEventRegistration(n,null,o)}}},e.ur=function(e){return e.path+"$"+e.queryIdentifier()},e.ar=function(e){var t=e.indexOf("$");return r.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new p.Path(e.substr(0,t))}},e.prototype.or=function(e){return this.nr["_"+e]},e.prototype.fr=function(t){var n=e.ur(t);return s.safeGet(this.rr,n)},e.lr=function(){return e.yr++},e.prototype.sr=function(e,t){var n=this.er.get(e);r.assert(n,"Missing sync point for query tag that we're tracking");var i=this.tr.childWrites(e);return n.applyOperation(t,i,null)},e.prototype.ir=function(e){return this.vr(e,this.er,null,this.tr.childWrites(p.Path.Empty))},e.prototype.vr=function(e,t,n,r){if(e.path.isEmpty())return this.gr(e,t,n,r);var i=t.get(p.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(p.Path.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.vr(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.gr=function(e,t,n,r){var i=this,o=t.get(p.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(p.Path.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.gr(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.yr=1,e}();t.SyncTree=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(8),a=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new i.Path(t));return new e(i.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();t.AckUserWrite=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(8),o=function(){function e(e,t){this.source=e,this.path=t,this.type=i.OperationType.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,r.Path.Empty):new e(this.source,this.path.popFront())},e}();t.ListenComplete=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(45),o=n(2),a=n(0),s=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=r.OperationType.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(t));return n.isEmpty()?null:n.value?new i.Overwrite(this.source,o.Path.Empty,n.value):new e(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source+" merge: "+this.children+")"},e}();t.Merge=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(91),o=n(4),a=n(18),s=n(47),u=n(94),c=n(0),l=n(8),d=n(9),h=n(3),p=function(){function e(e,t){this.mr=e,this.Cr=[];var n=this.mr.getQueryParams(),c=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.Er=new i.ViewProcessor(l);var d=t.getServerCache(),h=t.getEventCache(),p=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,d.getNode(),null),f=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),m=new a.CacheNode(p,d.isFullyInitialized(),c.filtersNodes()),g=new a.CacheNode(f,h.isFullyInitialized(),l.filtersNodes());this.Nr=new s.ViewCache(g,m),this.Pr=new u.EventGenerator(this.mr)}return e.prototype.getQuery=function(){return this.mr},e.prototype.getServerCache=function(){return this.Nr.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.Nr.getCompleteServerSnap();return t&&(this.mr.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.Cr.length},e.prototype.addEventRegistration=function(e){this.Cr.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){c.assert(null==e,"A cancel should cancel all event registrations.");var r=this.mr.path;this.Cr.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.Cr.length;++o){var a=this.Cr[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.Cr.slice(o+1));break}}else i.push(a)}this.Cr=i}else this.Cr=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===l.OperationType.MERGE&&null!==e.source.queryId&&(c.assert(this.Nr.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.Nr.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.Nr,i=this.Er.applyOperation(r,e,t,n);return this.Er.assertIndexed(i.viewCache),c.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.Nr=i.viewCache,this.br(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.Nr.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(h.PRIORITY_INDEX,function(e,t){n.push(d.Change.childAddedChange(e,t))}),t.isFullyInitialized()&&n.push(d.Change.valueChange(t.getNode())),this.br(n,t.getNode(),e)},e.prototype.br=function(e,t,n){var r=n?[n]:this.Cr;return this.Pr.generateEventsForChanges(e,t,r)},e}();t.View=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(0),o=n(92),a=n(9),s=n(4),u=n(10),c=n(22),l=n(2),d=n(93),h=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}();t.ProcessorResult=h;var p=function(){function e(e){this.Sr=e}return e.prototype.assertIndexed=function(e){i.assert(e.getEventCache().getNode().isIndexed(this.Sr.getIndex()),"Event snap not indexed"),i.assert(e.getServerCache().getNode().isIndexed(this.Sr.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,a,s){var u,c,l=new o.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var d=n;d.source.fromUser?u=this.Tr(t,d.path,d.snap,a,s,l):(i.assert(d.source.fromServer,"Unknown source."),c=d.source.tagged||t.getServerCache().isFiltered()&&!d.path.isEmpty(),u=this.wr(t,d.path,d.snap,a,s,c,l))}else if(n.type===r.OperationType.MERGE){var p=n;p.source.fromUser?u=this.Ir(t,p.path,p.children,a,s,l):(i.assert(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.getServerCache().isFiltered(),u=this.Rr(t,p.path,p.children,a,s,c,l))}else if(n.type===r.OperationType.ACK_USER_WRITE){var f=n;u=f.revert?this.Or(t,f.path,a,s,l):this.Ar(t,f.path,f.affectedTree,a,s,l)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);u=this.Dr(t,n.path,a,l)}var m=l.getChanges();return e.Mr(t,u,m),new h(u,m)},e.Mr=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(t.getCompleteEventSnap()))}},e.prototype.Lr=function(e,t,n,r,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var u=void 0,c=void 0;if(t.isEmpty())if(i.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),d=l instanceof s.ChildrenNode?l:s.ChildrenNode.EMPTY_NODE,h=n.calcCompleteEventChildren(d);u=this.Sr.updateFullNode(e.getEventCache().getNode(),h,o)}else{var p=n.calcCompleteEventCache(e.getCompleteServerSnap());u=this.Sr.updateFullNode(e.getEventCache().getNode(),p,o)}else{var f=t.getFront();if(".priority"==f){i.assert(1==t.getLength(),"Can't have a priority with additional path components");var m=a.getNode();c=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,m,c);u=null!=g?this.Sr.updatePriority(m,g):a.getNode()}else{var y=t.popFront(),v=void 0;if(a.isCompleteForChild(f)){c=e.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),c);v=null!=_?a.getNode().getImmediateChild(f).updateChild(y,_):a.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,e.getServerCache());u=null!=v?this.Sr.updateChild(a.getNode(),f,v,y,r,o):a.getNode()}}return e.updateEventSnap(u,a.isFullyInitialized()||t.isEmpty(),this.Sr.filtersNodes())},e.prototype.wr=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.Sr:this.Sr.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var p=t.popFront(),f=u.getNode().getImmediateChild(h).updateChild(p,n);s=".priority"==h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,p,d.NO_COMPLETE_CHILD_SOURCE,null)}var m=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),g=new d.WriteTreeCompleteChildSource(r,m,i);return this.Lr(m,t,r,g,a)},e.prototype.Tr=function(e,t,n,r,i,o){var a,u,c=e.getEventCache(),l=new d.WriteTreeCompleteChildSource(r,e,i);if(t.isEmpty())u=this.Sr.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(u,!0,this.Sr.filtersNodes());else{var h=t.getFront();if(".priority"===h)u=this.Sr.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(u,c.isFullyInitialized(),c.isFiltered());else{var p=t.popFront(),f=c.getNode().getImmediateChild(h),m=void 0;if(p.isEmpty())m=n;else{var g=l.getCompleteChild(h);m=null!=g?".priority"===p.getBack()&&g.getChild(p.parent()).isEmpty()?g:g.updateChild(p,n):s.ChildrenNode.EMPTY_NODE}if(f.equals(m))a=e;else{var y=this.Sr.updateChild(c.getNode(),h,m,p,l,o);a=e.updateEventSnap(y,c.isFullyInitialized(),this.Sr.filtersNodes())}}}return a},e.Fr=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.Ir=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,c){var l=n.child(r);e.Fr(t,l.getFront())&&(u=s.Tr(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);e.Fr(t,l.getFront())||(u=s.Tr(u,l,c,i,o,a))}),u},e.prototype.xr=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.Rr=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,d=e;u=t.isEmpty()?n:c.ImmutableTree.Empty.setTree(t,n);var h=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(h.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),c=s.xr(u,n);d=s.wr(d,new l.Path(t),c,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!h.hasChild(t)&&!u){var c=e.getServerCache().getNode().getImmediateChild(t),p=s.xr(c,n);d=s.wr(d,new l.Path(t),p,r,i,o,a)}}),d},e.prototype.Ar=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.wr(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var d=c.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(e,t){d=d.set(new l.Path(e),t)}),this.Rr(e,t,d,r,i,a,o)}return e}var h=c.ImmutableTree.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(h=h.set(e,s.getNode().getChild(r)))}),this.Rr(e,t,h,r,i,a,o)},e.prototype.Dr=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.Lr(o,t,n,d.NO_COMPLETE_CHILD_SOURCE,r)},e.prototype.Or=function(e,t,n,r,o){var a;if(null!=n.shadowingWrite(t))return e;var u=new d.WriteTreeCompleteChildSource(n,e,r),c=e.getEventCache().getNode(),h=void 0;if(t.isEmpty()||".priority"===t.getFront()){var p=void 0;if(e.getServerCache().isFullyInitialized())p=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var f=e.getServerCache().getNode();i.assert(f instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),p=n.calcCompleteEventChildren(f)}p=p,h=this.Sr.updateFullNode(c,p,o)}else{var m=t.getFront(),g=n.calcCompleteChild(m,e.getServerCache());null==g&&e.getServerCache().isCompleteForChild(m)&&(g=c.getImmediateChild(m)),(h=null!=g?this.Sr.updateChild(c,m,g,t.popFront(),u,o):e.getEventCache().getNode().hasChild(m)?this.Sr.updateChild(c,m,s.ChildrenNode.EMPTY_NODE,t.popFront(),u,o):c).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(h=this.Sr.updateFullNode(h,a,o))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),e.updateEventSnap(h,a,this.Sr.filtersNodes())},e}();t.ViewProcessor=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(9),o=n(0),a=function(){function e(){this.kr={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t==i.Change.CHILD_ADDED||t==i.Change.CHILD_CHANGED||t==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=r.safeGet(this.kr,n);if(a){var s=a.type;if(t==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.kr[n]=i.Change.childChangedChange(n,e.snapshotNode,a.snapshotNode);else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.kr[n];else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.kr[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(t==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.kr[n]=i.Change.childAddedChange(n,e.snapshotNode);else{if(t!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+a);this.kr[n]=i.Change.childChangedChange(n,e.snapshotNode,a.oldSnap)}}else this.kr[n]=e},e.prototype.getChanges=function(){return r.getValues(this.kr)},e}();t.ChildChangeAccumulator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}();t.Wr=i,t.NO_COMPLETE_CHILD_SOURCE=new i;var o=function(){function e(e,t,n){void 0===n&&(n=null),this.jr=e,this.Nr=t,this.Vr=n}return e.prototype.getCompleteChild=function(e){var t=this.Nr.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.Vr?new r.CacheNode(this.Vr,!0,!1):this.Nr.getServerCache();return this.jr.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.Vr?this.Vr:this.Nr.getCompleteServerSnap(),i=this.jr.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}();t.WriteTreeCompleteChildSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(9),o=n(0),a=function(){function e(e){this.mr=e,this.Ne=this.mr.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,o=[],a=[];return e.forEach(function(e){e.type===i.Change.CHILD_CHANGED&&r.Ne.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(i.Change.childMovedChange(e.childName,e.snapshotNode))}),this.Qr(o,i.Change.CHILD_REMOVED,e,n,t),this.Qr(o,i.Change.CHILD_ADDED,e,n,t),this.Qr(o,i.Change.CHILD_MOVED,a,n,t),this.Qr(o,i.Change.CHILD_CHANGED,e,n,t),this.Qr(o,i.Change.VALUE,e,n,t),o},e.prototype.Qr=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.qr.bind(this)),a.forEach(function(t){var n=o.Ur(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.mr))})})},e.prototype.Ur=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.Ne),e)},e.prototype.qr=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new r.NamedNode(e.childName,e.snapshotNode),i=new r.NamedNode(t.childName,t.snapshotNode);return this.Ne.compare(n,i)},e}();t.EventGenerator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(2),a=n(96),s=n(3),u=n(4),c=function(){function e(){this.Br=a.CompoundWrite.Empty,this.Hr=[],this.Gr=-1}return e.prototype.childWrites=function(e){return new l(e,this)},e.prototype.addOverwrite=function(e,t,n,r){i.assert(n>this.Gr,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.Hr.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.Br=this.Br.addWrite(e,t)),this.Gr=n},e.prototype.addMerge=function(e,t,n){i.assert(n>this.Gr,"Stacking an older merge on top of newer ones"),this.Hr.push({path:e,children:t,writeId:n,visible:!0}),this.Br=this.Br.addWrites(e,t),this.Gr=n},e.prototype.getWrite=function(e){for(var t=0;t<this.Hr.length;t++){var n=this.Hr[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.Hr.findIndex(function(t){return t.writeId===e});i.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.Hr[n];this.Hr.splice(n,1);for(var a=o.visible,s=!1,u=this.Hr.length-1;a&&u>=0;){var c=this.Hr[u];c.visible&&(u>=n&&this.Kr(c,o.path)?a=!1:o.path.contains(c.path)&&(s=!0)),u--}if(a){if(s)return this.Yr(),!0;if(o.snap)this.Br=this.Br.removeWrite(o.path);else{var l=o.children;r.forEach(l,function(e){t.Br=t.Br.removeWrite(o.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.Br.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var a=this.Br.childCompoundWrite(t);if(!i&&a.isEmpty())return n;if(i||null!=n||a.hasCompleteWrite(o.Path.Empty)){var s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},c=e.Xr(this.Hr,s,t),l=n||u.ChildrenNode.EMPTY_NODE;return c.apply(l)}return null}var d=this.Br.getCompleteNode(t);if(null!=d)return d;var h=this.Br.childCompoundWrite(t);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(o.Path.Empty)){l=n||u.ChildrenNode.EMPTY_NODE;return h.apply(l)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=u.ChildrenNode.EMPTY_NODE,r=this.Br.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.Br.childCompoundWrite(e);return t.forEachChild(s.PRIORITY_INDEX,function(e,t){var r=i.childCompoundWrite(new o.Path(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.Br.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.Br.hasCompleteWrite(o))return null;var a=this.Br.childCompoundWrite(o);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.Br.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.Br.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.Br.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var s,u=this.Br.childCompoundWrite(e),c=u.getCompleteNode(o.Path.Empty);if(null!=c)s=c;else{if(null==t)return[];s=u.apply(t)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],d=a.getCompare(),h=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),p=h.getNext();p&&l.length<r;)0!==d(p,n)&&l.push(p),p=h.getNext();return l},e.prototype.Kr=function(e,t){return e.snap?e.path.contains(t):!!r.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},e.prototype.Yr=function(){this.Br=e.Xr(this.Hr,e.zr,o.Path.Empty),this.Hr.length>0?this.Gr=this.Hr[this.Hr.length-1].writeId:this.Gr=-1},e.zr=function(e){return e.visible},e.Xr=function(e,t,n){for(var s=a.CompoundWrite.Empty,u=0;u<e.length;++u){var c=e[u];if(t(c)){var l=c.path,d=void 0;if(c.snap)n.contains(l)?(d=o.Path.relativePath(n,l),s=s.addWrite(d,c.snap)):l.contains(n)&&(d=o.Path.relativePath(l,n),s=s.addWrite(o.Path.Empty,c.snap.getChild(d)));else{if(!c.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))d=o.Path.relativePath(n,l),s=s.addWrites(d,c.children);else if(l.contains(n))if((d=o.Path.relativePath(l,n)).isEmpty())s=s.addWrites(o.Path.Empty,c.children);else{var h=r.safeGet(c.children,d.getFront());if(h){var p=h.getChild(d.popFront());s=s.addWrite(o.Path.Empty,p)}}}}}return s},e}();t.WriteTree=c;var l=function(){function e(e,t){this.Jr=e,this.$r=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.$r.calcCompleteEventCache(this.Jr,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.$r.calcCompleteEventChildren(this.Jr,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.$r.calcEventCacheAfterServerOverwrite(this.Jr,e,t,n)},e.prototype.shadowingWrite=function(e){return this.$r.shadowingWrite(this.Jr.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.$r.calcIndexedSlice(this.Jr,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.$r.calcCompleteChild(this.Jr,e,t)},e.prototype.child=function(t){return new e(this.Jr.child(t),this.$r)},e}();t.WriteTreeRef=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(2),o=n(0),a=n(5),s=n(3),u=n(0),c=function(){function e(e){this.$r=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new r.ImmutableTree(n));var o=this.$r.findRootMostValueAndPath(t);if(null!=o){var a=o.path,s=o.value,u=i.Path.relativePath(a,t);return s=s.updateChild(u,n),new e(this.$r.set(a,s))}var c=new r.ImmutableTree(n);return new e(this.$r.setTree(t,c))},e.prototype.addWrites=function(e,t){var n=this;return o.forEach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.$r.setTree(t,r.ImmutableTree.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.$r.findRootMostValueAndPath(e);return null!=t?this.$r.get(t.path).getChild(i.Path.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.$r.value;return null!=t?t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,function(t,n){e.push(new a.NamedNode(t,n))}):this.$r.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new a.NamedNode(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new r.ImmutableTree(n):this.$r.subtree(t))},e.prototype.isEmpty=function(){return this.$r.isEmpty()},e.prototype.apply=function(t){return e.Zr(i.Path.Empty,this.$r,t)},e.Empty=new e(new r.ImmutableTree(null)),e.Zr=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e.Zr(t.child(n),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r},e}();t.CompoundWrite=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(){this.ei=r.ChildrenNode.EMPTY_NODE}return e.prototype.getNode=function(e){return this.ei.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.ei=this.ei.updateChild(e,t)},e}();t.SnapshotHolder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.ti=e}return e.prototype.getToken=function(e){return this.ti.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.ti.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.ti.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.ti.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.ti.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.ti.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',r.warn(e)},e}();t.AuthTokenProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=function(){function e(){this.ni={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),i.contains(this.ni,e)||(this.ni[e]=0),this.ni[e]+=t},e.prototype.get=function(){return r.deepCopy(this.ni)},e}();t.StatsCollection=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(48),a=1e4,s=3e4,u=function(){function e(e,t){this.Z=t,this.ri={},this.G=new o.StatsListener(e);var n=a+(s-a)*Math.random();i.setTimeoutNonBlocking(this.ii.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.ri[e]=!0},e.prototype.ii=function(){var e=this,t=this.G.get(),n={},o=!1;r.forEach(t,function(t,i){i>0&&r.contains(e.ri,t)&&(n[t]=i,o=!0)}),o&&this.Z.reportStats(n),i.setTimeoutNonBlocking(this.ii.bind(this),Math.floor(2*Math.random()*3e5))},e}();t.StatsReporter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this.oi=[],this.ai=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.oi.push(t),t=null),null===t&&(t=new o(i)),t.add(r)}t&&this.oi.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.si(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.si(function(t){return t.contains(e)||e.contains(t)})},e.prototype.si=function(e){this.ai++;for(var t=!0,n=0;n<this.oi.length;n++){var r=this.oi[n];r&&(e(r.getPath())?(this.oi[n].raise(),this.oi[n]=null):t=!1)}t&&(this.oi=[]),this.ai--},e}();t.EventQueue=i;var o=function(){function e(e){this.Yn=e,this.ui=[]}return e.prototype.add=function(e){this.ui.push(e)},e.prototype.raise=function(){for(var e=0;e<this.ui.length;e++){var t=this.ui[e];if(null!==t){this.ui[e]=null;var n=t.getEventRunner();r.logger&&r.log("event: "+t),r.exceptionGuard(n)}}},e.prototype.getPath=function(){return this.Yn},e}();t.EventList=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(50),o=n(0),a=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.ot=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.ot&&(r.ot=e,r.trigger("visible",e))},!1),r}return r(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.ot]},t}(i.EventEmitter);t.VisibilityMonitor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(50),a=n(0),s=function(e){function t(){var t=e.call(this,["online"])||this;return t.li=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){t.li||(t.li=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.li&&(t.li=!1,t.trigger("online",!1))},!1)),t}return r(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return i.assert("online"===e,"Unknown event type: "+e),[this.li]},t.prototype.currentlyOnline=function(){return this.li},t}(o.EventEmitter);t.OnlineMonitor=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),i=n(53),o=n(1),a=function(){function e(e){this.hi(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),e.prototype.hi=function(t){var n=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),r=n&&!i.WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.ci=[i.WebSocketConnection];else{var a=this.ci=[];o.each(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&a.push(t)})}},e.prototype.initialTransport=function(){if(this.ci.length>0)return this.ci[0];throw Error("No transports available")},e.prototype.upgradeTransport=function(){return this.ci.length>1?this.ci[1]:null},e}();t.TransportManager=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.qt=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&r.exceptionGuard(function(){n.qt(e[t])})}(t);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++}(););},e}();t.PacketReceiver=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(0),s=n(0),u=n(0),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i.H=t,i.ee=n,i.Ge=r,i.de=o.logWrapper("p:rest:"),i.ze={},i}return r(t,e),t.prototype.reportStats=function(e){throw Error("Method not implemented.")},t.pi=function(e,t){return void 0!==t?"tag$"+t:(i.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),""+e.path)},t.prototype.listen=function(e,n,r,i){var o=this,a=""+e.path;this.de("Listen called for "+a+" "+e.queryIdentifier());var u=t.pi(e,r),c={};this.ze[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.di(a+".json",l,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.ee(a,n,!1,r),s.safeGet(o.ze,u)===c){i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}})},t.prototype.unlisten=function(e,n){var r=t.pi(e,n);delete this.ze[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.di=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.Ge.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(t.auth=s);var c=(r.H.secure?"https://":"http://")+r.H.host+e+"?"+u.querystring(t);r.de("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.de("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=a.jsonEval(l.responseText)}catch(e){o.warn("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&o.warn("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()})},t}(n(54).ServerActions);t.ReadonlyRestClient=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(10),a=n(3),s=n(36),u=n(40),c=n(23),l=n(108),d=n(55),h=n(0),p=function(){function e(){this.fi=!1,this._i=!1,this.yi=!1,this.vi=!1,this.gi=!1,this.mi=0,this.Ci="",this.Ei=null,this.Ni="",this.Pi=null,this.bi="",this.Ne=a.PRIORITY_INDEX}return e.prototype.hasStart=function(){return this._i},e.prototype.isViewFromLeft=function(){return""===this.Ci?this._i:this.Ci===e.Si.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return r.assert(this._i,"Only valid if start has been set"),this.Ei},e.prototype.getIndexStartName=function(){return r.assert(this._i,"Only valid if start has been set"),this.yi?this.Ni:i.MIN_NAME},e.prototype.hasEnd=function(){return this.vi},e.prototype.getIndexEndValue=function(){return r.assert(this.vi,"Only valid if end has been set"),this.Pi},e.prototype.getIndexEndName=function(){return r.assert(this.vi,"Only valid if end has been set"),this.gi?this.bi:i.MAX_NAME},e.prototype.hasLimit=function(){return this.fi},e.prototype.hasAnchoredLimit=function(){return this.fi&&""!==this.Ci},e.prototype.getLimit=function(){return r.assert(this.fi,"Only valid if limit has been set"),this.mi},e.prototype.getIndex=function(){return this.Ne},e.prototype.Ti=function(){var t=new e;return t.fi=this.fi,t.mi=this.mi,t._i=this._i,t.Ei=this.Ei,t.yi=this.yi,t.Ni=this.Ni,t.vi=this.vi,t.Pi=this.Pi,t.gi=this.gi,t.bi=this.bi,t.Ne=this.Ne,t.Ci=this.Ci,t},e.prototype.limit=function(e){var t=this.Ti();return t.fi=!0,t.mi=e,t.Ci="",t},e.prototype.limitToFirst=function(t){var n=this.Ti();return n.fi=!0,n.mi=t,n.Ci=e.Si.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.Ti();return n.fi=!0,n.mi=t,n.Ci=e.Si.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.Ti();return n._i=!0,void 0===e&&(e=null),n.Ei=e,null!=t?(n.yi=!0,n.Ni=t):(n.yi=!1,n.Ni=""),n},e.prototype.endAt=function(e,t){var n=this.Ti();return n.vi=!0,void 0===e&&(e=null),n.Pi=e,void 0!==t?(n.gi=!0,n.bi=t):(n.gi=!1,n.bi=""),n},e.prototype.orderBy=function(e){var t=this.Ti();return t.Ne=e,t},e.prototype.getQueryObject=function(){var t=e.Si,n={};if(this._i&&(n[t.INDEX_START_VALUE]=this.Ei,this.yi&&(n[t.INDEX_START_NAME]=this.Ni)),this.vi&&(n[t.INDEX_END_VALUE]=this.Pi,this.gi&&(n[t.INDEX_END_NAME]=this.bi)),this.fi){n[t.LIMIT]=this.mi;var r=this.Ci;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.Ne!==a.PRIORITY_INDEX&&(n[t.INDEX]=""+this.Ne),n},e.prototype.loadsAllData=function(){return!(this._i||this.vi||this.fi)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.Ne==a.PRIORITY_INDEX},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new c.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new d.RangedFilter(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.wi,n={};if(this.isDefault())return n;var i;return this.Ne===a.PRIORITY_INDEX?i=t.PRIORITY_INDEX:this.Ne===s.VALUE_INDEX?i=t.VALUE_INDEX:this.Ne===o.KEY_INDEX?i=t.KEY_INDEX:(r.assert(this.Ne instanceof u.PathIndex,"Unrecognized index type!"),i=""+this.Ne),n[t.ORDER_BY]=h.stringify(i),this._i&&(n[t.START_AT]=h.stringify(this.Ei),this.yi&&(n[t.START_AT]+=","+h.stringify(this.Ni))),this.vi&&(n[t.END_AT]=h.stringify(this.Pi),this.gi&&(n[t.END_AT]+=","+h.stringify(this.bi))),this.fi&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.mi:n[t.LIMIT_TO_LAST]=this.mi),n},e.Si={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.wi={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}();t.QueryParams=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(4),o=n(5),a=n(0),s=n(9),u=function(){function e(e){this.Ii=new r.RangedFilter(e),this.Ne=e.getIndex(),this.mi=e.getLimit(),this.Ri=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,a,s){return this.Ii.matches(new o.NamedNode(t,n))||(n=i.ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.mi?this.Ii.getIndexedFilter().updateChild(e,t,n,r,a,s):this.Oi(e,t,n,a,s)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.Ne);else if(2*this.mi<t.numChildren()&&t.isIndexed(this.Ne)){r=i.ChildrenNode.EMPTY_NODE.withIndex(this.Ne);u=void 0;u=this.Ri?t.getReverseIteratorFrom(this.Ii.getEndPost(),this.Ne):t.getIteratorFrom(this.Ii.getStartPost(),this.Ne);for(l=0;u.hasNext()&&l<this.mi;){h=u.getNext();if(!(this.Ri?this.Ne.compare(this.Ii.getStartPost(),h)<=0:this.Ne.compare(h,this.Ii.getEndPost())<=0))break;r=r.updateImmediateChild(h.name,h.node),l++}}else{r=(r=t.withIndex(this.Ne)).updatePriority(i.ChildrenNode.EMPTY_NODE);var o=void 0,a=void 0,s=void 0,u=void 0;if(this.Ri){u=r.getReverseIterator(this.Ne),o=this.Ii.getEndPost(),a=this.Ii.getStartPost();var c=this.Ne.getCompare();s=function(e,t){return c(t,e)}}else u=r.getIterator(this.Ne),o=this.Ii.getStartPost(),a=this.Ii.getEndPost(),s=this.Ne.getCompare();for(var l=0,d=!1;u.hasNext();){var h=u.getNext();!d&&s(o,h)<=0&&(d=!0);d&&l<this.mi&&s(h,a)<=0?l++:r=r.updateImmediateChild(h.name,i.ChildrenNode.EMPTY_NODE)}}return this.Ii.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.Ii.getIndexedFilter()},e.prototype.getIndex=function(){return this.Ne},e.prototype.Oi=function(e,t,n,r,u){var c;if(this.Ri){var l=this.Ne.getCompare();c=function(e,t){return l(t,e)}}else c=this.Ne.getCompare();var d=e;a.assert(d.numChildren()==this.mi,"");var h=new o.NamedNode(t,n),p=this.Ri?d.getFirstChild(this.Ne):d.getLastChild(this.Ne),f=this.Ii.matches(h);if(d.hasChild(t)){for(var m=d.getImmediateChild(t),g=r.getChildAfterChild(this.Ne,p,this.Ri);null!=g&&(g.name==t||d.hasChild(g.name));)g=r.getChildAfterChild(this.Ne,g,this.Ri);var y=null==g?1:c(g,h);if(f&&!n.isEmpty()&&y>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(t,n,m)),d.updateImmediateChild(t,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(t,m));var v=d.updateImmediateChild(t,i.ChildrenNode.EMPTY_NODE);return null!=g&&this.Ii.matches(g)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(g.name,g.node)),v.updateImmediateChild(g.name,g.node)):v}return n.isEmpty()?e:f&&c(p,h)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(p.name,p.node)),u.trackChildChange(s.Change.childAddedChange(t,n))),d.updateImmediateChild(t,n).updateImmediateChild(p.name,i.ChildrenNode.EMPTY_NODE)):e},e}();t.LimitedFilter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(21),a=n(41),s=n(2),u=n(110),c=n(3),l=n(1),d=n(42),h=n(7),p=n(0),f=n(11),m=n(4),g=n(17);!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=t.TransactionStatus||(t.TransactionStatus={})),g.Repo.Ai=25,g.Repo.prototype.ie=function(){this.Di=new u.Tree},g.Repo.prototype.startTransaction=function(e,t,n,s){this.de("transaction on "+e);var u=function(){},g=new o.Reference(this,e);g.on("value",u);var y=function(){g.off("value",u)},v={path:e,update:t,onComplete:n,status:null,order:l.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=this.Mi(e);v.currentInputSnapshot=_;var b=v.update(_.val());if(void 0===b){if(v.unwatcher(),v.currentOutputSnapshotRaw=null,v.currentOutputSnapshotResolved=null,v.onComplete){var w=new a.DataSnapshot(v.currentInputSnapshot,new o.Reference(this,v.path),c.PRIORITY_INDEX);v.onComplete(null,!1,w)}}else{h.validateFirebaseData("transaction failed: Data returned ",b,v.path),v.status=r.RUN;var M=this.Di.subTree(e),T=M.getValue()||[];T.push(v),M.setValue(T);var S=void 0;"object"==typeof b&&null!==b&&p.contains(b,".priority")?(S=p.safeGet(b,".priority"),i.assert(h.isValidPriority(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(this.ue.calcCompleteEventCache(e)||m.ChildrenNode.EMPTY_NODE).getPriority().val(),S=S;var L=this.generateServerValues(),k=f.nodeFromJSON(b,S),C=d.resolveDeferredValueSnapshot(k,L);v.currentOutputSnapshotRaw=k,v.currentOutputSnapshotResolved=C,v.currentWriteId=this.pe();var E=this.ue.applyUserOverwrite(e,C,v.currentWriteId,v.applyLocally);this.K.raiseEventsForChangedPath(e,E),this.Li()}},g.Repo.prototype.Mi=function(e,t){return this.ue.calcCompleteEventCache(e,t)||m.ChildrenNode.EMPTY_NODE},g.Repo.prototype.Li=function(e){var t=this;if(void 0===e&&(e=this.Di),e||this.Fi(e),null!==e.getValue()){var n=this.xi(e);i.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return e.status===r.RUN})&&this.ki(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.Li(e)})},g.Repo.prototype.ki=function(e,t){for(var n=this,u=t.map(function(e){return e.currentWriteId}),d=this.Mi(e,u),h=d,p=d.hash(),f=0;f<t.length;f++){var m=t[f];i.assert(m.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=r.SENT,m.retryCount++;var g=s.Path.relativePath(e,m.path);h=h.updateChild(g,m.currentOutputSnapshotRaw)}var y=h.val(!0),v=e;this.Z.put(""+v,y,function(i){n.de("transaction put response",{path:""+v,status:i});var s=[];if("ok"===i){for(var u=[],d=0;d<t.length;d++){if(t[d].status=r.COMPLETED,s=s.concat(n.ue.ackUserWrite(t[d].currentWriteId)),t[d].onComplete){var h=t[d].currentOutputSnapshotResolved,p=new o.Reference(n,t[d].path),f=new a.DataSnapshot(h,p,c.PRIORITY_INDEX);u.push(t[d].onComplete.bind(null,null,!0,f))}t[d].unwatcher()}n.Fi(n.Di.subTree(e)),n.Li(),n.K.raiseEventsForChangedPath(e,s);for(d=0;d<u.length;d++)l.exceptionGuard(u[d])}else{if("datastale"===i)for(d=0;d<t.length;d++)t[d].status===r.SENT_NEEDS_ABORT?t[d].status=r.NEEDS_ABORT:t[d].status=r.RUN;else{l.warn("transaction at "+v+" failed: "+i);for(d=0;d<t.length;d++)t[d].status=r.NEEDS_ABORT,t[d].abortReason=i}n.le(e)}},p)},g.Repo.prototype.le=function(e){var t=this.Wi(e),n=t.path(),r=this.xi(t);return this.ji(r,n),n},g.Repo.prototype.ji=function(e,t){if(0!==e.length){for(var n=[],u=[],m=e.filter(function(e){return e.status===r.RUN}).map(function(e){return e.currentWriteId}),y=0;y<e.length;y++){var v=e[y],_=s.Path.relativePath(t,v.path),b=!1,w=void 0;if(i.assert(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===r.NEEDS_ABORT)b=!0,w=v.abortReason,u=u.concat(this.ue.ackUserWrite(v.currentWriteId,!0));else if(v.status===r.RUN)if(v.retryCount>=g.Repo.Ai)b=!0,w="maxretry",u=u.concat(this.ue.ackUserWrite(v.currentWriteId,!0));else{var M=this.Mi(v.path,m);v.currentInputSnapshot=M;var T=e[y].update(M.val());if(void 0!==T){h.validateFirebaseData("transaction failed: Data returned ",T,v.path);var S=f.nodeFromJSON(T);"object"==typeof T&&null!=T&&p.contains(T,".priority")||(S=S.updatePriority(M.getPriority()));var L=v.currentWriteId,k=this.generateServerValues(),C=d.resolveDeferredValueSnapshot(S,k);v.currentOutputSnapshotRaw=S,v.currentOutputSnapshotResolved=C,v.currentWriteId=this.pe(),m.splice(m.indexOf(L),1),u=(u=u.concat(this.ue.applyUserOverwrite(v.path,C,v.currentWriteId,v.applyLocally))).concat(this.ue.ackUserWrite(L,!0))}else b=!0,w="nodata",u=u.concat(this.ue.ackUserWrite(v.currentWriteId,!0))}if(this.K.raiseEventsForChangedPath(t,u),u=[],b&&(e[y].status=r.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[y].unwatcher),e[y].onComplete))if("nodata"===w){var E=new o.Reference(this,e[y].path),D=e[y].currentInputSnapshot,I=new a.DataSnapshot(D,E,c.PRIORITY_INDEX);n.push(e[y].onComplete.bind(null,null,!1,I))}else n.push(e[y].onComplete.bind(null,Error(w),!1,null))}this.Fi(this.Di);for(y=0;y<n.length;y++)l.exceptionGuard(n[y]);this.Li()}},g.Repo.prototype.Wi=function(e){for(var t,n=this.Di;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},g.Repo.prototype.xi=function(e){var t=[];return this.Vi(e,t),t.sort(function(e,t){return e.order-t.order}),t},g.Repo.prototype.Vi=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.Vi(e,t)})},g.Repo.prototype.Fi=function(e){var t=this,n=e.getValue();if(n){for(var i=0,o=0;o<n.length;o++)n[o].status!==r.COMPLETED&&(n[i]=n[o],i++);n.length=i,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.Fi(e)})},g.Repo.prototype.fe=function(e){var t=this,n=this.Wi(e).path(),r=this.Di.subTree(e);return r.forEachAncestor(function(e){t.Qi(e)}),this.Qi(r),r.forEachDescendant(function(e){t.Qi(e)}),n},g.Repo.prototype.Qi=function(e){var t=e.getValue();if(null!==t){for(var n=[],o=[],a=-1,s=0;s<t.length;s++)t[s].status===r.SENT_NEEDS_ABORT||(t[s].status===r.SENT?(i.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,t[s].status=r.SENT_NEEDS_ABORT,t[s].abortReason="set"):(i.assert(t[s].status===r.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),o=o.concat(this.ue.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete&&n.push(t[s].onComplete.bind(null,Error("set"),!1,null))));-1===a?e.setValue(null):t.length=a+1,this.K.raiseEventsForChangedPath(e.path(),o);for(s=0;s<n.length;s++)l.exceptionGuard(n[s])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(0),a=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}();t.TreeNode=a;var s=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new a),this.qi=e,this.Ui=t,this._e=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof i.Path?t:new i.Path(t),s=this;null!==(n=r.getFront());)s=new e(n,s,o.safeGet(s._e.children,n)||new a),r=r.popFront();return s},e.prototype.getValue=function(){return this._e.value},e.prototype.setValue=function(e){r.assert(void 0!==e,"Cannot set value to undefined"),this._e.value=e,this.Bi()},e.prototype.clear=function(){this._e.value=null,this._e.children={},this._e.childCount=0,this.Bi()},e.prototype.hasChildren=function(){return this._e.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;o.forEach(this._e.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new i.Path(null===this.Ui?this.qi:this.Ui.path()+"/"+this.qi)},e.prototype.name=function(){return this.qi},e.prototype.parent=function(){return this.Ui},e.prototype.Bi=function(){null!==this.Ui&&this.Ui.Hi(this.qi,this)},e.prototype.Hi=function(e,t){var n=t.isEmpty(),r=o.contains(this._e.children,e);n&&r?(delete this._e.children[e],this._e.childCount--,this.Bi()):n||r||(this._e.children[e]=t._e,this._e.childCount++,this.Bi())},e}();t.Tree=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),i=n(52);t.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},t.forceWebSockets=function(){i.BrowserPollConnection.forceDisallow()},t.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},t.setSecurityDebugCallback=function(e,t){e.repo.J.rt=t},t.stats=function(e,t){e.repo.stats(t)},t.statsIncrementCounter=function(e,t){e.repo.statsIncrementCounter(t)},t.dataUpdateCount=function(e){return e.repo.dataUpdateCount},t.interceptServerData=function(e,t){return e.repo.he(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(49),o=n(25),a=n(51);t.DataConnection=i.PersistentConnection,i.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},i.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},t.RealTimeConnection=a.Connection,t.hijackHash=function(e){var t=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=t}},t.ConnectionTarget=r.RepoInfo,t.queryIdentifier=function(e){return e.queryIdentifier()},t.listens=function(e){return e.repo.J.ze},t.forceRestClient=function(e){o.RepoManager.getInstance().forceRestClient(e)}}],[77])}catch(e){throw Error("Cannot instantiate firebase-database.js - be sure to load firebase-app.js first.")}/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
try{webpackJsonpFirebase([3],{116:function(e,t,n){n(117)},117:function(e,t,n){"use strict";function r(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}function i(e){var t=function(e){return self&&"ServiceWorkerGlobalScope"in self?new M(e):new b(e)},n={Messaging:b};e.INTERNAL.registerService("messaging",t,n)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),s={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},u={codes:s,map:(o={},o[s.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",o[s.AVAILABLE_IN_SW]="This method is available in a service worker context.",o["should-be-overriden"]="This method should be overriden by extended classes.",o["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",o["permission-default"]="The required permissions were not granted and dismissed instead.",o["permission-blocked"]="The required permissions were not granted and blocked instead.",o["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",o["notifications-blocked"]="Notifications have been blocked.",o[s.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",o["sw-registration-expected"]="A service worker registration was the expected input.",o["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",o["invalid-saved-token"]="Unable to access details of the saved token.",o["sw-reg-redundant"]="The service worker being used for push was made redundant.",o["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",o["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",o["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",o["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",o["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",o["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",o["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",o["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",o["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",o["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",o["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",o["failed-to-delete-token"]="Unable to delete the currently saved token.",o["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",o["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",o["bad-scope"]="The service worker scope must be a string with at least one character.",o["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",o["bad-subscription"]="The subscription must be a valid PushSubscription.",o["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",o["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",o["failed-delete-vapid-key"]="The VAPID key could not be deleted.",o)},c=function(e){return r(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},l=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],d={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:l,SUBSCRIPTION_OPTIONS:{userVisibleOnly:!0,applicationServerKey:new Uint8Array(l)}},h="fcm_token_object_Store",p=function(){function e(){this.e=new a.ErrorFactory("messaging","Messaging",u.map),this.t=null}return e.prototype.r=function(){return this.t?this.t:(this.t=new Promise(function(t,n){var r=indexedDB.open(e.DB_NAME,1);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(h,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.t)},e.prototype.closeDatabase=function(){var e=this;return this.t?this.t.then(function(t){t.close(),e.t=null}):Promise.resolve()},e.prototype.getTokenDetailsFromToken=function(e){return this.r().then(function(t){return new Promise(function(n,r){var i=t.transaction([h]).objectStore(h).index("fcmToken").get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},e.prototype.n=function(e){return this.r().then(function(t){return new Promise(function(n,r){var i=t.transaction([h]).objectStore(h).get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},e.prototype.o=function(e){return this.r().then(function(t){return new Promise(function(n,r){var i=[],o=t.transaction([h]).objectStore(h).openCursor();o.onerror=function(e){r(e.target.error)},o.onsuccess=function(t){var r=t.target.result;r?(r.value.fcmSenderId===e&&i.push(r.value),r.continue()):n(i)}})})},e.prototype.subscribeToFCM=function(e,t,n){var r=this,i=c(t.getKey("p256dh")),o=c(t.getKey("auth")),a="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+i+"&encryption_auth="+o;n&&(a+="&pushSet="+n);var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var l={method:"POST",headers:s,body:a};return fetch(d.ENDPOINT+"/fcm/connect/subscribe",l).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw r.e.create(u.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw r.e.create(u.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw r.e.create(u.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})},e.prototype.i=function(e,t){return e.endpoint===t.endpoint&&c(e.getKey("auth"))===t.auth&&c(e.getKey("p256dh"))===t.p256dh},e.prototype.s=function(e,t,n,r,i){var o={swScope:t.scope,endpoint:n.endpoint,auth:c(n.getKey("auth")),p256dh:c(n.getKey("p256dh")),fcmToken:r,fcmPushSet:i,fcmSenderId:e};return this.r().then(function(e){return new Promise(function(t,n){var r=e.transaction([h],"readwrite").objectStore(h).put(o);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t()}})})},e.prototype.getSavedToken=function(e,t){var n=this;return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(this.e.create(u.codes.BAD_SENDER_ID)):this.o(e).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return t.scope===n.swScope&&e===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(e){throw n.e.create(u.codes.GET_SUBSCRIPTION_FAILED)}).then(function(t){if(t&&n.i(t,e))return e.fcmToken})}):Promise.reject(this.e.create(u.codes.SW_REGISTRATION_EXPECTED))},e.prototype.createToken=function(e,t){var n=this;if("string"!=typeof e||0===e.length)return Promise.reject(this.e.create(u.codes.BAD_SENDER_ID));if(!(t instanceof ServiceWorkerRegistration))return Promise.reject(this.e.create(u.codes.SW_REGISTRATION_EXPECTED));var r,i;return t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe(d.SUBSCRIPTION_OPTIONS)}).then(function(t){return r=t,n.subscribeToFCM(e,r)}).then(function(o){return i=o,n.s(e,t,r,i.token,i.pushSet)}).then(function(){return i.token})},e.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.e.create(u.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.e.create(u.codes.DELETE_TOKEN_NOT_FOUND);return t.r().then(function(n){return new Promise(function(r,i){var o=n.transaction([h],"readwrite").objectStore(h).delete(e.swScope);o.onerror=function(e){i(e.target.error)},o.onsuccess=function(n){0!==n.target.result?r(e):i(t.e.create(u.codes.FAILED_TO_DELETE_TOKEN))}})})})},e}(),f="messagingSenderId",m=function(){function e(e){var t=this;if(this.e=new a.ErrorFactory("messaging","Messaging",u.map),!e.options[f]||"string"!=typeof e.options[f])throw this.e.create(u.codes.BAD_SENDER_ID);this.a=e.options[f],this.c=new p,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return e.prototype.getToken=function(){var e=this,t=this.u();return"granted"!==t?"denied"===t?Promise.reject(this.e.create(u.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this._().then(function(t){return e.c.getSavedToken(e.a,t).then(function(n){return n||e.c.createToken(e.a,t)})})},e.prototype.deleteToken=function(e){var t=this;return this.c.deleteToken(e).then(function(){return t._().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})},e.prototype._=function(){throw this.e.create(u.codes.SHOULD_BE_INHERITED)},e.prototype.requestPermission=function(){throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw this.e.create(u.codes.AVAILABLE_IN_SW)},e.prototype.delete=function(){return this.c.closeDatabase()},e.prototype.u=function(){return Notification.permission},e.prototype.getTokenManager=function(){return this.c},e}(),g={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},y={PARAMS:g,TYPES_OF_MSG:{PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},createNewMsg:function(e,t){return n={},n[g.TYPE_OF_MSG]=e,n[g.DATA]=t,n;var n}},v={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},_=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(t){var n=e.call(this,t)||this;return n.d,n.f,n.h=null,n.p=Object(a.createSubscribe)(function(e){n.h=e}),n.l=null,n.g=Object(a.createSubscribe)(function(e){n.l=e}),n.T(),n}return _(t,e),t.prototype.getToken=function(){var t=this;return this.S()?this.b().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(this.e.create(u.codes.UNSUPPORTED_BROWSER))},t.prototype.b=function(){var e=this;if(this.f)return this.f;var t=document.querySelector('link[rel="manifest"]');return this.f=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.e.create(u.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.f},t.prototype.requestPermission=function(){var e=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(t,n){var r=function(r){return"granted"===r?t():n("denied"===r?e.e.create(u.codes.PERMISSION_BLOCKED):e.e.create(u.codes.PERMISSION_DEFAULT))},i=Notification.requestPermission(function(e){i||r(e)});i&&i.then(r)})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.e.create(u.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.d)throw this.e.create(u.codes.USE_SW_BEFORE_GET_TOKEN);this.d=e},t.prototype.onMessage=function(e,t,n){return this.p(e,t,n)},t.prototype.onTokenRefresh=function(e,t,n){return this.g(e,t,n)},t.prototype.v=function(e){var t=this,n=e.installing||e.waiting||e.active;return new Promise(function(r,i){if(n)if("activated"!==n.state)if("redundant"!==n.state){var o=function(){if("activated"===n.state)r(e);else{if("redundant"!==n.state)return;i(t.e.create(u.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(t.e.create(u.codes.SW_REG_REDUNDANT));else r(e);else i(t.e.create(u.codes.NO_SW_IN_REG))})},t.prototype._=function(){var e=this;return this.d?this.v(this.d):(this.d=null,navigator.serviceWorker.register(v.path,{scope:v.scope}).catch(function(t){throw e.e.create(u.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.v(t).then(function(){return e.d=t,t.update(),t})}))},t.prototype.T=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[y.PARAMS.TYPE_OF_MSG]){var n=t.data;switch(n[y.PARAMS.TYPE_OF_MSG]){case y.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case y.TYPES_OF_MSG.NOTIFICATION_CLICKED:var r=n[y.PARAMS.DATA];e.h.next(r)}}},!1)},t.prototype.S=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(m),w=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(e){function t(t){var n=e.call(this,t)||this;return self.addEventListener("push",function(e){return n.I(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return n.m(e)},!1),self.addEventListener("notificationclick",function(e){return n.y(e)},!1),n.N=null,n}return w(t,e),t.prototype.I=function(e){var t,n=this;try{t=e.data.json()}catch(e){return}var r=this.w().then(function(e){if(e){if(t.notification||n.N)return n.k(t)}else{var r=n.O(t);if(r){var i=r.title||"";return self.registration.showNotification(i,r)}if(n.N)return n.N(t)}});e.waitUntil(r)},t.prototype.m=function(e){var t=this,n=this.getToken().then(function(e){if(!e)throw t.e.create(u.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=t.getTokenManager();return r.getTokenDetailsFromToken(e).then(function(e){if(!(n=e))throw t.e.create(u.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(d.SUBSCRIPTION_OPTIONS)}).then(function(e){return r.subscribeToFCM(n.fcmSenderId,e,n.fcmPushSet)}).catch(function(e){return r.deleteToken(n.fcmToken).then(function(){throw t.e.create(u.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(n)},t.prototype.y=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=this.D(r).then(function(e){return e||self.clients.openWindow(r)}).then(function(e){if(e){n.notification,delete n.notification;var r=y.createNewMsg(y.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return t.A(e,r)}});e.waitUntil(i)}}},t.prototype.O=function(e){if(e&&"object"==typeof e.notification){var t=Object.assign({},e.notification);return t.data=(n={},n.FCM_MSG=e,n),t;var n}},t.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!=typeof e)throw this.e.create(u.codes.BG_HANDLER_FUNCTION_EXPECTED);this.N=e},t.prototype.D=function(e){var t=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,r=0;r<e.length;r++)if(new URL(e[r].url).href===t){n=e[r];break}if(n)return n.focus(),n})},t.prototype.A=function(e,t){var n=this;return new Promise(function(r,i){if(!e)return i(n.e.create(u.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),r()})},t.prototype.w=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},t.prototype.k=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=y.createNewMsg(y.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(n.map(function(e){return t.A(e,r)}))})},t.prototype._=function(){return Promise.resolve(self.registration)},t}(m),T=n(6);t.registerMessaging=i,i(T.default)}},[116])}catch(e){throw Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
try{webpackJsonpFirebase([2],{118:function(e,t,n){n(119)},119:function(e,t,n){"use strict";function r(e){return"storage/"+e}function i(){return new et(tt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(e){return new et(tt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a(e){return new et(tt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new et(tt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(e){return new et(tt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function c(){return new et(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l(){return new et(tt.CANCELED,"User canceled the upload/download.")}function d(e){return new et(tt.INVALID_URL,"Invalid URL '"+e+"'.")}function h(e){return new et(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function p(){return new et(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function f(){return new et(tt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function m(){return new et(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(e,t,n){return new et(tt.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function y(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new et(tt.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function v(){return new et(tt.APP_DELETED,"The Firebase app was deleted.")}function _(e){return new et(tt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(e,t){return new et(tt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new et(tt.INTERNAL_ERROR,"Internal error: "+e)}function M(e){switch(e){case nt.RAW:case nt.BASE64:case nt.BASE64URL:case nt.DATA_URL:return;default:throw"Expected one of the event types: ["+nt.RAW+", "+nt.BASE64+", "+nt.BASE64URL+", "+nt.DATA_URL+"]."}}function T(e,t){switch(e){case nt.RAW:return new rt(S(t));case nt.BASE64:case nt.BASE64URL:return new rt(k(e,t));case nt.DATA_URL:return new rt(C(t),E(t))}throw i()}function S(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function L(e){var t;try{t=decodeURIComponent(e)}catch(e){throw b(nt.DATA_URL,"Malformed data URL.")}return S(t)}function k(e,t){switch(e){case nt.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw b(e,"Invalid character '"+(a=n?"-":"_")+"' found: is it base64url encoded?")}break;case nt.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o){var a=i?"+":"/";throw b(e,"Invalid character '"+a+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw b(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function C(e){var t=new it(e);return t.base64?k(nt.BASE64,t.rest):L(t.rest)}function E(e){return new it(e).contentType}function D(e,t){return!!(e.length>=t.length)&&e.substring(e.length-t.length)===t}function I(e){switch(e){case at.RUNNING:case at.PAUSING:case at.CANCELING:return st.RUNNING;case at.PAUSED:return st.PAUSED;case at.SUCCESS:return st.SUCCESS;case at.CANCELED:return st.CANCELED;case at.ERROR:default:return st.ERROR}}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){for(var n in e)A(e,n)&&t(n,e[n])}function O(e){if(null==e)return{};var t={};return x(e,function(e,n){t[e]=n}),t}function N(e){return new Promise(e)}function P(e){return Promise.resolve(e)}function R(e){return Promise.reject(e)}function Y(e){return null!=e}function F(e){return void 0!==e}function j(e){return"function"==typeof e}function B(e){return"object"==typeof e}function H(e){return B(e)&&null!==e}function U(e){return B(e)&&!Array.isArray(e)}function V(e){return"string"==typeof e||e instanceof String}function W(e){return"number"==typeof e||e instanceof Number}function q(e){return G()&&e instanceof Blob}function G(){return"undefined"!=typeof Blob}function K(e){var t;try{t=JSON.parse(e)}catch(e){return null}return U(t)?t:null}function z(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}function Q(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function J(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $(e){return Ke+Qe+e}function X(e){return ze+Qe+e}function Z(e){return Ke+Je+e}function ee(e){var t=encodeURIComponent,n="?";return x(e,function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"}),n=n.slice(0,-1)}function te(e,t){return t}function ne(e){return!V(e)||e.length<2?e:(e=e,J(e))}function re(){function e(e,t){return ne(t)}function t(e,t){return Y(t)?+t:t}function n(e,t){if(!(V(t)&&t.length>0))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var r=e.bucket,i=e.fullPath;return X("/b/"+n(r)+"/o/"+n(i))+ee({alt:"media",token:t})})}if(ht)return ht;var r=[];r.push(new dt("bucket")),r.push(new dt("generation")),r.push(new dt("metageneration")),r.push(new dt("name","fullPath",!0));var i=new dt("name");i.xform=e,r.push(i);var o=new dt("size");return o.xform=t,r.push(o),r.push(new dt("timeCreated")),r.push(new dt("updated")),r.push(new dt("md5Hash",null,!0)),r.push(new dt("cacheControl",null,!0)),r.push(new dt("contentDisposition",null,!0)),r.push(new dt("contentEncoding",null,!0)),r.push(new dt("contentLanguage",null,!0)),r.push(new dt("contentType",null,!0)),r.push(new dt("metadata","customMetadata",!0)),r.push(new dt("downloadTokens","downloadURLs",!1,n)),ht=r}function ie(e,t){function n(){var n=e.bucket,r=e.fullPath,i=new lt(n,r);return t.makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function oe(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return ie(r,e),r}function ae(e,t,n){var r=K(t);return null===r?null:oe(e,r,n)}function se(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ue(e){if(!e||!B(e))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!B(n))throw"Expected object for 'customMetadata' mapping."}else if(H(n))throw"Mapping for '"+t+"' cannot be an object."}}function ce(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw y(r,i,e,n.length);for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?g(o,e,t.message):g(o,e,t)}}function le(e,t){return function(n){e(n),t(n)}}function de(e,t){function n(e){if(!V(e))throw"Expected string."}var r;return r=e?le(n,e):n,new pt(r,t)}function he(){function e(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||G()&&e instanceof Blob))throw"Expected Blob or File."}return new pt(e)}function pe(e){return new pt(ue,e)}function fe(){function e(e){if(!(W(e)&&e>=0))throw"Expected a number 0 or greater."}return new pt(e)}function me(e,t){function n(t){if(!(null===t||Y(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new pt(n,t)}function ge(e){function t(e){if(null!==e&&!j(e))throw"Expected a Function."}return new pt(t,e)}function ye(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ye();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(G())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function _e(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function be(e,t){return-1!==e.indexOf(t)}function we(e){return Array.prototype.slice.call(e)}function Me(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function Te(e){if(!e)throw i()}function Se(e,t){function n(n,r){var i=ae(e,r,t);return Te(null!==i),i}return n}function Le(e){function t(t,n){var r;return(r=401===t.getStatus()?s():402===t.getStatus()?a(e.bucket):403===t.getStatus()?u(e.path):n).setServerResponseProp(n.serverResponseProp()),r}return t}function ke(e){function t(t,r){var i=n(t,r);return 404===t.getStatus()&&(i=o(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=Le(e);return t}function Ce(e,t,n){var r=$(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new mt(r,"GET",Se(e,n),i);return o.errorHandler=ke(t),o}function Ee(e,t,n,r){var i=$(t.fullServerUrl()),o=se(n,r),a={"Content-Type":"application/json; charset=utf-8"},s=e.maxOperationRetryTime(),u=new mt(i,"PATCH",Se(e,r),s);return u.headers=a,u.body=o,u.errorHandler=ke(t),u}function De(e,t){function n(e,t){}var r=$(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new mt(r,"DELETE",n,i);return o.successCodes=[200,204],o.errorHandler=ke(t),o}function Ie(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ae(e,t,n){var r=O(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Ie(null,t)),r}function xe(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=(""+Math.random()).slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ae(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+se(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",d=ft.getBlob(c,r,l);if(null===d)throw p();var h={name:u.fullPath},f=Z(o),m=e.maxUploadRetryTime(),g=new mt(f,"POST",Se(e,n),m);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=Le(t),g}function Oe(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Te(!1)}return Te(be(t||["active"],n)),n}function Ne(e,t,n,r,i){function o(e,t){Oe(e);var n;try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Te(!1)}return Te(V(n)),n}var a=t.bucketOnlyServerUrl(),s=Ae(t,r,i),u={name:s.fullPath},c=Z(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=se(s,n),h=e.maxUploadRetryTime(),p=new mt(c,"POST",o,h);return p.urlParams=u,p.headers=l,p.body=d,p.errorHandler=Le(t),p}function Pe(e,t,n,r){function i(e,t){var n,i=Oe(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Te(!1)}var o=parseInt(n,10);return Te(!isNaN(o)),new gt(o,r.size(),"final"===i)}var o={"X-Goog-Upload-Command":"query"},a=e.maxUploadRetryTime(),s=new mt(n,"POST",i,a);return s.headers=o,s.errorHandler=Le(t),s}function Re(e,t,n,r,i,o,a,s){function u(e,n){var i,a=Oe(e,["active","final"]),s=c.current+d,u=r.size();return i="final"===a?Se(t,o)(e,n):null,new gt(s,u,"final"===a,i)}var c=new gt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw f();var l=c.total-c.current,d=l;i>0&&(d=Math.min(d,i));var h=c.current,m=h+d,g={"X-Goog-Upload-Command":d===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},y=r.slice(h,m);if(null===y)throw p();var v=t.maxUploadRetryTime(),_=new mt(n,"POST",u,v);return _.headers=g,_.body=y.uploadData(),_.progressCallback=s||null,_.errorHandler=Le(e),_}function Ye(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P(!0).then(function(){e.apply(null,t)})}}function Fe(e,t,n){function r(){return 2===d}function i(){h||(h=!0,t.apply(null,arguments))}function o(t){c=setTimeout(function(){c=null,e(a,r())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!h){if(e)return void i.apply(null,arguments);if(r()||l)return void i.apply(null,arguments);u<64&&(u*=2);var a;1===d?(d=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(e){p||(p=!0,h||(null!==c?(e||(d=2),clearTimeout(c),o(0)):e||(d=1)))}var u=1,c=null,l=!1,d=0,h=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function je(e){e(!1)}function Be(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function He(e){var t=void 0!==Ge.default?Ge.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function Ue(e,t,n){var r=ee(e.urlParams),i=e.url+r,o=O(e.headers);return Be(o,t),He(o),new St(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}function Ve(e,t,n){return new kt(e,new ct,n)}function We(e){var t={TaskState:st,TaskEvent:ot,StringFormat:nt,Storage:kt,Reference:bt};e.INTERNAL.registerService(Et,Ve,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0});var qe,Ge=n(6),Ke="https://firebasestorage.googleapis.com",ze="https://firebasestorage.googleapis.com",Qe="/v0",Je="/v0",$e=12e4,Xe=6e4,Ze=-9007199254740991,et=function(){function e(e,t){this.t=r(e),this.e="Firebase Storage: "+t,this.n=null,this.r="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return r(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.n},e.prototype.setServerResponseProp=function(e){this.n=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.n},enumerable:!0,configurable:!0}),e}(),tt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},nt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rt=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}(),it=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(nt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=D(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}return e}(),ot={STATE_CHANGED:"state_changed"},at={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},st={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(qe=qe||(qe={}));var ut=function(){function e(){var e=this;this.o=!1,this.i=new XMLHttpRequest,this.a=qe.NO_ERROR,this.s=N(function(t,n){e.i.addEventListener("abort",function(n){e.a=qe.ABORT,t(e)}),e.i.addEventListener("error",function(n){e.a=qe.NETWORK_ERROR,t(e)}),e.i.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,r){var i=this;if(this.o)throw w("cannot .send() more than once");return this.o=!0,this.i.open(t,e,!0),Y(r)&&x(r,function(e,t){i.i.setRequestHeader(e,""+t)}),Y(n)?this.i.send(n):this.i.send(),this.s},e.prototype.getErrorCode=function(){if(!this.o)throw w("cannot .getErrorCode() before sending");return this.a},e.prototype.getStatus=function(){if(!this.o)throw w("cannot .getStatus() before sending");try{return this.i.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.o)throw w("cannot .getResponseText() before sending");return this.i.responseText},e.prototype.abort=function(){this.i.abort()},e.prototype.getResponseHeader=function(e){return this.i.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){Y(this.i.upload)&&this.i.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){Y(this.i.upload)&&this.i.upload.removeEventListener("progress",e)},e}(),ct=function(){function e(){}return e.prototype.createXhrIo=function(){return new ut},e}(),lt=function(){function e(e,t){this.bucket=e,this.u=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.u},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw h(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.u=e.u.slice(0,-1))}function r(e){e.u=decodeURIComponent(e.path)}for(var i=null,o=[{regex:RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:n},{regex:RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:r}],a=0;a<o.length;a++){var s=o[a],u=s.regex.exec(t);if(u){var c=u[s.indices.bucket],l=u[s.indices.path];l||(l=""),i=new e(c,l),s.postModify(i);break}}if(null==i)throw d(t);return i},e}(),dt=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||te}return e}(),ht=null,pt=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!F(t)||e(t)},this.optional=!!t}return e}(),ft=function(){function e(e,t){var n=0,r="";q(e)?(this.c=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.c=new Uint8Array(e):(this.c=new Uint8Array(e.byteLength),this.c.set(new Uint8Array(e))),n=this.c.length):e instanceof Uint8Array&&(t?this.c=e:(this.c=new Uint8Array(e.length),this.c.set(e)),n=e.length),this.l=n,this.h=r}return e.prototype.size=function(){return this.l},e.prototype.type=function(){return this.h},e.prototype.slice=function(t,n){if(q(this.c)){var r=_e(this.c,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.c.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(G()){var r=t.map(function(t){return t instanceof e?t.c:t});return new e(ve.apply(null,r))}var i=t.map(function(e){return V(e)?T(nt.RAW,e).data:e.c}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.c},e}(),mt=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}(),gt=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}(),yt=function(){function e(e,t,n){if(j(e)||Y(t)||Y(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return e}(),vt=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}(),_t=function(){function e(e,t,n,r,i,o){void 0===o&&(o=null);var a=this;this.p=0,this.f=!1,this.d=!1,this._=[],this.v=null,this.b=null,this.m=null,this.g=1,this.y=null,this.R=null,this.w=e,this.U=t,this.T=n,this.A=i,this.N=o,this.O=r,this.C=this.S(this.A),this.k=at.RUNNING,this.I=function(e){a.m=null,a.g=1,e.codeEquals(tt.CANCELED)?(a.f=!0,a.L()):(a.v=e,a.P(at.ERROR))},this.x=function(e){a.m=null,e.codeEquals(tt.CANCELED)?a.L():(a.v=e,a.P(at.ERROR))},this.D=N(function(e,t){a.y=e,a.R=t,a.M()}),this.D.then(null,function(){})}return e.prototype.W=function(){var e=this,t=this.p;return function(n,r){e.B(t+n)}},e.prototype.S=function(e){return e.size()>262144},e.prototype.M=function(){this.k===at.RUNNING&&null===this.m&&(this.C?null===this.b?this.G():this.f?this.j():this.d?this.q():this.F():this.H())},e.prototype.z=function(e){var t=this;this.U.getAuthToken().then(function(n){switch(t.k){case at.RUNNING:e(n);break;case at.CANCELING:t.P(at.CANCELED);break;case at.PAUSING:t.P(at.PAUSED)}})},e.prototype.G=function(){var e=this;this.z(function(t){var n=Ne(e.U,e.T,e.O,e.A,e.N),r=e.U.makeRequest(n,t);e.m=r,r.getPromise().then(function(t){e.m=null,e.b=t,e.f=!1,e.L()},e.I)})},e.prototype.j=function(){var e=this,t=this.b;this.z(function(n){var r=Pe(e.U,e.T,t,e.A),i=e.U.makeRequest(r,n);e.m=i,i.getPromise().then(function(t){t=t,e.m=null,e.B(t.current),e.f=!1,t.finalized&&(e.d=!0),e.L()},e.I)})},e.prototype.F=function(){var e=this,t=262144*this.g,n=new gt(this.p,this.A.size()),r=this.b;this.z(function(i){var o;try{o=Re(e.T,e.U,r,e.A,t,e.O,n,e.W())}catch(t){return e.v=t,void e.P(at.ERROR)}var a=e.U.makeRequest(o,i);e.m=a,a.getPromise().then(function(t){e.X(),e.m=null,e.B(t.current),t.finalized?(e.N=t.metadata,e.P(at.SUCCESS)):e.L()},e.I)})},e.prototype.X=function(){262144*this.g<33554432&&(this.g*=2)},e.prototype.q=function(){var e=this;this.z(function(t){var n=Ce(e.U,e.T,e.O),r=e.U.makeRequest(n,t);e.m=r,r.getPromise().then(function(t){e.m=null,e.N=t,e.P(at.SUCCESS)},e.x)})},e.prototype.H=function(){var e=this;this.z(function(t){var n=xe(e.U,e.T,e.O,e.A,e.N),r=e.U.makeRequest(n,t);e.m=r,r.getPromise().then(function(t){e.m=null,e.N=t,e.B(e.A.size()),e.P(at.SUCCESS)},e.I)})},e.prototype.B=function(e){var t=this.p;this.p=e,this.p!==t&&this.V()},e.prototype.P=function(e){if(this.k!==e)switch(e){case at.CANCELING:case at.PAUSING:this.k=e,null!==this.m&&this.m.cancel();break;case at.RUNNING:var t=this.k===at.PAUSED;this.k=e,t&&(this.V(),this.M());break;case at.PAUSED:this.k=e,this.V();break;case at.CANCELED:this.v=l(),this.k=e,this.V();break;case at.ERROR:case at.SUCCESS:this.k=e,this.V()}},e.prototype.L=function(){switch(this.k){case at.PAUSING:this.P(at.PAUSED);break;case at.CANCELING:this.P(at.CANCELED);break;case at.RUNNING:this.M()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=I(this.k);return new vt(this.p,this.A.size(),e,this.N,this,this.w)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(t){if(e!==ot.STATE_CHANGED)throw"Expected one of the event types: ["+ot.STATE_CHANGED+"]."}function o(e){try{return void c(e)}catch(e){}try{if(l(e),!(F(e.next)||F(e.error)||F(e.complete)))throw"";return}catch(e){throw u}}function a(e){function t(t,n,i){null!==e&&ce("on",e,arguments);var o=new yt(t,n,r);return d.K(o),function(){d.Z(o)}}return t}function s(e){if(null===e)throw u;o(e)}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=ge(!0).validator,l=me(null,!0).validator;ce("on",[de(i),me(o,!0),ge(!0),ge(!0)],arguments);var d=this,h=[me(s),ge(!0),ge(!0)];return F(t)||F(n)||F(r)?a(null)(t,n,r):a(h)},e.prototype.then=function(e,t){return this.D.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.K=function(e){this._.push(e),this.J(e)},e.prototype.Z=function(e){Me(this._,e)},e.prototype.V=function(){var e=this;this.Q(),we(this._).forEach(function(t){e.J(t)})},e.prototype.Q=function(){if(null!==this.y){var e=!0;switch(I(this.k)){case st.SUCCESS:Ye(this.y.bind(null,this.snapshot))();break;case st.CANCELED:case st.ERROR:Ye(this.R.bind(null,this.v))();break;default:e=!1}e&&(this.y=null,this.R=null)}},e.prototype.J=function(e){switch(I(this.k)){case st.RUNNING:case st.PAUSED:null!==e.next&&Ye(e.next.bind(e,this.snapshot))();break;case st.SUCCESS:null!==e.complete&&Ye(e.complete.bind(e))();break;case st.CANCELED:case st.ERROR:null!==e.error&&Ye(e.error.bind(e,this.v))();break;default:null!==e.error&&Ye(e.error.bind(e,this.v))()}},e.prototype.resume=function(){ce("resume",[],arguments);var e=this.k===at.PAUSED||this.k===at.PAUSING;return e&&this.P(at.RUNNING),e},e.prototype.pause=function(){ce("pause",[],arguments);var e=this.k===at.RUNNING;return e&&this.P(at.PAUSING),e},e.prototype.cancel=function(){ce("cancel",[],arguments);var e=this.k===at.RUNNING||this.k===at.PAUSING;return e&&this.P(at.CANCELING),e},e}(),bt=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof lt?t:lt.makeFromUrl(t)}return e.prototype.toString=function(){return ce("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return re()},e.prototype.child=function(e){ce("child",[de()],arguments);var t=Q(this.location.path,e),n=new lt(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=z(this.location.path);if(null===e)return null;var t=new lt(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new lt(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return J(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ce("put",[he(),pe(!0)],arguments),this.Y("put"),new _t(this,this.authWrapper,this.location,this.mappings(),new ft(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=nt.RAW),ce("putString",[de(),de(M,!0),pe(!0)],arguments),this.Y("putString");var r=T(t,e),i=O(n);return!Y(i.contentType)&&Y(r.contentType)&&(i.contentType=r.contentType),new _t(this,this.authWrapper,this.location,this.mappings(),new ft(r.data,!0),i)},e.prototype.delete=function(){ce("delete",[],arguments),this.Y("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=De(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.getMetadata=function(){ce("getMetadata",[],arguments),this.Y("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=Ce(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){ce("updateMetadata",[pe()],arguments),this.Y("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=Ee(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){return ce("getDownloadURL",[],arguments),this.Y("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(Y(t))return t;throw m()})},e.prototype.Y=function(e){if(""===this.location.path)throw _(e)},e}(),wt=function(){function e(e){this.D=R(e)}return e.prototype.getPromise=function(){return this.D},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),Mt=function(){function e(){this.$={},this.tt=Ze}return e.prototype.addRequest=function(e){function t(){delete r.$[n]}var n=this.tt;this.tt++,this.$[n]=e;var r=this;e.getPromise().then(t,t)},e.prototype.clear=function(){x(this.$,function(e,t){t&&t.cancel(!0)}),this.$={}},e}(),Tt=function(){function e(t,n,r,i,o){if(this.et=null,this.nt=!1,this.rt=t,null!==this.rt){var a=this.rt.options;Y(a)&&(this.et=e.ot(a))}this.it=n,this.at=r,this.st=o,this.ut=i,this.ct=$e,this.lt=Xe,this.ht=new Mt}return e.ot=function(e){var t=e.storageBucket||null;return null==t?null:lt.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.rt&&Y(this.rt.INTERNAL)&&Y(this.rt.INTERNAL.getToken)?this.rt.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):P(null)},e.prototype.bucket=function(){if(this.nt)throw v();return this.et},e.prototype.service=function(){return this.ut},e.prototype.makeStorageReference=function(e){return this.it(this,e)},e.prototype.makeRequest=function(e,t){if(this.nt)return new wt(v());var n=this.at(e,t,this.st);return this.ht.addRequest(n),n},e.prototype.deleteApp=function(){this.nt=!0,this.rt=null,this.ht.clear()},e.prototype.maxUploadRetryTime=function(){return this.lt},e.prototype.setMaxUploadRetryTime=function(e){this.lt=e},e.prototype.maxOperationRetryTime=function(){return this.ct},e.prototype.setMaxOperationRetryTime=function(e){this.ct=e},e}(),St=function(){function e(e,t,n,r,i,o,a,s,u,c,l){this.pt=null,this.ft=null,this.y=null,this.R=null,this.dt=!1,this._t=!1,this.vt=e,this.bt=t,this.mt=n,this.gt=r,this.yt=i.slice(),this.Rt=o.slice(),this.Et=a,this.wt=s,this.Ut=c,this.Tt=u,this.st=l;var d=this;this.D=N(function(e,t){d.y=e,d.R=t,d.M()})}return e.prototype.M=function(){function e(e,t){function r(e){var t=e.loaded,r=e.lengthComputable?e.total:-1;null!==n.Ut&&n.Ut(t,r)}if(t)e(!1,new Lt(!1,null,!0));else{var i=n.st.createXhrIo();n.pt=i,null!==n.Ut&&i.addUploadProgressListener(r),i.send(n.vt,n.bt,n.gt,n.mt).then(function(t){null!==n.Ut&&t.removeUploadProgressListener(r),n.pt=null;var i=(t=t).getErrorCode()===qe.NO_ERROR,o=t.getStatus();if(i&&!n.At(o)){var a=be(n.yt,o);e(!0,new Lt(a,t))}else{var s=t.getErrorCode()===qe.ABORT;e(!1,new Lt(!1,null,s))}})}}function t(e,t){var r=n.y,o=n.R,a=t.xhr;if(t.wasSuccessCode)try{var s=n.Et(a,a.getResponseText());F(s)?r(s):r()}catch(e){o(e)}else if(null!==a){(u=i()).setServerResponseProp(a.getResponseText()),o(n.wt?n.wt(a,u):u)}else if(t.canceled){o(u=n._t?v():l())}else{var u=c();o(u)}}var n=this;this.dt?t(!1,new Lt(!1,null,!0)):this.ft=Fe(e,t,this.Tt)},e.prototype.getPromise=function(){return this.D},e.prototype.cancel=function(e){this.dt=!0,this._t=e||!1,null!==this.ft&&je(this.ft),null!==this.pt&&this.pt.abort()},e.prototype.At=function(e){var t=e>=500&&e<600,n=be([408,429],e),r=be(this.Rt,e);return t||n||r},e}(),Lt=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}(),kt=function(){function e(e,t,n){function r(e,t){return new bt(e,t)}if(this.et=null,this.U=new Tt(e,r,Ue,this,t),this.rt=e,null!=n)this.et=lt.makeFromBucketSpec(n);else{var i=this.U.bucket();null!=i&&(this.et=new lt(i,""))}this.Nt=new Ct(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ce("ref",[de(t,!0)],arguments),null==this.et)throw Error("No Storage Bucket defined in Firebase Options.");var n=new bt(this.U,this.et);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{lt.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return ce("refFromURL",[de(t,!1)],arguments),new bt(this.U,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.U.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ce("setMaxUploadRetryTime",[fe()],arguments),this.U.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.U.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){ce("setMaxOperationRetryTime",[fe()],arguments),this.U.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.rt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.Nt},enumerable:!0,configurable:!0}),e}(),Ct=function(){function e(e){this.ut=e}return e.prototype.delete=function(){return this.ut.U.deleteApp(),P(void 0)},e}();t.registerStorage=We;var Et="storage";We(Ge.default)}},[118])}catch(e){throw Error("Cannot instantiate firebase-storage.js - be sure to load firebase-app.js first.")}define("firebase",function(e){return function(){var t;return t||e.firebase}}(this));/*!
 * @license Firebase v4.6.0
 * Build: rev-f5e674c
 * Terms: https://firebase.google.com/terms/
 */
try{webpackJsonpFirebase([1],{113:function(e,t,n){n(114)},114:function(e,t,n){"use strict";function r(){return Ve}function i(e){Ve=e}function o(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Ve<=Be.DEBUG){var i=(new Date).toISOString(),o=n.map(s);console.log.apply(console,["Firestore ("+Ue+") "+i+" ["+e+"]: "+t].concat(o))}}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ve<=Be.ERROR){var r=(new Date).toISOString(),i=t.map(s);console.error.apply(console,["Firestore ("+Ue+") "+r+": "+e].concat(i))}}function s(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function u(e){var t="FIRESTORE ("+Ue+") INTERNAL ASSERTION FAILED: "+e;throw a(t),Error(t)}function c(e,t){e||u(t)}function l(){return We.getPlatform().emptyByteString}function d(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Ke(Ge.INVALID_ARGUMENT,e)}n.prototype=e.prototype;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){return void 0!==e?e:t}function f(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=parseInt(n,10);isNaN(r)||t(r,e[n])}}function m(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function g(e){c(null!=e&&"object"==typeof e,"isEmpty() expects object parameter.");for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function y(e){c(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function v(e,t,n){if(t.length!==n)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires "+N(n,"argument")+", but was called with "+N(t.length,"argument")+".")}function _(e,t,n){if(t.length<n)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires at least "+N(n,"argument")+", but was called with "+N(t.length,"argument")+".")}function b(e,t,n,r){if(t.length<n||t.length>r)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+N(t.length,"argument")+".")}function w(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+N(r,"element")+".")}function M(e,t,n,r){k(e,t,O(n)+" argument",r)}function T(e,t,n,r){void 0!==r&&M(e,t,n,r)}function S(e,t,n,r){k(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&S(e,t,n,r)}function k(e,t,n,r){if(typeof r!==t||"object"===t&&!C(r)){var i=E(r);throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function C(e){return"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function E(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=D(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":u("Unknown wrong type: "+typeof e)}function D(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(""+e.constructor);if(t&&t.length>1)return t[1]}return null}function I(e,t,n){if(void 0===n)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+O(t)+" argument, but it was undefined.")}function A(e,t,n){m(t,function(t,r){if(n.indexOf(t)<0)throw new Ke(Ge.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function x(e,t,n,r){var i=E(r);return new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() requires its "+O(n)+" argument to be a "+t+", but it was: "+i)}function O(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function N(e,t){return e+" "+t+(1===e?"":"s")}function P(e,t){return e<t?-1:e>t?1:0}function R(e,t){return null!==e&&void 0!==e?!(!t||!e.equals(t)):e===t}function Y(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}function F(e){var t=e.length-1;return 0===e.length?"":"\0"===e.charAt(t)?e.substring(0,t):e.substring(0,t)+String.fromCharCode(e.charCodeAt(t)-1)}function j(e){return e+"\0"}function B(){if("undefined"==typeof Uint8Array)throw new Ke(Ge.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function H(){if(!We.getPlatform().base64Available)throw new Ke(Ge.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function U(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}function V(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function W(e){return null===e||void 0===e}function q(e){return Ot(e)&&e<=xt&&e>=At}function G(e,t,n){if(n.equals(yt.INSTANCE)){if(t!==Pt.EQUAL)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Yt(e)}if(n.equals(wt.NAN)){if(t!==Pt.EQUAL)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Ft(e)}return new Rt(e,t,n)}function K(e){switch(e){case Ge.OK:return u("Treated status OK as error");case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return u("Unknown status code: "+e)}}function z(e){var t=en[e];if(void 0!==t)return Q(t)}function Q(e){switch(e){case en.OK:return Ge.OK;case en.CANCELLED:return Ge.CANCELLED;case en.UNKNOWN:return Ge.UNKNOWN;case en.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case en.INTERNAL:return Ge.INTERNAL;case en.UNAVAILABLE:return Ge.UNAVAILABLE;case en.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case en.NOT_FOUND:return Ge.NOT_FOUND;case en.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case en.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case en.ABORTED:return Ge.ABORTED;case en.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case en.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case en.DATA_LOSS:return Ge.DATA_LOSS;default:return u("Unknown status code: "+e)}}function J(e){if(void 0===e)return en.OK;switch(e){case Ge.OK:return en.OK;case Ge.CANCELLED:return en.CANCELLED;case Ge.UNKNOWN:return en.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return en.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return en.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return en.INTERNAL;case Ge.UNAVAILABLE:return en.UNAVAILABLE;case Ge.UNAUTHENTICATED:return en.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return en.INVALID_ARGUMENT;case Ge.NOT_FOUND:return en.NOT_FOUND;case Ge.ALREADY_EXISTS:return en.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return en.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return en.FAILED_PRECONDITION;case Ge.ABORTED:return en.ABORTED;case Ge.OUT_OF_RANGE:return en.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return en.UNIMPLEMENTED;case Ge.DATA_LOSS:return en.DATA_LOSS;default:return u("Unknown status code: "+e)}}function $(e){switch(e){case 200:return Ge.OK;case 400:return Ge.INVALID_ARGUMENT;case 401:return Ge.UNAUTHENTICATED;case 403:return Ge.PERMISSION_DENIED;case 404:return Ge.NOT_FOUND;case 409:return Ge.ABORTED;case 416:return Ge.OUT_OF_RANGE;case 429:return Ge.RESOURCE_EXHAUSTED;case 499:return Ge.CANCELLED;case 500:return Ge.UNKNOWN;case 501:return Ge.UNIMPLEMENTED;case 503:return Ge.UNAVAILABLE;case 504:return Ge.DEADLINE_EXCEEDED;default:return e>=200&&e<300?Ge.OK:e>=400&&e<500?Ge.FAILED_PRECONDITION:e>=500&&e<600?Ge.INTERNAL:Ge.UNKNOWN}}function X(){return dn}function Z(){return hn}function ee(){return pn}function te(){return fn}function ne(e,t){t.length>0&&(e.resumeToken=t)}function re(e,t){c(!W(e),t+" is missing")}function ie(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):u("can't parse "+e)}function oe(e,t,n){return t===n||!t&&n in e}function ae(e){if(e.search(Pn)>=0)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Nn.bind.apply(Nn,[void 0].concat(e.split("."))))}catch(t){throw new Ke(Ge.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function se(e,t){var n=function(e){switch(e){case Rn.Added:return 1;case Rn.Modified:case Rn.Metadata:return 2;case Rn.Removed:return 0;default:return u("Unknown ChangeType: "+e)}};return n(e)-n(t)}function ue(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=le(t)),t=ce(e.get(n),t);return le(t)}function ce(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=sr+cr;break;case sr:n+=sr+lr;break;default:n+=o}}return n}function le(e){return e+sr+ur}function de(e){var t=e.length;if(c(t>=2,"Invalid path "+e),2===t)return c(e.charAt(0)===sr&&e.charAt(1)===ur,"Non-empty path "+e+" had length 2"),rt.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(sr,o);switch((a<0||a>n)&&u('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case ur:var s=e.substring(o,a),l=void 0;0===i.length?l=s:(i+=s,l=i,i=""),r.push(l);break;case cr:i+=e.substring(o,a),i+="\0";break;case lr:i+=e.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+e+'"')}o=a+2}return new rt(r)}function he(e,t){c(0===t,"Unexpected upgrade from version "+t),e.createObjectStore(pr.store,{keyPath:pr.keyPath}),e.createObjectStore(fr.store,{keyPath:fr.keyPath}),e.createObjectStore(_r.store,{keyPath:_r.keyPath}).createIndex(_r.documentTargetsIndex,_r.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.queryTargetsIndexName,vr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(mr.store),e.createObjectStore(yr.store),e.createObjectStore(hr.store),e.createObjectStore(br.store)}function pe(e){return new qn(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}})}function fe(e){return c("string"==typeof e,"Persisting non-string stream token not supported."),e}function me(e){return ve(e,fr.store)}function ge(e){return ve(e,mr.store)}function ye(e){return ve(e,pr.store)}function ve(e,t){return e instanceof Sr?e.store(t):u("Invalid transaction object provided!")}function _e(e){return Me(e,vr.store)}function be(e){return Me(e,br.store)}function we(e){return Me(e,_r.store)}function Me(e,t){return e instanceof Sr?e.store(t):u("Invalid transaction object provided!")}function Te(e){return e instanceof Sr?e.store(yr.store):u("Invalid transaction object provided!")}function Se(e){return e.path.toArray()}function Le(e){return void 0!==e.documents}function ke(e){if(!e)return new oi;switch(e.type){case"google-auth":return new si(e.client);case"gapi":return new ci(e.client,e.sessionIndex||"0");case"provider":return e.client;default:throw new Ke(Ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Ce(e){return Ee(e,["next","error","complete"])}function Ee(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}function De(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $e||e instanceof Qe||e instanceof _i||e instanceof di)}function Ie(e,t,n){if(!De(n)||!C(n)){var r=E(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Ae(e,t){if(t instanceof Nn)return t.t;if("string"==typeof t)return xe(e,t);throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function xe(e,t){try{return ae(t).t}catch(t){var n=Oe(t);throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Oe(e){return e instanceof Error?e.message:""+e}function Ne(e,t){return void 0===t?{merge:!1}:(A(e,t,["merge"]),L(e,"boolean","merge",t.merge),t)}function Pe(e,t,n){if(t instanceof Di){if(t.firestore!==n)throw new Ke(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw x(e,"DocumentReference",1,t)}function Re(e,t){if(t.oldDocs.isEmpty()){var n,r=0;return t.docChanges.map(function(i){var o=new Ii(e,i.doc.key,i.doc,t.fromCache);return c(i.type===Rn.Added,"Invalid event type for first snapshot"),c(!n||t.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var i=t.oldDocs;return t.docChanges.map(function(n){var r=new Ii(e,n.doc.key,n.doc,t.fromCache),o=-1,a=-1;return n.type!==Rn.Added&&(o=i.indexOf(n.doc.key),c(o>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==Rn.Removed&&(i=i.add(n.doc),a=i.indexOf(n.doc.key)),{type:Ye(n.type),doc:r,oldIndex:o,newIndex:a}})}function Ye(e){switch(e){case Rn.Added:return"added";case Rn.Modified:case Rn.Metadata:return"modified";case Rn.Removed:return"removed";default:return u("Unknown change type: "+e)}}function Fe(e){e.INTERNAL.registerService("firestore",function(e){return new ki(e)},y(Ui))}function je(e){Fe(e)}Object.defineProperty(t,"__esModule",{value:!0});var Be,He=n(6),Ue=He.default.SDK_VERSION;!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(Be=Be||(Be={}));var Ve=Be.ERROR,We=function(){function e(){}return e.setPlatform=function(t){e.platform&&u("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||u("Platform not set"),e.platform},e}(),qe=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ke=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return qe(t,e),t}(Error),ze=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return c(20===t.length,"Invalid auto ID: "+t),t},e}(),Qe=function(){function e(e){H(),this.e=e}return e.fromBase64String=function(t){v("Blob.fromBase64String",arguments,1),M("Blob.fromBase64String","string",1,t),H();try{return new e(We.getPlatform().atob(t))}catch(e){throw new Ke(Ge.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(v("Blob.fromUint8Array",arguments,1),B(),!(t instanceof Uint8Array))throw x("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return v("Blob.toBase64",arguments,0),H(),We.getPlatform().btoa(this.e)},e.prototype.toUint8Array=function(){v("Blob.toUint8Array",arguments,0),B();for(var e=new Uint8Array(this.e.length),t=0;t<this.e.length;t++)e[t]=this.e.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.n=function(e){return this.e===e.e},e.prototype.r=function(e){return P(this.e,e.e)},e}(),Je=d(Qe,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),$e=function(){function e(e,t){if(v("GeoPoint",arguments,2),M("GeoPoint","number",1,e),M("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new Ke(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this.p=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.p},enumerable:!0,configurable:!0}),e.prototype.n=function(e){return this._lat===e._lat&&this.p===e.p},e.prototype.r=function(e){return P(this._lat,e._lat)||P(this.p,e.p)},e}(),Xe=function(){function e(e,t,n,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r}return e}(),Ze="(default)",et=function(){function e(e,t){this.projectId=e,this.database=t||Ze}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===Ze},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return P(this.projectId,e.projectId)||P(this.database,e.database)},e}(),tt=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&u("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&u("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):u("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,c(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},e.prototype.get=function(e){return c(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.EMPTY_PATH=new t([]),t}(nt),it=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tt(t,e),t.isValidIdentifier=function(e){return it.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ke(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ke(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ke(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(nt),at=function(){function e(t){this.path=t,c(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.equals=function(e){return null!==e&&0===rt.comparator(this.path,e.path)},e.prototype.toString=function(){return""+this.path},e.comparator=function(e,t){return rt.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new rt(t.slice()))},e.fromPathString=function(t){return new e(rt.fromString(t))},e.EMPTY=new e(new rt([])),e}(),st=function(){function e(e,t,n,r){this.key=e,this.version=t,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return e.prototype.field=function(e){return this.data.field(e)},e.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.version.equals(t.version)&&this.data.equals(t.data)&&this.hasLocalMutations===t.hasLocalMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data+", {hasLocalMutations: "+this.hasLocalMutations+"})"},e.compareByKey=function(e,t){return at.comparator(e.key,t.key)},e.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return void 0!==r&&void 0!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},e}(),ut=function(){function e(e,t){this.key=e,this.version=t}return e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},e.prototype.equals=function(e){return e&&e.version.equals(this.version)&&e.key.equals(this.key)},e.compareByKey=function(e,t){return at.comparator(e.key,t.key)},e}(),ct=function(){function e(e,t){this.comparator=e,this.root=t||dt.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t=this.root,n=null;!t.isEmpty();){var r=this.comparator(e,t.key);if(0===r){if(t.left.isEmpty())return n?n.key:null;for(t=t.left;!t.right.isEmpty();)t=t.right;return t.key}r<0?t=t.left:r>0&&(n=t,t=t.right)}throw u("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(e){return new lt(this.root,null,this.comparator,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new lt(this.root,e,this.comparator,!1,t)},e.prototype.getReverseIterator=function(e){return new lt(this.root,null,this.comparator,!0,e)},e.prototype.getReverseIteratorFrom=function(e,t){return new lt(this.root,e,this.comparator,!0,t)},e}(),lt=function(){function e(e,t,n,r,i){this.resultGenerator=i||null,this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e,t=this.nodeStack.pop();if(e=this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value},this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value}},e}(),dt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw u("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),ht=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new dt(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();dt.EMPTY=new ht;var pt,ft=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(pt=pt||(pt={}));var mt,gt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":""+e},e.prototype.defaultCompareTo=function(e){return c(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),P(this.typeOrder,e.typeOrder)},e}(),yt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=pt.NullValue,t.internalValue=null,t}return ft(t,e),t.prototype.value=function(){return null},t.prototype.equals=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(gt),vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.BooleanValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?P(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(gt),_t=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.NumberValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?U(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(gt),bt=function(e){function t(t){return e.call(this,t)||this}return ft(t,e),t.prototype.equals=function(e){return e instanceof t&&V(this.internalValue,e.internalValue)},t}(_t),wt=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return ft(t,e),t.prototype.equals=function(e){return e instanceof t&&V(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(_t),Mt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.StringValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?P(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(gt),Tt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.TimestampValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue.toDate()},t.prototype.equals=function(e){return e instanceof t&&this.internalValue.equals(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue.compareTo(e.internalValue):e instanceof St?-1:this.defaultCompareTo(e)},t}(gt),St=function(e){function t(t){var n=e.call(this)||this;return n.localWriteTime=t,n.typeOrder=pt.TimestampValue,n}return ft(t,e),t.prototype.value=function(){return null},t.prototype.equals=function(e){return e instanceof t&&this.localWriteTime.equals(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime.compareTo(e.localWriteTime):e instanceof Tt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime+">"},t}(gt),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.BlobValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue.n(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue.r(e.internalValue):this.defaultCompareTo(e)},t}(gt),kt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=pt.RefValue,r}return ft(t,e),t.prototype.value=function(){return this.key},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.databaseId.equals(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:at.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(gt),Ct=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.GeoPointValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue.n(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue.r(e.internalValue):this.defaultCompareTo(e)},t}(gt),Et=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.ObjectValue,n}return ft(t,e),t.prototype.value=function(){var e={};return this.internalValue.inorderTraversal(function(t,n){e[t]=n.value()}),e},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.equals=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.equals(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=P(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return P(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(c(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(c(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){c(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e)||void 0:void 0}),n},t.prototype.toString=function(){return JSON.stringify(this.value())},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new ct(P)),t}(gt),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=pt.ArrayValue,n}return ft(t,e),t.prototype.value=function(){return this.internalValue.map(function(e){return e.value()})},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.equals=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return P(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return JSON.stringify(this.value())},t}(gt),It=Number,At=It.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),xt=It.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Ot=It.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Nt=function(){function e(e,t,n,r,i,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=e,this.explicitOrderBy=t,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Ut]:this.memoizedOrderBy=[new Ht(e),Ut];else{c(null===e||null!==t&&e.equals(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:jt.ASCENDING;this.memoizedOrderBy.push(a===jt.ASCENDING?Ut:Vt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){c(null==this.getInequalityFilterField()||!(t instanceof Rt)||!t.isInequality()||t.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!at.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){c(!at.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";W(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),W(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.equals=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].equals(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(var t=0;t<this.filters.length;t++)if(!this.filters[t].equals(e.filters[t]))return!1;return!!this.path.equals(e.path)&&!(null!==this.startAt?!this.startAt.equals(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.equals(e.endAt):null===e.endAt)},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesAncestor(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!W(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Rt&&n.isInequality())return n.field}return null},e.prototype.isDocumentQuery=function(){return at.isDocumentKey(this.path)&&0===this.filters.length},e.prototype.matchesAncestor=function(e){var t=e.key.path;return at.isDocumentKey(this.path)?this.path.equals(t):this.path.isPrefixOf(t)&&this.path.length===t.length-1},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){c(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Pt=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;default:return u("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.equals=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e}(),Rt=function(){function e(e,t,n){this.field=e,this.op=t,this.value=n}return e.prototype.matches=function(e){if(this.field.isKeyField()){c(this.value instanceof kt,"Comparing on key, but filter value not a RefValue");var t=this.value,n=at.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(e){return this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(e){switch(this.op){case Pt.LESS_THAN:return e<0;case Pt.LESS_THAN_OR_EQUAL:return e<=0;case Pt.EQUAL:return 0===e;case Pt.GREATER_THAN:return e>0;case Pt.GREATER_THAN_OR_EQUAL:return e>=0;default:return u("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Pt.EQUAL},e.prototype.canonicalId=function(){return this.field.canonicalString()+""+this.op+this.value},e.prototype.equals=function(t){return t instanceof e&&this.op.equals(t.op)&&this.field.equals(t.field)&&this.value.equals(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(),Yt=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.equals=function(t){return t instanceof e&&this.field.equals(t.field)},e}(),Ft=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field).value();return"number"==typeof t&&isNaN(t)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.equals=function(t){return t instanceof e&&this.field.equals(t.field)},e}(),jt=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Bt=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=""+n[t];return e},e.prototype.sortsBeforeDocument=function(e,t){c(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())c(o instanceof kt,"Bound has a non-key value where the key path is being used."),n=at.comparator(o.key,t.key);else{var a=t.field(i.field);c(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===jt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.equals=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.equals(r)}return!0},e}(),Ht=function(){function e(e,t){this.field=e,void 0===t&&(t=jt.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?st.compareByKey(e,t):st.compareByField(this.field,e,t);switch(this.dir){case jt.ASCENDING:return n;case jt.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+""+this.dir},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.equals=function(e){return this.dir===e.dir&&this.field.equals(e.field)},e}(),Ut=new Ht(ot.keyField(),jt.ASCENDING),Vt=new Ht(ot.keyField(),jt.DESCENDING),Wt=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),qt=function(){function e(e,t){this.seconds=e,this.nanos=t,c(t>=0,"timestamp nanoseconds out of range: "+t),c(t<1e9,"timestamp nanoseconds out of range"+t),c(e>=-62135596800,"timestamp seconds out of range: "+e),c(e<253402300800,"timestamp seconds out of range"+e)}return e.now=function(){return e.fromEpochMilliseconds(Date.now())},e.fromDate=function(t){return e.fromEpochMilliseconds(t.getTime())},e.fromEpochMilliseconds=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.fromISOString=function(t){var n=0,r=Wt.exec(t);if(c(!!r,"invalid timestamp: "+t),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=parseInt(i,10)}var o=new Date(t);return new e(Math.floor(o.getTime()/1e3),n)},e.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},e.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},e.prototype.compareTo=function(e){return this.seconds===e.seconds?P(this.nanos,e.nanos):P(this.seconds,e.seconds)},e.prototype.equals=function(e){return e.seconds===this.seconds&&e.nanos===this.nanos},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},e}(),Gt=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new qt(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp.compareTo(e.timestamp)},e.prototype.equals=function(e){return this.timestamp.equals(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new qt(0,0)),e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(mt=mt||(mt={}));var Kt,zt=function(){function e(e,t,n,r,i){void 0===r&&(r=Gt.MIN),void 0===i&&(i=l()),this.query=e,this.targetId=t,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return e.prototype.update=function(t){return new e(this.query,this.targetId,this.purpose,t.snapshotVersion,t.resumeToken)},e.prototype.equals=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.snapshotVersion.equals(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.equals(e.query)},e}(),Qt=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(){function e(e){this.fields=e}return e.prototype.equals=function(e){return Y(this.fields,e.fields)},e}(),$t=function(){function e(){}return e.prototype.equals=function(t){return t instanceof e},e.instance=new e,e}(),Xt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.equals=function(e){return this.field.equals(e.field)&&this.transform.equals(e.transform)},e}(),Zt=function(){function e(e,t){this.version=e,this.transformResults=t}return e}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(Kt=Kt||(Kt={}));var en,tn=function(){function e(e,t){this.updateTime=e,this.exists=t,c(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof st&&e.version.equals(this.updateTime):void 0!==this.exists?this.exists?e instanceof st:null===e||e instanceof ut:(c(this.isNone,"Precondition should be empty"),!0)},e.prototype.equals=function(e){return R(this.updateTime,e.updateTime)&&this.exists===e.exists},e.NONE=new e,e}(),nn=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&c(e.key.equals(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof st?e.version:Gt.MIN},e}(),rn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=Kt.Set,i}return Qt(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by SetMutation.");var n=nn.getPostMutationVersion(e);return new st(this.key,n,this.value,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=nn.getPostMutationVersion(e);return new st(this.key,n,this.value,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.value.equals(e.value)&&this.precondition.equals(e.precondition)},t}(nn),on=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Kt.Patch,o}return Qt(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return e;var n=nn.getPostMutationVersion(e),r=this.patchDocument(e);return new st(this.key,n,r,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=nn.getPostMutationVersion(e),r=this.patchDocument(e);return new st(this.key,n,r,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.fieldMask.equals(e.fieldMask)&&this.precondition.equals(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof st?e.data:Et.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){for(var t=0,n=this.fieldMask.fields;t<n.length;t++){var r=n[t],i=this.data.field(r);e=void 0!==i?e.set(r,i):e.delete(r)}return e},t}(nn),an=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Kt.Transform,r.precondition=tn.exists(!0),r}return Qt(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),c(null!=t.transformResults,"Transform results missing for TransformMutation.");var n=t.transformResults;if(!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.transformObject(r.data,n);return new st(this.key,r.version,i,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=this.requireDocument(e),r=this.localTransformResults(t),i=this.transformObject(n.data,r);return new st(this.key,n.version,i,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&Y(this.fieldTransforms,e.fieldTransforms)&&this.precondition.equals(e.precondition)},t.prototype.requireDocument=function(e){c(e instanceof st,"Unknown MaybeDocument type "+e);var t=e;return c(t.key.equals(this.key),"Can only transform a document with the same key"),t},t.prototype.localTransformResults=function(e){for(var t=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n].transform;if(!(i instanceof $t))return u("Encountered unknown transform: "+i);t.push(new St(e))}return t},t.prototype.transformObject=function(e,t){c(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof $t))return u("Encountered unknown transform: "+i);e=e.set(o,t[n])}return e},t}(nn),sn=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Kt.Delete,r}return Qt(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by DeleteMutation."),new ut(this.key,Gt.MIN)},t.prototype.applyToLocalView=function(e,t){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&c(e.key.equals(this.key),"Can only apply mutation to document with same key"),new ut(this.key,Gt.forDeletedDoc())):e},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.precondition.equals(e.precondition)},t}(nn),un=function(){function e(e){this.count=e}return e.prototype.equals=function(e){return e&&e.count===this.count},e}();!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(en||(en={}));var cn,ln=function(){function e(e){this.comparator=e,this.data=new ct(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),dn=new ct(at.comparator),hn=new ct(at.comparator),pn=new ct(at.comparator),fn=new ln(at.comparator),mn=function(){function e(e,t,n){this.snapshotVersion=e,this.targetChanges=t,this.documentUpdates=n}return e.prototype.addDocumentUpdate=function(e){this.documentUpdates=this.documentUpdates.insert(e.key,e)},e.prototype.handleExistenceFilterMismatch=function(e){this.targetChanges[e]={mapping:new vn,snapshotVersion:Gt.MIN,currentStatusUpdate:cn.MarkNotCurrent,resumeToken:l()}},e}();!function(e){e[e.None=0]="None",e[e.MarkNotCurrent=1]="MarkNotCurrent",e[e.MarkCurrent=2]="MarkCurrent"}(cn=cn||(cn={}));var gn,yn=te(),vn=function(){function e(){this.docs=yn}return Object.defineProperty(e.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.docs=this.docs.add(e)},e.prototype.delete=function(e){this.docs=this.docs.delete(e)},e.prototype.equals=function(e){return null!==e&&this.docs.equals(e.docs)},e}(),_n=function(){function e(){this.addedDocuments=yn,this.removedDocuments=yn}return e.prototype.applyToKeySet=function(e){var t=e;return this.addedDocuments.forEach(function(e){return t=t.add(e)}),this.removedDocuments.forEach(function(e){return t=t.delete(e)}),t},e.prototype.add=function(e){this.addedDocuments=this.addedDocuments.add(e),this.removedDocuments=this.removedDocuments.delete(e)},e.prototype.delete=function(e){this.addedDocuments=this.addedDocuments.delete(e),this.removedDocuments=this.removedDocuments.add(e)},e.prototype.equals=function(e){return null!==e&&this.addedDocuments.equals(e.addedDocuments)&&this.removedDocuments.equals(e.removedDocuments)},e}(),bn=function(){function e(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}return e}(),wn=function(){function e(e,t){this.targetId=e,this.existenceFilter=t}return e}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(gn=gn||(gn={}));var Mn=function(){function e(e,t,n,r){void 0===n&&(n=l()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}return e}(),Tn=function(){function e(e,t,n){this.snapshotVersion=e,this.listenTargets=t,this.existenceFilters={},this.targetChanges={},this.documentUpdates=X(),this.frozen=!1,this.pendingTargetResponses=y(n)}return e.prototype.add=function(e){c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e instanceof bn?this.addDocumentChange(e):e instanceof Mn?this.addTargetChange(e):e instanceof wn?this.addExistenceFilterChange(e):u("Unknown watch change: "+e)},e.prototype.addChanges=function(e){var t=this;c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e.forEach(function(e){return t.add(e)})},e.prototype.createRemoteEvent=function(){var e=this,t=this.targetChanges;return f(this.targetChanges,function(n){e.isActiveTarget(n)||delete t[n]}),this.frozen=!0,new mn(this.snapshotVersion,t,this.documentUpdates)},e.prototype.ensureTargetChange=function(e){var t=this.targetChanges[e];return t||(t={currentStatusUpdate:cn.None,snapshotVersion:this.snapshotVersion,mapping:new _n,resumeToken:l()},this.targetChanges[e]=t),t},e.prototype.isActiveTarget=function(e){return!h(this.pendingTargetResponses,e)&&h(this.listenTargets,e)},e.prototype.addDocumentChange=function(e){for(var t=!1,n=0,r=e.updatedTargetIds;n<r.length;n++){a=r[n];if(this.isActiveTarget(a)){(s=this.ensureTargetChange(a)).mapping.add(e.key),t=!0}}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var a=o[i];if(this.isActiveTarget(a)){var s=this.ensureTargetChange(a);s.mapping.delete(e.key),t=!0}}e.newDoc&&t&&(this.documentUpdates=this.documentUpdates.insert(e.key,e.newDoc))},e.prototype.addTargetChange=function(e){var t=this;e.targetIds.forEach(function(n){var r=t.ensureTargetChange(n);switch(e.state){case gn.NoChange:t.isActiveTarget(n)&&ne(r,e.resumeToken);break;case gn.Added:t.recordTargetResponse(n),h(t.pendingTargetResponses,n)||(r.mapping=new _n,r.currentStatusUpdate=cn.None,delete t.existenceFilters[n]),ne(r,e.resumeToken);break;case gn.Removed:t.recordTargetResponse(n),c(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case gn.Current:t.isActiveTarget(n)&&(r.currentStatusUpdate=cn.MarkCurrent,ne(r,e.resumeToken));break;case gn.Reset:t.isActiveTarget(n)&&(r.mapping=new vn,ne(r,e.resumeToken));break;default:u("Unknown target watch change state: "+e.state)}})},e.prototype.recordTargetResponse=function(e){var t=(this.pendingTargetResponses[e]||0)-1;0===t?delete this.pendingTargetResponses[e]:this.pendingTargetResponses[e]=t},e.prototype.addExistenceFilterChange=function(e){this.isActiveTarget(e.targetId)&&(this.existenceFilters[e.targetId]=e.existenceFilter)},e}(),Sn=function(){var e={};return e[jt.ASCENDING.name]="ASCENDING",e[jt.DESCENDING.name]="DESCENDING",e}(),Ln=function(){var e={};return e[Pt.LESS_THAN.name]="LESS_THAN",e[Pt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Pt.GREATER_THAN.name]="GREATER_THAN",e[Pt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Pt.EQUAL.name]="EQUAL",e}(),kn=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Ge.UNKNOWN:Q(e.code);return new Ke(t,e.message||"")},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanos}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return qt.fromISOString(e);c(!!e,"Cannot deserialize null or undefined timestamp.");var t=ie(e.seconds||"0"),n=e.nanos||0;return new qt(t,n)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Qe.fromBase64String(e)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Qe.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return c(!!e,"Trying to deserialize version that isn't set"),Gt.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=rt.fromString(e);return c(this.isValidResourceName(t),"Tried to deserialize invalid key "+t),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return c(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),c(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new at(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return 0===e.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?rt.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new rt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new rt(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return c(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof yt)return{nullValue:"NULL_VALUE"};if(e instanceof vt)return{booleanValue:e.value()};if(e instanceof bt)return{integerValue:""+e.value()};if(e instanceof wt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Mt?{stringValue:e.value()}:e instanceof Et?{mapValue:this.toMapValue(e)}:e instanceof Dt?{arrayValue:this.toArrayValue(e)}:e instanceof Tt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ct?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Lt?{bytesValue:this.toBytes(e.value())}:e instanceof kt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:u("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(oe(e,n,"nullValue"))return yt.INSTANCE;if(oe(e,n,"booleanValue"))return vt.of(e.booleanValue);if(oe(e,n,"integerValue"))return new bt(ie(e.integerValue));if(oe(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return wt.NAN;if("Infinity"===e.doubleValue)return wt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return wt.NEGATIVE_INFINITY}return new wt(e.doubleValue)}if(oe(e,n,"stringValue"))return new Mt(e.stringValue);if(oe(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(oe(e,n,"arrayValue")){re(e.arrayValue,"arrayValue");var r=e.arrayValue.values||[];return new Dt(r.map(function(e){return t.fromValue(e)}))}if(oe(e,n,"timestampValue"))return re(e.timestampValue,"timestampValue"),new Tt(this.fromTimestamp(e.timestampValue));if(oe(e,n,"geoPointValue")){re(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new Ct(new $e(i,o))}if(oe(e,n,"bytesValue")){re(e.bytesValue,"bytesValue");var a=this.fromBlob(e.bytesValue);return new Lt(a)}if(oe(e,n,"referenceValue")){re(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),c=new et(s.get(1),s.get(3)),l=new at(this.extractLocalPathFromResourceName(s));return new kt(c,l)}return u("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return c(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e){return new st(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasLocalMutations:!1})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Et.EMPTY;return m(n,function(e,n){r=r.set(new ot([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){c(!!e.found,"Tried to deserialize a found document from a missing document."),re(e.found.name,"doc.found.name"),re(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new st(t,n,r,{hasLocalMutations:!1})},e.prototype.fromMissing=function(e){c(!!e.missing,"Tried to deserialize a missing document from a found document."),c(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new ut(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result_type;return oe(e,t,"found")?this.fromFound(e):oe(e,t,"missing")?this.fromMissing(e):u("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case gn.Added:return"ADD";case gn.Current:return"CURRENT";case gn.NoChange:return"NO_CHANGE";case gn.Removed:return"REMOVE";case gn.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof wn)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof bn){if(e.newDoc instanceof st){t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof ut){var t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Mn){var n=void 0;return e.cause&&(n={code:J(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=e.change_type;if(oe(e,n,"targetChange")){re(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Mn(r,i,o,s||null)}else if(oe(e,n,"documentChange")){re(e.documentChange,"documentChange"),re(e.documentChange.document,"documentChange.name"),re(e.documentChange.document.name,"documentChange.document.name"),re(e.documentChange.document.updateTime,"documentChange.document.updateTime");var c=e.documentChange,l=this.fromName(c.document.name),d=this.fromVersion(c.document.updateTime),h=this.fromFields(c.document.fields||{}),p=new st(l,d,h,{hasLocalMutations:!1}),f=c.targetIds||[],m=c.removedTargetIds||[];t=new bn(f,m,p.key,p)}else if(oe(e,n,"documentDelete")){re(e.documentDelete,"documentDelete"),re(e.documentDelete.document,"documentDelete.document");var g=e.documentDelete,l=this.fromName(g.document),d=g.readTime?this.fromVersion(g.readTime):Gt.forDeletedDoc(),p=new ut(l,d),m=g.removedTargetIds||[];t=new bn([],m,p.key,p)}else if(oe(e,n,"documentRemove")){re(e.documentRemove,"documentRemove"),re(e.documentRemove.document,"documentRemove");var y=e.documentRemove,l=this.fromName(y.document),m=y.removedTargetIds||[];t=new bn([],m,l,null)}else{if(!oe(e,n,"filter"))return u("Unknown change type "+JSON.stringify(e));re(e.filter,"filter"),re(e.filter.targetId,"filter.targetId");var v=e.filter,_=v.count||0,b=new un(_),w=v.targetId;t=new wn(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?gn.NoChange:"ADD"===e?gn.Added:"REMOVE"===e?gn.Removed:"CURRENT"===e?gn.Current:"RESET"===e?gn.Reset:u("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!oe(e,e.response_type,"targetChange"))return Gt.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gt.MIN:t.readTime?this.fromVersion(t.readTime):Gt.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof rn)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof sn)t={delete:this.toName(e.key)};else if(e instanceof on)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof an))return u("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):tn.NONE;if(e.update){re(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new on(r,i,o,n)}return new rn(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new sn(r,n)}if(e.transform){var r=this.fromName(e.transform.document),a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new an(r,a)}return u("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return c(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:u("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?tn.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?tn.exists(e.exists):tn.NONE},e.prototype.fromWriteResult=function(e){var t=this,n=e.updateTime?this.fromVersion(e.updateTime):null,r=null;return e.transformResults&&(r=e.transformResults.map(function(e){return t.fromValue(e)})),new Zt(n,r)},e.prototype.fromWriteResults=function(e){var t=this;return(e||[]).map(function(e){return t.fromWriteResult(e)})},e.prototype.toFieldTransform=function(e){return c(e.transform instanceof $t,"Unknown transform: "+e.transform),{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},e.prototype.fromFieldTransform=function(e){c("REQUEST_TIME"===e.setToServerValue,"Unknown transform proto: "+JSON.stringify(e));var t=ot.fromServerFormat(e.fieldPath);return new Xt(t,$t.instance)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;c(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Nt.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}};if(e.path.isEmpty())t.parent=this.toQueryPath(rt.EMPTY_PATH);else{var n=e.path;c(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toLimit(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0;if(r>0){c(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];t=t.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=n.limit);var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Nt(t,a,o,s,u,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case mt.Listen:return null;case mt.ExistenceFilterMismatch:return"existence-filter-mismatch";case mt.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},t.targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof Rt?t.toRelationFilter(e):t.toUnaryFilter(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):u("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toLimit=function(e){if(!W(e))return e},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Bt(r,n)},e.prototype.toDirection=function(e){return Sn[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return jt.ASCENDING;case"DESCENDING":return jt.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return Ln[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Pt.EQUAL;case"GREATER_THAN":return Pt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Pt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Pt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Pt.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ot.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new Ht(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof Rt?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:u("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new Rt(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof Ft?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof Yt?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new Ft(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new Yt(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},e.prototype.toDocumentMask=function(e){return{fieldPaths:e.fields.map(function(e){return e.canonicalString()})}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return ot.fromServerFormat(e)});return new Jt(t)},e}(),Cn=n(115),En=function(){function e(e){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){c(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){c(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){c(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),Dn="Connection",In="gl-js/ fire/"+Ue,An=function(){function e(e){this.databaseId=e.databaseId,this.pool=new Cn.XhrIoPool;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=In,e["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},e.prototype.invoke=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(s,c){r.pool.getObject(function(l){l.listenOnce(Cn.EventType.COMPLETE,function(){try{switch(l.getLastErrorCode()){case Cn.ErrorCode.NO_ERROR:var t=l.getResponseJson();o(Dn,"XHR received:",JSON.stringify(t)),s(t);break;case Cn.ErrorCode.TIMEOUT:a('RPC "'+e+'" timed out, retrying.'),c(new Ke(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Cn.ErrorCode.HTTP_ERROR:var n=l.getStatus();a('RPC "'+e+'" failed with status:',n,"response text:",l.getResponseText()),n>0?c(new Ke($(n),"Server responded with status "+l.getStatusText())):(a(Dn,'RPC "'+e+'" failed, retrying.'),c(new Ke(Ge.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+e+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{o(Dn,'RPC "'+e+'" completed.'),r.pool.releaseObject(l)}});var d=JSON.stringify(t);o(Dn,"XHR sending: ",i+" "+d);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),l.send(i,"POST",d,h,15)})})},e.prototype.openStream=function(t,n){var r=e.RPC_STREAM_SERVICE_MAPPING[t],i=e.RPC_STREAM_NAME_MAPPING[t];r&&i||u("Unknown RPC name: "+t);var a=[this.baseUrl,"/",r,"/",i,"/channel"],s=Object(Cn.createWebChannelTransport)(),l={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(l.initMessageHeaders,n);var d=a.join("");o(Dn,"Creating WebChannel: "+d+" "+l);var h=s.createWebChannel(d,l),p=!1,f=!1,m=new En({sendFn:function(e){f?o(Dn,"Not sending because WebChannel is closed:",e):(p||(o(Dn,"Opening WebChannel transport."),h.open(),p=!0),o(Dn,"WebChannel sending:",e),h.send(e))},closeFn:function(){return h.close()}}),g=function(e,t){h.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return g(Cn.WebChannel.EventType.OPEN,function(){f||o(Dn,"WebChannel transport opened.")}),g(Cn.WebChannel.EventType.CLOSE,function(){f||(f=!0,o(Dn,"WebChannel transport closed"),m.callOnClose())}),g(Cn.WebChannel.EventType.ERROR,function(e){f||(f=!0,o(Dn,"WebChannel transport errored:",e),m.callOnClose(new Ke(Ge.UNAVAILABLE,"The operation could not be completed")))}),g(Cn.WebChannel.EventType.MESSAGE,function(e){if(!f){var t=e.data[0];c(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){o(Dn,"WebChannel received error:",n);var r=n.status,i=z(r),a=n.message;void 0===i&&(i=Ge.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),f=!0,m.callOnClose(new Ke(i,a)),h.close()}else o(Dn,"WebChannel received:",t),m.callOnMessage(t)}}),setTimeout(function(){m.callOnOpen()},0),m},e.prototype.makeUrl=function(e){var t=[this.baseUrl,"/","v1beta1"];return t.push("/projects/"),t.push(this.databaseId.projectId),t.push("/databases/"),t.push(this.databaseId.database),t.push("/documents"),t.push(":"),t.push(e),t.join("")},e.RPC_STREAM_SERVICE_MAPPING={Write:"google.firestore.v1beta1.Firestore",Listen:"google.firestore.v1beta1.Firestore"},e.RPC_STREAM_NAME_MAPPING={Write:"Write",Listen:"Listen"},e}(),xn=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return e.prototype.loadConnection=function(e){return Promise.resolve(new An(e))},e.prototype.newSerializer=function(e){return new kn(e,{useProto3Json:!0})},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();We.setPlatform(new xn);var On,Nn=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];w("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(M("FieldPath","string",n,e[n]),0===e[n].length)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t=new ot(e)}return e.documentId=function(){return e.d},e.d=new e(ot.keyField().canonicalString()),e}(),Pn=RegExp("[~\\*/\\[\\]]");!function(e){e[e.Unknown=0]="Unknown",e[e.Healthy=1]="Healthy",e[e.Failed=2]="Failed"}(On=On||(On={}));var Rn;!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Rn=Rn||(Rn={}));var Yn;!function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Yn=Yn||(Yn={}));var Fn,jn=function(){function e(){this.changeMap=new ct(at.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Rn.Added&&n.type===Rn.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Rn.Metadata&&n.type!==Rn.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Rn.Modified&&n.type===Rn.Modified?this.changeMap=this.changeMap.insert(t,{type:Rn.Modified,doc:e.doc}):e.type===Rn.Modified&&n.type===Rn.Added?this.changeMap=this.changeMap.insert(t,{type:Rn.Added,doc:e.doc}):e.type===Rn.Removed&&n.type===Rn.Added?this.changeMap=this.changeMap.remove(t):e.type===Rn.Removed&&n.type===Rn.Modified?this.changeMap=this.changeMap.insert(t,{type:Rn.Removed,doc:n.doc}):e.type===Rn.Added&&n.type===Rn.Removed?this.changeMap=this.changeMap.insert(t,{type:Rn.Modified,doc:e.doc}):u("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Bn=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||at.comparator(t.key,n.key)}:function(e,t){return at.comparator(e.key,t.key)},this.keyedMap=Z(),this.sortedSet=new ct(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.prevDoc=function(e){c(this.has(e),"Trying to get a previous document to non-existing key: "+e);var t=this.keyedMap.get(e);return this.sortedSet.getPredecessorKey(t)},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.equals=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.equals(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(""+t)}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Hn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.equals(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].equals(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){m(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return g(this.inner)},e}(),Un=function(){function e(){this.listeners=[]}return e}(),Vn=function(){function e(e){this.syncEngine=e,this.queries=new Hn(function(e){return e.canonicalId()}),this.onlineState=On.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Un,this.queries.set(t,r)),r.listeners.push(e),e.onOnlineStateChanged(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){var t=e.query,n=!1,r=this.queries.get(t);if(r){var i=r.listeners.indexOf(e);i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)}return n?(this.queries.delete(t),this.syncEngine.unlisten(t)):Promise.resolve()},e.prototype.onChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++)s[a].onViewSnapshot(r);o.viewSnap=r}}},e.prototype.onError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChanged=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].onOnlineStateChanged(e)})},e}(),Wn=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=On.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(c(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Rn.Metadata&&t.push(i)}e={query:e.query,docs:e.docs,oldDocs:e.oldDocs,docChanges:t,fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:e.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.onOnlineStateChanged=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==On.Failed;return this.options.waitForSyncWhenOnline&&n?(c(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===On.Failed},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeQueryMetadataChanges},e.prototype.raiseInitialEvent=function(t){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t={query:t.query,docs:t.docs,oldDocs:Bn.emptySet(t.docs),docChanges:e.getInitialViewChanges(t),fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(t)},e.getInitialViewChanges=function(e){var t=[];return e.docs.forEach(function(e){t.push({type:Rn.Added,doc:e})}),t},e}(),qn=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return t.reduce(function(e,t,n){return e.next(function(){return t})},e.resolve())},e.map=function(t){var n=[],r=!0,i=e.resolve(null);return t.reduce(function(e,t){return e.next(function(e){return r||n.push(e),r=!1,t})},i).next(function(e){return n.push(e),n})},e}(),Gn=function(){function e(){this.isEager=!0,this.sources=[],this.potentialGarbage=te()}return e.prototype.addGarbageSource=function(e){this.sources.push(e),e.setGarbageCollector(this)},e.prototype.removeGarbageSource=function(e){this.sources.splice(this.sources.indexOf(e),1),e.setGarbageCollector(null)},e.prototype.addPotentialGarbageKey=function(e){this.potentialGarbage=this.potentialGarbage.add(e)},e.prototype.collectGarbage=function(e){var t=this,n=[],r=te();return this.potentialGarbage.forEach(function(i){var o=t.documentHasAnyReferences(e,i);n.push(o.next(function(e){return e||(r=r.add(i)),qn.resolve()}))}),this.potentialGarbage=te(),qn.waitFor(n).next(function(){return r})},e.prototype.documentHasAnyReferences=function(e,t){var n=qn.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(e,t)}}).reduce(function(e,t){return e.next(function(e){return e?qn.resolve(!0):t()})},n)},e}(),Kn=function(){function e(e,t,n){this.query=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t){for(var n=te(),r=te(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case Rn.Added:n=n.add(a.doc.key);break;case Rn.Removed:r=r.add(a.doc.key)}}return new e(t.query,n,r)},e}(),zn=function(){function e(){this.refsByKey=new ln(Qn.compareByKey),this.refsByTarget=new ln(Qn.compareByTargetId),this.garbageCollector=null}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Qn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new Qn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=at.EMPTY,r=new Qn(n,e),i=new Qn(n,e+1);this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e)})},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(e.key)},e.prototype.referencesForId=function(e){var t=at.EMPTY,n=new Qn(t,e),r=new Qn(t,e+1),i=te();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new Qn(t,0),r=this.refsByKey.firstAfterOrEqual(n);return qn.resolve(null!==r&&t.equals(r.key))},e}(),Qn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return at.comparator(e.key,t.key)||P(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return P(e.targetOrBatchId,t.targetOrBatchId)||at.comparator(e.key,t.key)},e}(),Jn=1;!function(e){e[e.LocalStore=0]="LocalStore",e[e.SyncEngine=1]="SyncEngine"}(Fn||(Fn={}));var $n,Xn=function(){function e(e,t){void 0===t&&(t=0),this.generatorId=e;var n=t>>Jn<<Jn,r=t-n;this.previousId=r>=e?n|this.generatorId:(n|this.generatorId)-(1<<Jn)}return e.prototype.next=function(){return this.previousId+=1<<Jn,this.previousId},e.forLocalStore=function(t){return void 0===t&&(t=0),new e(Fn.LocalStore,t)},e.forSyncEngine=function(){return new e(Fn.SyncEngine)},e}(),Zn=function(){function e(e){this.key=e}return e}(),er=function(){function e(e){this.key=e}return e}(),tr=function(){function e(e,t){this.query=e,this.syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=te(),this.mutatedKeys=te(),this.documentSet=new Bn(e.docComparator.bind(e))}return e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new jn,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),d=t instanceof st?t:null;if(d&&(c(e.equals(d.key),"Mismatching keys found in document changes: "+e+" != "+d.key),d=n.query.matches(d)?d:null),d?(a=a.add(d),o=d.hasLocalMutations?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)),l&&d){var h=l.data.equals(d.data);h&&l.hasLocalMutations===d.hasLocalMutations||(h?r.track({type:Rn.Metadata,doc:d}):r.track({type:Rn.Modified,doc:d}),u&&n.query.docComparator(d,u)>0&&(s=!0))}else!l&&d?r.track({type:Rn.Added,doc:d}):l&&!d&&(r.track({type:Rn.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:Rn.Removed,doc:l})}return c(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.applyChanges=function(e,t){var n=this;c(!e.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort(function(e,t){return se(e.type,t.type)||n.query.docComparator(e.doc,t.doc)});var o=this.applyTargetChange(t),a=0===this.limboDocuments.size&&this.current?Yn.Synced:Yn.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:{query:this.query,docs:e.documentSet,oldDocs:r,docChanges:i,fromCache:a===Yn.Local,syncStateChanged:s,hasPendingWrites:!e.mutatedKeys.isEmpty()},limboChanges:o}:{limboChanges:o}},e.prototype.shouldBeInLimbo=function(e){return!this.syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;if(e){var n=e.mapping;switch(n instanceof vn?this.syncedDocuments=n.documents:n instanceof _n&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),e.currentStatusUpdate){case cn.MarkCurrent:this.current=!0;break;case cn.MarkNotCurrent:this.current=!1;break;case cn.None:break;default:u("Unknown current status update: "+e.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=te(),this.current&&this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var i=[];return r.forEach(function(e){t.limboDocuments.has(e)||i.push(new er(e))}),this.limboDocuments.forEach(function(e){r.has(e)||i.push(new Zn(e))}),i},e}(),nr=function(){function e(e,t,n,r){this.query=e,this.targetId=t,this.resumeToken=n,this.view=r}return e}(),rr=function(){function e(e,t,n){this.localStore=e,this.remoteStore=t,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new Hn(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ct(at.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new zn,this.limboCollector=new Gn,this.mutationUserCallbacks={},this.targetIdGenerator=Xn.forSyncEngine()}return e.prototype.subscribe=function(e,t){c(null!==e&&null!==t,"View and error handlers cannot be null"),c(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=e,this.errorHandler=t,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},e.prototype.listen=function(e){var t=this;return this.assertSubscribed("listen()"),c(!this.queryViewsByQuery.has(e),"We already listen to the query: "+e),this.localStore.allocateQuery(e).then(function(n){return t.localStore.executeQuery(e).then(function(r){return t.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new tr(e,i),a=o.computeDocChanges(r),s=o.applyChanges(a);c(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new nr(e,n.targetId,n.resumeToken,o);t.queryViewsByQuery.set(e,u),t.queryViewsByTarget[n.targetId]=u,t.viewHandler([s.snapshot]),t.remoteStore.listen(n)})}).then(function(){return n.targetId})})},e.prototype.unlisten=function(e){var t=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(e);return c(!!n,"Trying to unlisten on query not found:"+e),this.localStore.releaseQuery(e).then(function(){return t.remoteStore.unlisten(n.targetId),t.removeAndCleanupQuery(n).then(function(){return t.localStore.collectGarbage()})})},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then(function(e){return n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),c(t>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!W(t)&&t.catch&&t.then?t.catch(function(e){return Promise.reject(n.wrapUpdateFunctionError(e))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(e){return Promise.reject(n.wrapUpdateFunctionError(e))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)})})},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),f(e.targetChanges,function(n,r){var i=t.limboKeysByTarget[n];i&&r.currentStatusUpdate===cn.MarkCurrent&&!e.documentUpdates.get(i)&&e.addDocumentUpdate(new ut(i,e.snapshotVersion))}),this.localStore.applyRemoteEvent(e).then(function(n){return t.emitNewSnapsAndNotifyLocalStore(n,e)})},e.prototype.rejectListen=function(e,t){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[e];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[e];var i=new ct(at.comparator);i=i.insert(r,new ut(r,Gt.forDeletedDoc()));var o=new mn(Gt.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[e];return c(!!a,"Unknown targetId: "+e),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,t)})})},e.prototype.applySuccessfulWrite=function(e){var t=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e.batch.batchId,null),this.localStore.acknowledgeBatch(e).then(function(e){return t.emitNewSnapsAndNotifyLocalStore(e)})},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then(function(e){return n.emitNewSnapsAndNotifyLocalStore(e)})},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ct(P)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(c(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){return this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.limboDocumentRefs.removeReferencesForId(e.targetId),this.gcLimboDocuments()},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof Zn?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof er?(o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e)):u("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){o("SyncEngine","New document in limbo: "+t);var n=this.targetIdGenerator.next(),r=Nt.atPath(t.path);this.limboKeysByTarget[n]=t,this.remoteStore.listen(new zt(r,n,mt.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.gcLimboDocuments=function(){var e=this;return this.limboCollector.collectGarbage(null).next(function(t){t.forEach(function(t){var n=e.limboTargetsByKey.get(t);null!==n&&(e.remoteStore.unlisten(n),e.limboTargetsByKey=e.limboTargetsByKey.remove(t),delete e.limboKeysByTarget[n])})}).toPromise()},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?n.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var o=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,o);return n.updateTrackedLimbos(s.targetId,a.limboChanges).then(function(){if(a.snapshot){r.push(a.snapshot);var e=Kn.fromSnapshot(a.snapshot);i.push(e)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},e.prototype.assertSubscribed=function(e){c(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleUserChange=function(e){var t=this;return this.currentUser=e,this.localStore.handleUserChange(e).then(function(e){return t.emitNewSnapsAndNotifyLocalStore(e)}).then(function(){return t.remoteStore.handleUserChange(e)})},e}(),ir=-1,or=function(){function e(e,t,n){this.batchId=e,this.localWriteTime=t,this.mutations=n}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&c(t.key.equals(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.equals(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&c(t.key.equals(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(e)&&(t=r.applyToLocalView(t,this.localWriteTime))}return t},e.prototype.keys=function(){for(var e=te(),t=0,n=this.mutations;t<n.length;t++){var r=n[t];e=e.add(r.key)}return e},e.prototype.equals=function(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations)},e.prototype.isTombstone=function(){return 0===this.mutations.length},e.prototype.toTombstone=function(){return new e(this.batchId,this.localWriteTime,[])},e}(),ar=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){c(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=ee(),a=t.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new e(t,n,r,i,o)},e}(),sr="",ur="",cr="",lr="",dr=function(){function e(e,t){this.seconds=e,this.nanos=t}return e}(),hr=function(){function e(e,t){this.ownerId=e,this.leaseTimestampMs=t}return e.store="owner",e}(),pr=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),fr=function(){function e(e,t,n,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.mutations=r}return e.store="mutations",e.keyPath=["userId","batchId"],e}(),mr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ue(t)]},e.key=function(e,t,n){return[e,ue(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),gr=function(){function e(e,t){this.path=e,this.readTime=t}return e}(),yr=function(){function e(e,t){this.noDocument=e,this.document=t}return e.store="remoteDocuments",e}(),vr=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),_r=function(){function e(e,t){this.targetId=e,this.path=t}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),br=function(){function e(e,t,n){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),wr=[pr.store,fr.store,mr.store,yr.store,vr.store,hr.store,br.store,_r.store],Mr=function(){function e(e){this.db=e}return e.openOrCreate=function(t,n,r){return c(e.isAvailable(),"IndexedDB not supported in current environment."),o("SimpleDb","Opening database:",t),new qn(function(i,a){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onerror=function(e){a(e.target.error)},s.onupgradeneeded=function(e){o("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r(n,e.oldVersion)}}).toPromise()},e.delete=function(e){return o("SimpleDb","Removing database:",e),pe(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var e=window.navigator.userAgent;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)},e.prototype.runTransaction=function(e,t,n){var r=new Sr(this.db,e,t),i=n(r).catch(function(e){return r.abort(),qn.reject(e)}).toPromise();return r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),Tr=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return pe(this.dbCursor.delete())},e}(),Sr=function(){function e(e,t,n){var r=this;this.aborted=!1,this.transaction=e.transaction(n,t),this.completionPromise=new Promise(function(e,t){r.transaction.onabort=r.transaction.oncomplete=function(t){e()},r.transaction.onerror=function(e){t(e.target.error)}})}return e.prototype.abort=function(){this.aborted||(o("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return c(!!t,"Object store not part of transaction: "+e),new Lr(t)},e}(),Lr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(o("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(o("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pe(n)},e.prototype.get=function(e){var t=this;return pe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),o("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return o("SimpleDb","DELETE",this.store.name,e),pe(this.store.delete(e))},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){o("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateCursor=function(e,t){var n=[];return new qn(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Tr(i),a=t(i.primaryKey,i.value,o);a instanceof qn&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return qn.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(c(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),kr=function(){function e(e,t){this.userId=e,this.serializer=t,this.garbageCollector=null}return e.forUser=function(t,n){return c(""!==t.uid,"UserID must not be an empty string."),new e(t.isUnauthenticated()?"":t.uid,n)},e.prototype.start=function(t){var n=this;return e.loadNextBatchIdFromDb(t).next(function(e){return n.nextBatchId=e,ye(t).get(n.userId)}).next(function(e){return e||(e=new pr(n.userId,ir,"")),n.metadata=e,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(t).next(function(e){return c(e,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=ir,ye(t).put(n.metadata)}):qn.resolve()})},e.loadNextBatchIdFromDb=function(e){var t=ir;return me(e).iterate({reverse:!0},function(e,n,r){var i=e[0];if(e[1]>t&&(t=n.batchId),""===i)r.done();else{var o=F(i);r.skip([o])}}).next(function(){return t+1})},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return me(e).iterate({range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.getNextBatchId=function(e){return qn.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(e){return qn.resolve(this.metadata.lastAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId;return c(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=fe(n),ye(e).put(this.metadata)},e.prototype.getLastStreamToken=function(e){return qn.resolve(this.metadata.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.metadata.lastStreamToken=fe(t),ye(e).put(this.metadata)},e.prototype.addMutationBatch=function(e,t,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new or(i,t,n),a=this.serializer.toDbMutationBatch(this.userId,o);return me(e).put(a).next(function(){for(var t=[],o=0,a=n;o<a.length;o++){var s=a[o],u=(ue(s.key.path),mr.key(r.userId,s.key.path,i));ge(e).put(u,mr.PLACEHOLDER)}return qn.waitFor(t)}).next(function(){return o})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return me(e).get(this.keyForBatchId(t)).next(function(e){return e?n.serializer.fromDbMutationBatch(e):null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(t+1)),i=null;return me(e).iterate({range:r},function(e,r,o){r.userId===n.userId&&(c(r.batchId>t,"Should have found mutation after "+t),i=n.serializer.fromDbMutationBatch(r)),o.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound(this.keyForBatchId(ir),this.keyForBatchId(Number.POSITIVE_INFINITY));return me(e).loadAll(n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(ir),this.keyForBatchId(t));return me(e).loadAll(r).next(function(e){return e.map(function(e){return n.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=mr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ge(e).iterate({range:i},function(r,i,a){var s=r[0],c=r[1],l=r[2],d=de(c);if(s===n.userId&&t.path.equals(d)){var h=n.keyForBatchId(l);return me(e).get(h).next(function(e){null===e&&u("Dangling document-mutation reference found: "+r+" which points to "+h),o.push(n.serializer.fromDbMutationBatch(e))})}a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;c(!t.isDocumentQuery(),"Document queries shouldn't go down this path");var r=t.path,i=r.length+1,o=mr.prefixForPath(this.userId,r),a=(o[1],IDBKeyRange.lowerBound(o)),s=new ln(P);return ge(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=de(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){var t=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(me(e).get(o).next(function(e){null===e&&u("Dangling document-mutation reference found, which points to "+o),t.push(n.serializer.fromDbMutationBatch(e))}))}),qn.waitFor(r).next(function(){return t})})},e.prototype.removeMutationBatches=function(e,t){for(var n=me(e),r=ge(e),i=[],o=this,a=0,s=t;a<s.length;a++){!function(e){var t=IDBKeyRange.only(o.keyForBatchId(e.batchId)),a=0,s=n.iterate({range:t},function(e,t,n){return a++,n.delete()});i.push(s.next(function(){c(1===a,"Dangling document-mutation reference found: Missing batch "+e.batchId)}));for(var u=0,l=e.mutations;u<l.length;u++){var d=l[u],h=mr.key(o.userId,d.key.path,e.batchId);i.push(r.delete(h)),null!==o.garbageCollector&&o.garbageCollector.addPotentialGarbageKey(d.key)}}(s[a])}return qn.waitFor(i)},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return qn.resolve();var r=IDBKeyRange.lowerBound(mr.prefixForUser(t.userId)),i=[];return ge(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var o=de(e[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=this,r=mr.prefixForPath(this.userId,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ge(e).iterate({range:o,keysOnly:!0},function(e,t,r){var o=e[0],s=e[1];e[2],o===n.userId&&s===i&&(a=!0),r.done()}).next(function(){return a})},e.prototype.keyForBatchId=function(e){return[this.userId,e]},e}(),Cr=function(){function e(e){this.serializer=e,this.lastRemoteSnapshotVersion=Gt.MIN,this.metadata=new br(0,0,Gt.MIN.toTimestamp()),this.garbageCollector=null}return e.prototype.start=function(e){var t=this;return be(e).get(br.key).next(function(e){if(null!==e){t.metadata=e;var n=e.lastRemoteSnapshotVersion;t.lastRemoteSnapshotVersion=Gt.fromTimestamp(new qt(n.seconds,n.nanos))}return qn.resolve()})},e.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,this.metadata.lastRemoteSnapshotVersion=t.toTimestamp(),be(e).put(br.key,this.metadata)},e.prototype.addQueryData=function(e,t){var n=this,r=t.targetId,i=_e(e).put(this.serializer.toDbTarget(t));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,i.next(function(){return be(e).put(br.key,n.metadata)})):i},e.prototype.removeQueryData=function(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){_e(e).delete(t.targetId)})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return _e(e).iterate({range:i,index:vr.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.equals(a.query)&&(o=a,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=[],i=we(e);return t.forEach(function(e){var t=ue(e.path);r.push(i.put(new _r(n,t)))}),qn.waitFor(r)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=[],o=we(e);return t.forEach(function(e){var t=ue(e.path);i.push(o.delete([n,t])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(e)}),qn.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=we(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return this.notifyGCForRemovedKeys(e,r).next(function(){return n.delete(r)})},e.prototype.notifyGCForRemovedKeys=function(e,t){var n=this,r=we(e);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:t,keysOnly:!0},function(e,t,r){var i=de(e[1]),o=new at(i);c(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):qn.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=we(e),i=te();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=de(e[1]),o=new at(r);i=i.add(o)}).next(function(){return i})},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){c(null!==e,"Persistence Transaction cannot be null for query cache containsKey");var n=ue(t.path),r=IDBKeyRange.bound([n],[j(n)],!1,!0),i=0;return we(e).iterate({index:_r.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){i++,n.done()}).next(function(){return i>0})},e}(),Er=function(){function e(e){this.serializer=e}return e.prototype.addEntry=function(e,t){return Te(e).put(Se(t.key),this.serializer.toDbRemoteDocument(t))},e.prototype.removeEntry=function(e,t){return Te(e).delete(Se(t))},e.prototype.getEntry=function(e,t){var n=this;return Te(e).get(Se(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this,r=Z(),i=t.path.toArray(),o=IDBKeyRange.lowerBound(i);return Te(e).iterate({range:o},function(e,i,o){var a=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(a.key.path)?a instanceof st&&t.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},e}(),Dr=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document);if(e.noDocument){var t=at.fromSegments(e.noDocument.path),n=e.noDocument.readTime,r=new qt(n.seconds,n.nanos);return new ut(t,Gt.fromTimestamp(r))}return u("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof st){var t=this.remoteSerializer.toDocument(e);return new yr(null,t)}var n=e.key.path.toArray(),r=e.version.toTimestamp(),i=new dr(r.seconds,r.nanos);return new yr(new gr(n,i),null)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new fr(e,t.batchId,t.localWriteTime.toEpochMilliseconds(),r)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),r=qt.fromEpochMilliseconds(e.localWriteTimeMs);return new or(e.batchId,r,n)},e.prototype.fromDbTarget=function(e){var t,n=new qt(e.readTime.seconds,e.readTime.nanos),r=Gt.fromTimestamp(n);return t=Le(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new zt(t,e.targetId,mt.Listen,r,e.resumeToken)},e.prototype.toDbTarget=function(e){c(mt.Listen===e.purpose,"Only queries with purpose "+mt.Listen+" may be stored, got "+e.purpose);var t,n=e.snapshotVersion.toTimestamp(),r=new dr(n.seconds,n.nanos);t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),c("string"==typeof e.resumeToken,"Persisting non-string resume token not supported.");var i=e.resumeToken;return new vr(e.targetId,e.query.canonicalId(),r,i,0,t)},e}(),Ir="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",Ar=function(){function e(t,n){this.ownerId=this.generateOwnerId(),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Dr(n),this.localStoragePrefix=t}return e.prototype.start=function(){var t=this;return e.isAvailable()?(c(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Mr.openOrCreate(this.dbName,1,he).then(function(e){t.simpleDb=e}).then(function(){return t.tryAcquireOwnerLease()}).then(function(){t.scheduleOwnerLeaseRefreshes(),t.attachWindowUnloadHook()})):(this.persistenceError=new Ke(Ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},e.prototype.shutdown=function(){var e=this;return c(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){e.simpleDb.close()})},e.prototype.getMutationQueue=function(e){return kr.forUser(e,this.serializer)},e.prototype.getQueryCache=function(){return new Cr(this.serializer)},e.prototype.getRemoteDocumentCache=function(){return new Er(this.serializer)},e.prototype.runTransaction=function(e,t){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(o("IndexedDbPersistence","Starting transaction:",e),this.simpleDb.runTransaction("readwrite",wr,function(e){return n.ensureOwnerLease(e).next(function(){return t(e)})}))},e.isAvailable=function(){return Mr.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.tryAcquireOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[hr.store],function(t){var n=t.store(hr.store);return n.get("owner").next(function(t){if(e.validOwner(t))return o("IndexedDbPersistence","Valid owner already. Failing. Current owner:",t),e.persistenceError=new Ke(Ge.FAILED_PRECONDITION,Ir),qn.reject(e.persistenceError);var r=new hr(e.ownerId,Date.now());return o("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",t,"New owner:",r),n.put("owner",r)})})},e.prototype.releaseOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[hr.store],function(t){var n=t.store(hr.store);return n.get("owner").next(function(t){return null!==t&&t.ownerId===e.ownerId?(o("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):qn.resolve()})})},e.prototype.ensureOwnerLease=function(e){var t=this;return e.store(hr.store).get("owner").next(function(e){return null===e||e.ownerId!==t.ownerId?(t.persistenceError=new Ke(Ge.FAILED_PRECONDITION,Ir),qn.reject(t.persistenceError)):qn.resolve()})},e.prototype.validOwner=function(e){var t=Date.now(),n=t-5e3,r=t;return!(null===e||e.leaseTimestampMs<n||(e.leaseTimestampMs>r?(a("Persistence owner-lease is in the future. Discarding.",e),1):e.ownerId===this.getZombiedOwnerId()))},e.prototype.scheduleOwnerLeaseRefreshes=function(){var e=this;this.ownerLeaseRefreshHandle=setInterval(function(){e.runTransaction("Refresh owner timestamp",function(t){return t.store(hr.store).put("owner",new hr(e.ownerId,Date.now()))}).catch(function(t){a(t),e.stopOwnerLeaseRefreshes()})},4e3)},e.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;this.windowUnloadHandler=function(){e.setZombiedOwnerId(e.ownerId),e.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.getZombiedOwnerId=function(){try{var e=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return o("IndexedDbPersistence","Zombied ownerID from LocalStorage:",e),e}catch(e){return a("IndexedDbPersistence","Failed to get zombie owner id.",e),null}},e.prototype.setZombiedOwnerId=function(e){try{null===e?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),e)}catch(e){a("IndexedDbPersistence","Failed to set zombie owner id.",e)}},e.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},e.prototype.generateOwnerId=function(){return ze.newId()},e.MAIN_DATABASE="main",e}(),xr=function(){function e(e,t){this.remoteDocumentCache=e,this.mutationQueue=t}return e.prototype.getDocument=function(e,t){var n=this;return this.remoteDocumentCache.getEntry(e,t).next(function(r){return n.computeLocalDocument(e,t,r)})},e.prototype.getDocuments=function(e,t){var n=this,r=[],i=X();return t.forEach(function(t){r.push(n.getDocument(e,t).next(function(e){e||(e=new ut(t,Gt.forDeletedDoc())),i=i.insert(t,e)}))}),qn.waitFor(r).next(function(){return i})},e.prototype.getDocumentsMatchingQuery=function(e,t){return at.isDocumentKey(t.path)?this.getDocumentsMatchingDocumentQuery(e,t.path):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new at(t)).next(function(e){var t=Z();return e instanceof st&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(t){return r.computeLocalDocuments(e,t)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){for(var i=te(),o=0,a=t;o<a.length;o++)for(var s=a[o],u=0,c=s.mutations;u<c.length;u++){var l=c[u];n.get(l.key)||(i=i.add(l.key))}var d=[];return i.forEach(function(t){d.push(r.getDocument(e,t).next(function(e){e instanceof st&&(n=n.insert(e.key,e))}))}),qn.waitFor(d)}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e.prototype.computeLocalDocument=function(e,t,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];n=o.applyToLocalView(t,n)}return n})},e.prototype.computeLocalDocuments=function(e,t){var n=this,r=[];return t.forEach(function(i,o){r.push(n.computeLocalDocument(e,i,o).next(function(e){e instanceof st?t=t.insert(e.key,e):e instanceof ut?t=t.remove(e.key):u("Unknown MaybeDocument: "+e)}))}),qn.waitFor(r).next(function(){return t})},e}(),Or=function(){function e(e){this.remoteDocumentCache=e,this.changes=X()}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this.assertChanges().get(t);return n?qn.resolve(n):this.remoteDocumentCache.getEntry(e,t)},e.prototype.apply=function(e){var t=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(t.remoteDocumentCache.addEntry(e,i))}),this.changes=null,qn.waitFor(n)},e.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Nr=function(){function e(e,t,n){this.persistence=e,this.garbageCollector=n,this.localViewReferences=new zn,this.targetIds={},this.targetIdGenerator=Xn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new xr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return e.prototype.start=function(){var e=this;return this.persistence.runTransaction("Start LocalStore",function(t){return e.startMutationQueue(t).next(function(){return e.startQueryCache(t)})})},e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.garbageCollector.removeGarbageSource(t.mutationQueue),t.mutationQueue=t.persistence.getMutationQueue(e),t.garbageCollector.addGarbageSource(t.mutationQueue),t.startMutationQueue(n)}).next(function(){return t.localDocuments=new xr(t.remoteDocuments,t.mutationQueue),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=te(),o=0,a=[r,e];o<a.length;o++)for(var s=a[o],u=0,c=s;u<c.length;u++)for(var l=c[u],d=0,h=l.mutations;d<h.length;d++){var p=h[d];i=i.add(p.key)}return t.localDocuments.getDocuments(n,i)})})},e.prototype.startQueryCache=function(e){var t=this;return this.queryCache.start(e).next(function(){var e=t.queryCache.getHighestTargetId();t.targetIdGenerator=Xn.forLocalStore(e)})},e.prototype.startMutationQueue=function(e){var t=this;return this.mutationQueue.start(e).next(function(){return t.heldBatchResults=[],t.mutationQueue.getHighestAcknowledgedBatchId(e)}).next(function(n){return n!==ir?t.mutationQueue.getAllMutationBatchesThroughBatchId(e,n):qn.resolve([])}).next(function(n){return n.length>0?t.mutationQueue.removeMutationBatches(e,n):qn.resolve()})},e.prototype.localWrite=function(e){var t=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=qt.now();return t.mutationQueue.addMutationBatch(n,i,e).next(function(e){var i=(r=e).keys();return t.localDocuments.getDocuments(n,i)}).next(function(e){return{batchId:r.batchId,changes:e}})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){if(t.shouldHoldBatchResult(e.commitVersion))return t.heldBatchResults.push(e),r=te(),qn.resolve();var i=new Or(t.remoteDocuments);return t.releaseBatchResults(n,[e],i).next(function(e){return r=e,i.apply(n)})}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return t.mutationQueue.lookupMutationBatch(n,e).next(function(i){return c(null!=i,"Attempt to reject nonexistent batch!"),r=i,t.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(t){return c(e>t,"Acknowledged batches can't be rejected."),r})}).next(function(){return t.removeMutationBatch(n,r)}).next(function(e){return i=e,t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,i)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},e.prototype.applyRemoteEvent=function(e){var t=this,n=new Or(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];f(e.targetChanges,function(e,n){var o=t.targetIds[e];if(o){var a=n.mapping;if(a)if(a instanceof vn)i.push(t.queryCache.removeMatchingKeysForTargetId(r,e).next(function(){return t.queryCache.addMatchingKeys(r,a.documents,e)}));else{if(!(a instanceof _n))return u("Unknown mapping type: "+JSON.stringify(a));i.push(t.queryCache.removeMatchingKeys(r,a.removedDocuments,e).next(function(){return t.queryCache.addMatchingKeys(r,a.addedDocuments,e)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),t.targetIds[e]=o,i.push(t.queryCache.addQueryData(r,o)))}});var a=te();e.documentUpdates.forEach(function(e,s){a=a.add(e),i.push(n.getEntry(r,e).next(function(r){null==r||s.version.equals(Gt.MIN)||s.version.compareTo(r.version)>=0?n.addEntry(s):o("LocalStore","Ignoring outdated watch update for ",e,". Current version:",r.version," Watch version:",s.version),t.garbageCollector.addPotentialGarbageKey(e)}))});var s=t.queryCache.getLastRemoteSnapshotVersion(),l=e.snapshotVersion;l.equals(Gt.MIN)||(c(l.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+s),i.push(t.queryCache.setLastRemoteSnapshotVersion(r,l)));var d;return qn.waitFor(i).next(function(){return t.releaseHeldBatchResults(r,n)}).next(function(e){return d=e,n.apply(r)}).next(function(){return t.localDocuments.getDocuments(r,a.unionWith(d))})})},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=0,o=e;i<o.length;i++){!function(e){r.push(t.queryCache.getQueryData(n,e.query).next(function(n){c(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;t.localViewReferences.addReferences(e.addedKeys,r),t.localViewReferences.removeReferences(e.removedKeys,r)}))}(o[i])}return qn.waitFor(r)})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===e&&(e=ir),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){if(i)return r=i,qn.resolve();var o=t.targetIdGenerator.next();return r=new zt(e,o,mt.Listen),t.queryCache.addQueryData(n,r)}).next(function(){return c(!t.targetIds[r.targetId],"Tried to allocate an already allocated query: "+e),t.targetIds[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e){var t=this;return this.persistence.runTransaction("Release query",function(n){return t.queryCache.getQueryData(n,e).next(function(r){return c(null!=r,"Tried to release nonexistent query: "+e),t.localViewReferences.removeReferencesForId(r.targetId),delete t.targetIds[r.targetId],t.garbageCollector.isEager?t.queryCache.removeQueryData(n,r):qn.resolve()}).next(function(){if(g(t.targetIds)){var e=new Or(t.remoteDocuments);return t.releaseHeldBatchResults(n,e).next(function(){e.apply(n)})}return qn.resolve()})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.collectGarbage=function(){var e=this;return this.persistence.runTransaction("Garbage collection",function(t){return e.garbageCollector.collectGarbage(t).next(function(n){var r=[];return n.forEach(function(n){r.push(e.remoteDocuments.removeEntry(t,n))}),qn.waitFor(r)})})},e.prototype.releaseHeldBatchResults=function(e,t){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?qn.resolve(te()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(e,n,t))},e.prototype.isRemoteUpToVersion=function(e){var t=this.queryCache.getLastRemoteSnapshotVersion();return e.compareTo(t)<=0||g(this.targetIds)},e.prototype.shouldHoldBatchResult=function(e){return!this.isRemoteUpToVersion(e)||this.heldBatchResults.length>0},e.prototype.releaseBatchResults=function(e,t,n){for(var r=this,i=qn.resolve(),o=0,a=t;o<a.length;o++){!function(t){i=i.next(function(){return r.applyWriteToRemoteDocuments(e,t,n)})}(a[o])}return i.next(function(){return r.removeMutationBatches(e,t.map(function(e){return e.batch}))})},e.prototype.removeMutationBatch=function(e,t){return this.removeMutationBatches(e,[t])},e.prototype.removeMutationBatches=function(e,t){for(var n=te(),r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a].key;n=n.add(u)}return this.mutationQueue.removeMutationBatches(e,t).next(function(){return n})},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=t.batch,i=r.keys(),o=qn.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(e,i)}).next(function(e){var o=e,a=t.docVersions.get(i);c(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,t))?n.addEntry(o):c(!e,"Mutation batch "+r+" applied to document "+e+" resulted in null"))})}),o},e}(),Pr=function(){function e(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=ir,this.lastStreamToken=l(),this.garbageCollector=null,this.batchesByDocumentKey=new ln(Qn.compareByKey)}return e.prototype.start=function(e){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=ir),c(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),qn.resolve()},e.prototype.checkEmpty=function(e){return qn.resolve(0===this.mutationQueue.length)},e.prototype.getNextBatchId=function(e){return qn.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(e){return qn.resolve(this.highestAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId;c(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return c(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),c(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,qn.resolve()},e.prototype.getLastStreamToken=function(e){return qn.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,qn.resolve()},e.prototype.addMutationBatch=function(e,t,n){c(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&c(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new or(r,t,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Qn(s.key,r))}return qn.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return qn.resolve(this.findMutationBatch(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.mutationQueue.length;t=Math.max(t+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(t),i=r<0?0:r;i<n;i++){var o=this.mutationQueue[i];if(!o.isTombstone())return qn.resolve(o)}return qn.resolve(null)},e.prototype.getAllMutationBatches=function(e){return qn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this.mutationQueue.length,r=this.indexOfBatchId(t);return r<0?r=0:r>=n?r=n:r++,qn.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Qn(t,0),i=new Qn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){c(t.equals(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),qn.resolve(o)},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=r;at.isDocumentKey(o)||(o=o.child(""));var a=new Qn(new at(o),0),s=new ln(P);this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===i&&(s=s.add(e.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(e){var t=n.findMutationBatch(e);null!==t&&u.push(t)}),qn.resolve(u)},e.prototype.removeMutationBatches=function(e,t){var n=t.length;c(n>0,"Should not remove mutations when none exist.");var r=t[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");c(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;){(f=this.mutationQueue[s]).isTombstone()?s++:(c(f.batchId===t[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++)}if(0===o){for(;s<i;s++){if(!(f=this.mutationQueue[s]).isTombstone())break}var u=s-o;this.mutationQueue.splice(o,u)}else for(var l=o;l<s;l++)this.mutationQueue[l]=this.mutationQueue[l].toTombstone();for(var d=this.batchesByDocumentKey,h=0,p=t;h<p.length;h++)for(var f=p[h],m=f.batchId,g=0,y=f.mutations;g<y.length;g++){var v=y[g].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(v);var _=new Qn(v,m);d=d.delete(_)}return this.batchesByDocumentKey=d,qn.resolve()},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new Qn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return qn.resolve(t.equals(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),qn.resolve()},e.prototype.getAllLiveMutationBatchesBeforeIndex=function(e){for(var t=[],n=0;n<e;n++){var r=this.mutationQueue[n];r.isTombstone()||t.push(r)}return t},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return c(n.batchId===e,"If found batch must match"),n.isTombstone()?null:n},e}(),Rr=function(){function e(){this.queries=new Hn(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=Gt.MIN,this.highestTargetId=0,this.references=new zn}return e.prototype.start=function(e){return qn.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.getHighestTargetId=function(){return this.highestTargetId},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,qn.resolve()},e.prototype.addQueryData=function(e,t){this.queries.set(t.query,t);var n=t.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),qn.resolve()},e.prototype.removeQueryData=function(e,t){return this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),qn.resolve()},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return qn.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.references.addReferences(t,n),qn.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){return this.references.removeReferences(t,n),qn.resolve()},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),qn.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return qn.resolve(n)},e.prototype.setGarbageCollector=function(e){this.references.setGarbageCollector(e)},e.prototype.containsKey=function(e,t){return this.references.containsKey(e,t)},e}(),Yr=function(){function e(){this.docs=X()}return e.prototype.addEntry=function(e,t){return this.docs=this.docs.insert(t.key,t),qn.resolve()},e.prototype.removeEntry=function(e,t){return this.docs=this.docs.remove(t),qn.resolve()},e.prototype.getEntry=function(e,t){return qn.resolve(this.docs.get(t))},e.prototype.getDocumentsMatchingQuery=function(e,t){for(var n=Z(),r=new at(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value;if(!t.path.isPrefixOf(a.path))break;s instanceof st&&t.matches(s)&&(n=n.insert(s.key,s))}return qn.resolve(n)},e}(),Fr=function(){function e(){this.mutationQueues={},this.remoteDocumentCache=new Yr,this.queryCache=new Rr,this.started=!1}return e.prototype.start=function(){return c(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},e.prototype.shutdown=function(){return c(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Pr,this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t){return o("MemoryPersistence","Starting transaction:",e),t(new jr).toPromise()},e}(),jr=function(){function e(){}return e}(),Br=function(){function e(){this.isEager=!1}return e.prototype.addGarbageSource=function(e){},e.prototype.removeGarbageSource=function(e){},e.prototype.addPotentialGarbageKey=function(e){},e.prototype.collectGarbage=function(e){return qn.resolve(te())},e}(),Hr=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e}(),Ur=function(){function e(e,t,n){this.initialDelayMs=e,this.backoffFactor=t,this.maxDelayMs=n,this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndWait=function(){var e=new Hr,t=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+t+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout(function(){e.resolve()},t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),e.promise},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),Vr=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.Initial=0]="Initial",e[e.Auth=1]="Auth",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e[e.Stopped=5]="Stopped"}($n||($n={}));var Wr,qr=1e3,Gr=6e4,Kr=1.5,zr=function(){function e(e,t,n,r,i){this.queue=e,this.connection=t,this.credentialsProvider=n,this.stream=null,this.listener=null,this.backoff=new Ur(i||qr,Kr,Gr),this.state=$n.Initial,this.listener=r}return e.prototype.isStarted=function(){return this.state===$n.Backoff||this.state===$n.Auth||this.state===$n.Open},e.prototype.isOpen=function(){return this.state===$n.Open},e.prototype.start=function(){this.state!==$n.Error?(c(this.state===$n.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){this.state=$n.Stopped,this.listener=null,null!==this.stream&&(this.stream.close(),this.stream=null)},e.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=$n.Initial,this.backoff.reset()},e.prototype.auth=function(){var e=this;c(this.state===$n.Initial,"Must be in initial state to auth"),this.state=$n.Auth,this.credentialsProvider.getToken(!1).then(function(t){e.startStream(t)},function(t){e.queue.schedule(function(){if(e.state!==$n.Stopped){var n=new Ke(Ge.UNKNOWN,"Fetching auth token failed: "+t.message);return e.handleStreamClose(n)}return Promise.resolve()})})},e.prototype.startStream=function(e){var t=this;if(this.state!==$n.Stopped){c(this.state===$n.Auth,"Trying to start stream in a non-auth state");var n=function(e){t.queue.schedule(function(){return t.state!==$n.Stopped?e():Promise.resolve()})};null!==this.listener&&(this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return c(t.state===$n.Auth,"Expected stream to be in state auth, but was "+t.state),t.state=$n.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})}))}},e.prototype.performBackoff=function(){var e=this;c(this.state===$n.Error,"Should only perform backoff in an error case"),this.state=$n.Backoff,this.backoff.backoffAndWait().then(function(){e.queue.schedule(function(){return e.state===$n.Stopped?Promise.resolve():(e.state=$n.Initial,e.start(),c(e.isStarted(),"PersistentStream should have started"),Promise.resolve())})})},e.prototype.handleStreamClose=function(e){return c(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+e),this.stream=null,this.state=$n.Error,e&&e.code===Ge.RESOURCE_EXHAUSTED&&(o("PersistentStream","Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),this.listener.onClose(e)},e}(),Qr=function(e){function t(t,n,r,i,o,a,s){var u=e.call(this,n,r,i,a,s)||this;return u.databaseInfo=t,u.serializer=o,u}return Vr(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.stream.send(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.stream.send(t)},t}(zr),Jr=function(e){function t(t,n,r,i,o,a,s){var u=e.call(this,n,r,i,a,s)||this;return u.databaseInfo=t,u.serializer=o,u.y=!1,u}return Vr(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.y},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.y=!1,e.prototype.start.call(this)},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(c(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.y){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return c(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.y=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.y,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.stream.send(e)},t.prototype.writeMutations=function(e){var t=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.y,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.stream.send(n)},t}(zr),$r=function(){function e(e,t,n,r,i,o){this.databaseInfo=e,this.queue=t,this.connection=n,this.credentials=r,this.serializer=i,this.initialBackoffDelay=o}return e.prototype.newPersistentWriteStream=function(e){return new Jr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,e,this.initialBackoffDelay)},e.prototype.newPersistentWatchStream=function(e){return new Qr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,e,this.initialBackoffDelay)},e.prototype.commit=function(e){var t=this,n={writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults)})},e.prototype.lookup=function(e){var t=this,n={documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeRPC("batchGet",n).then(function(n){var r=X();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);c(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invoke(e,t,r)})},e}(),Xr=function(){function e(e){this.datastore=e,this.readVersions=ee(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t=e.version;e instanceof ut&&(t=Gt.forDeletedDoc());var n=this.readVersions.get(e.key);if(null!==n){if(!t.equals(n))throw new Ke(Ge.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then(function(e){return e.forEach(function(e){return t.recordVersion(e)}),e})},e.prototype.write=function(e){if(this.committed)throw new Ke(Ge.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?tn.updateTime(t):tn.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.equals(Gt.forDeletedDoc()))throw new Ke(Ge.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return t?tn.updateTime(t):tn.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new sn(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,Gt.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach(function(e){t=t.remove(e.key)}),t.isEmpty()?this.datastore.commit(this.mutations).then(function(){e.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},e}(),Zr=function(){function e(e,t,n,r,i){this.databaseInfo=e,this.asyncQueue=t,this.localStore=n,this.datastore=r,this.onlineStateHandler=i,this.pendingWrites=[],this.lastBatchSeen=ir,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=On.Unknown,this.watchStreamFailures=0}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.setOnlineStateToHealthy=function(){this.updateAndBroadcastOnlineState(On.Healthy)},e.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(On.Unknown)},e.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===On.Healthy?this.setOnlineStateToUnknown():++this.watchStreamFailures>=2&&this.updateAndBroadcastOnlineState(On.Failed)},e.prototype.updateAndBroadcastOnlineState=function(e){var t=this.watchStreamOnlineState!==e;this.watchStreamOnlineState=e,t&&this.onlineStateHandler(e)},e.prototype.isNetworkEnabled=function(){return c(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},e.prototype.enableNetwork=function(){var e=this;return c(null==this.watchStream,"enableNetwork() called with non-null watchStream."),c(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)}),this.localStore.getLastStreamToken().then(function(t){return e.writeStream.lastStreamToken=t,e.shouldStartWatchStream()&&e.startWatchStream(),e.updateAndBroadcastOnlineState(On.Unknown),e.fillWritePipeline()})},e.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(On.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},e.prototype.shutdown=function(){return o("RemoteStore","RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},e.prototype.listen=function(e){c(!h(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){c(h(this.listenTargets,e),"unlisten called without assigned target ID!"),this.listenTargets[e],delete this.listenTargets[e],this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendUnwatchRequest(e)},e.prototype.sendWatchRequest=function(e){this.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.recordPendingTargetRequest=function(e){this.pendingTargetResponses[e]=(this.pendingTargetResponses[e]||0)+1},e.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start()},e.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!g(this.listenTargets)},e.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},e.prototype.onWatchStreamOpen=function(){var e=this;return f(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),Promise.resolve()},e.prototype.onWatchStreamClose=function(e){return c(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},e.prototype.onWatchStreamChange=function(e,t){if(this.setOnlineStateToHealthy(),e instanceof Mn&&e.state===gn.Removed&&e.cause)return this.handleTargetError(e);if(this.accumulatedWatchChanges.push(e),!t.equals(Gt.MIN)&&t.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(t,n)}return Promise.resolve()},e.prototype.handleWatchChangeBatch=function(e,t){var n=this,r=new Tn(e,this.listenTargets,this.pendingTargetResponses);r.addChanges(t);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return f(r.existenceFilters,function(t,r){var a=n.listenTargets[t];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new at(s.path),l=new ut(u,e);i.addDocumentUpdate(l)}else c(1===r.count,"Single document existence filter with count: "+r.count);else{var d=n.localStore.remoteDocumentKeys(t).then(function(e){if(i.targetChanges[t]){var o=i.targetChanges[t].mapping;null!==o&&(o instanceof _n?e=o.applyToKeySet(e):(c(o instanceof vn,"Expected either reset or update mapping but got something else: "+o),e=o.documents))}if(e.size!==r.count){i.handleExistenceFilterMismatch(t);var u=new zt(s,t,a.purpose);n.listenTargets[t]=u,n.sendUnwatchRequest(t);var l=new zt(s,t,mt.ExistenceFilterMismatch);n.sendWatchRequest(l)}});o.push(d)}}}),Promise.all(o).then(function(){return f(i.targetChanges,function(e,t){if(t.resumeToken.length>0){var r=n.listenTargets[e];r&&(n.listenTargets[e]=r.update({resumeToken:t.resumeToken,snapshotVersion:t.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},e.prototype.handleTargetError=function(e){var t=this;c(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return h(t.listenTargets,e)?(delete t.listenTargets[e],t.syncEngine.rejectListen(e,n)):Promise.resolve()})}),r},e.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=ir,this.pendingWrites=[]},e.prototype.fillWritePipeline=function(){var e=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(t){return null===t?Promise.resolve():(e.commit(t),e.fillWritePipeline())}):Promise.resolve()},e.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},e.prototype.outstandingWrites=function(){return this.pendingWrites.length},e.prototype.commit=function(e){c(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=e.batchId,this.pendingWrites.push(e),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},e.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.pendingWrites;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})},e.prototype.onMutationResult=function(e,t){var n=this;c(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=ar.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){var t=this;if(c(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),this.pendingWrites.length>0){c(!!e,"We have pending writes, but the write stream closed without an error");return(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})}return Promise.resolve()},e.prototype.handleHandshakeError=function(e){return K(e.code)||e.code===Ge.ABORTED?(o("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=l(),this.localStore.setLastStreamToken(l())):Promise.resolve()},e.prototype.handleWriteError=function(e){var t=this;if(K(e.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,e).then(function(){return t.fillWritePipeline()})}return Promise.resolve()},e.prototype.createTransaction=function(){return new Xr(this.datastore)},e.prototype.handleUserChange=function(e){return o("RemoteStore","RemoteStore changing users: uid=",e.uid),this.disableNetwork(),this.enableNetwork()},e}(),ei=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r}return e.prototype.start=function(e){var t=this,n=new Hr,r=new Hr,i=!1;return this.credentials.setUserChangeListener(function(o){i?t.asyncQueue.schedule(function(){return t.handleUserChange(o)}):(i=!0,t.initializePersistence(e,r).then(function(){return t.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.schedule(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.asyncQueue.schedule(function(){return e.remoteStore.enableNetwork()})},e.prototype.initializePersistence=function(e,t){var n=this;return e?this.startIndexedDbPersistence().then(t.resolve).catch(function(e){return t.reject(e),n.canFallback(e)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),n.startMemoryPersistence()):Promise.reject(e)}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e.code===Ge.FAILED_PRECONDITION||e.code===Ge.UNIMPLEMENTED},e.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new Br;var e=Ar.buildStoragePrefix(this.databaseInfo),t=new kn(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new Ar(e,t),this.persistence.start()},e.prototype.startMemoryPersistence=function(){return this.garbageCollector=new Gn,this.persistence=new Fr,this.persistence.start()},e.prototype.initializeRest=function(e){var t=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){t.localStore=new Nr(t.persistence,e,t.garbageCollector);var r=t.platform.newSerializer(t.databaseInfo.databaseId),i=new $r(t.databaseInfo,t.asyncQueue,n,t.credentials,r),o=function(e){t.eventMgr.onOnlineStateChanged(e)};return t.remoteStore=new Zr(t.databaseInfo,t.asyncQueue,t.localStore,i,o),t.syncEngine=new rr(t.localStore,t.remoteStore,e),t.remoteStore.syncEngine=t.syncEngine,t.eventMgr=new Vn(t.syncEngine),t.localStore.start()}).then(function(){return t.remoteStore.start()})},e.prototype.handleUserChange=function(e){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","User Changed: "+e.uid),this.syncEngine.handleUserChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.asyncQueue.schedule(function(){return e.remoteStore.disableNetwork()})},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.schedule(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown()})},e.prototype.listen=function(e,t,n){var r=this,i=new Wn(e,t,n);return this.asyncQueue.schedule(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.asyncQueue.schedule(function(){return t.eventMgr.unlisten(e)})},e.prototype.write=function(e){var t=this,n=new Hr;return this.asyncQueue.schedule(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.asyncQueue.schedule(function(){return Promise.resolve()}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),ti=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),ni=function(){function e(){this.tail=Promise.resolve(),this.delayedOpCount=0,this.operationInProgress=!1}return e.prototype.schedule=function(e,t){var n=this;if(this.failure&&u("AsyncQueue is already failed: "+this.failure.message),(t||0)>0){this.delayedOpCount++;var r=new Hr;return setTimeout(function(){n.scheduleInternal(function(){return e().then(function(e){r.resolve(e)})}),n.delayedOpCount--},t),r.promise}return this.scheduleInternal(e)},e.prototype.scheduleInternal=function(e){var t=this;return this.tail=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){throw t.failure=e,t.operationInProgress=!1,a("INTERNAL UNHANDLED ERROR: ",e.stack||e.message),e}).then(function(){t.operationInProgress=!1})}),this.tail},e.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return c(0===this.delayedOpCount,"draining doesn't handle delayed ops."),this.schedule(function(){return Promise.resolve(void 0)})},e}(),ri=function(){function e(e){this.uid=e}return e.prototype.isUnauthenticated=function(){return null==this.uid},e.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},e.prototype.equals=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),ii=function(){function e(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}return e}(),oi=function(){function e(){this.userListener=null}return e.prototype.getToken=function(e){return Promise.resolve(null)},e.prototype.setUserChangeListener=function(e){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,e(ri.UNAUTHENTICATED)},e.prototype.removeUserChangeListener=function(){c(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},e}(),ai=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var e=t.getUser();t.currentUser&&e.equals(t.currentUser)||(t.currentUser=e,t.userCounter++,t.userListener&&t.userListener(t.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(e){var t=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(e).then(function(e){if(t.userCounter!==n)throw new Ke(Ge.ABORTED,"getToken aborted due to uid change.");return e?(c("string"==typeof e.accessToken,"Invalid tokenData returned from getToken():"+e),new ii(e.accessToken,t.currentUser)):null})},e.prototype.setUserChangeListener=function(e){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeUserChangeListener=function(){c(null!=this.tokenListener,"removeUserChangeListener() called twice"),c(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},e.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&u("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var e=this.app.INTERNAL.getUid();return c(null===e||"string"==typeof e,"Received invalid UID: "+e),new ri(e)},e}(),si=function(){function e(e){this.authClient=e}return e.prototype.getToken=function(e){var t=this;return new Promise(function(e,n){t.authClient.getAccessToken(function(t,r){t?n(t):e(new ii(r,ri.GOOGLE_CREDENTIALS))})})},e.prototype.setUserChangeListener=function(e){e(ri.GOOGLE_CREDENTIALS)},e.prototype.removeUserChangeListener=function(){},e}(),ui=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ri.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),e}(),ci=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return e.prototype.getToken=function(e){return Promise.resolve(new ui(this.gapi,this.sessionIndex))},e.prototype.setUserChangeListener=function(e){e(ri.FIRST_PARTY)},e.prototype.removeUserChangeListener=function(){},e}(),li=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(){function e(){}return e.delete=function(){return hi.instance},e.serverTimestamp=function(){return pi.instance},e}(),hi=function(e){function t(){return e.call(this)||this}return li(t,e),t.instance=new t,t}(di),pi=function(e){function t(){return e.call(this)||this}return li(t,e),t.instance=new t,t}(di),fi=d(di,"Use FieldValue.<field>() instead."),mi=/^__.*__$/,gi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new on(e,this.data,this.fieldMask,t)):n.push(new rn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new an(e,this.fieldTransforms)),n},e}(),yi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new on(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new an(e,this.fieldTransforms)),n},e}();!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.QueryValue=2]="QueryValue"}(Wr||(Wr={}));var vi=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path+")";return new Ke(Ge.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(this.isWrite()&&mi.test(e))throw this.createError("Document fields cannot begin and end with __")},e.prototype.isWrite=function(){return this.dataSource===Wr.Set||this.dataSource===Wr.Update},e}(),_i=function(){function e(e,t){this.databaseId=e,this.key=t}return e}(),bi=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t,n){var r=this,i=new vi(Wr.Set,e,ot.EMPTY_PATH);Ie("Data must be an object, but it was:",i,t);var o=void 0!==n.merge&&n.merge,a=Et.EMPTY;m(t,function(e,t){var n=new Nn(e).t,o=i.childContextForFieldPath(n);t=r.runPreConverter(t,o);var s=r.parseData(t,o);s&&(a=a.set(n,s))});var s=o?new Jt(i.fieldMask):null;return new gi(a,s,i.fieldTransforms)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new vi(Wr.Update,e,ot.EMPTY_PATH);Ie("Data must be an object, but it was:",r,t);var i=[],o=Et.EMPTY;m(t,function(t,a){var s=xe(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof hi)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new Jt(i);return new yi(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new vi(Wr.Update,e,ot.EMPTY_PATH),o=[Ae(e,t)],a=[n];if(r.length%2!=0)throw new Ke(Ge.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(c=0;c<r.length;c+=2)o.push(Ae(e,r[c])),a.push(r[c+1]);for(var s=[],u=Et.EMPTY,c=0;c<o.length;++c){var l=o[c],d=i.childContextForFieldPath(l),h=this.runPreConverter(a[c],d);if(h instanceof hi)s.push(l);else{var p=this.parseData(h,d);null!=p&&(s.push(l),u=u.set(l,p))}}var f=new Jt(s);return new yi(u,f,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new vi(Wr.QueryValue,e,ot.EMPTY_PATH),r=this.parseData(t,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Oe(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if((e=this.runPreConverter(e,t))instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return t.path&&t.fieldMask.push(t.path),this.parseArray(e,t)}return De(e)?(Ie("Unsupported field value:",t,e),this.parseObject(e,t)):(t.path&&t.fieldMask.push(t.path),this.parseScalarValue(e,t))},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=yt.INSTANCE),n.push(s),r++}return new Dt(n)},e.prototype.parseObject=function(e,t){var n=this,r=new ct(P);return m(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new Et(r)},e.prototype.parseScalarValue=function(e,t){if(null===e)return yt.INSTANCE;if("number"==typeof e)return q(e)?new bt(e):new wt(e);if("boolean"==typeof e)return vt.of(e);if("string"==typeof e)return new Mt(e);if(e instanceof Date)return new Tt(qt.fromDate(e));if(e instanceof $e)return new Ct(e);if(e instanceof Qe)return new Lt(e);if(e instanceof _i)return new kt(e.databaseId,e.key);if(e instanceof di){if(e instanceof hi)throw t.dataSource!==Wr.Update?t.createError("FieldValue.delete() can only be used with update()"):(c(null==t.path||t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data"));if(e instanceof pi){if(t.dataSource!==Wr.Set&&t.dataSource!==Wr.Update)throw t.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===t.path)throw t.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return t.fieldTransforms.push(new Xt(t.path,$t.instance)),null}return u("Unknown FieldValue type: "+e)}throw t.createError("Unsupported field value: "+E(e))},e}(),wi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mi="firestore.googleapis.com",Ti=!0,Si=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mi,this.ssl=Ti}else S("settings","string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=p(e.ssl,Ti);A("settings",e,["host","ssl","credentials"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials}return e.prototype.equals=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials},e}(),Li=function(){function e(){}return e}(),ki=function(){function e(t){var n=this;this.INTERNAL={delete:function(){return n.k?n.k.shutdown():Promise.resolve()},disableNetwork:function(){return n.k.disableNetwork()},enableNetwork:function(){return n.k.enableNetwork()}};var r=new Li;if("object"==typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new ai(i)}else{var o=t;if(!o.projectId)throw new Ke(Ge.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new et(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new oi}r.settings=new Si({}),this._=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(v("Firestore.settings",arguments,1),M("Firestore.settings","object",1,e),h(e,"persistence"))throw new Ke(Ge.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Si(e);if(this.k&&!this._.settings.equals(t))throw new Ke(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._.settings=t,void 0!==t.credentials&&(this._.credentials=ke(t.credentials))},e.prototype.enablePersistence=function(){if(this.k)throw new Ke(Ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},e.prototype.ensureClientConfigured=function(){return this.k||this.configureClient(!1),this.k},e.prototype.configureClient=function(e){var t=this;c(!!this._.settings.host,"FirestoreSettings.host cannot be falsey"),c(!this.k,"configureClient() called multiple times");var n=new Xe(this._.databaseId,this._.persistenceKey,this._.settings.host,this._.settings.ssl),r=function(e){if(e instanceof Di){var n=t._.databaseId,r=e.firestore._.databaseId;if(!r.equals(n))throw new Ke(Ge.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new _i(t._.databaseId,e.x)}return e};return this._dataConverter=new bi(r),this.k=new ei(We.getPlatform(),n,this._.credentials,new ni),this.k.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!h(t,"projectId")){if(h(t,"firestoreId"))throw new Ke(Ge.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new Ke(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(h(t,"firestoreOptions"))throw new Ke(Ge.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=t.projectId;if(!n||"string"!=typeof n)throw new Ke(Ge.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new et(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._.firebaseApp)throw new Ke(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(v("Firestore.collection",arguments,1),M("Firestore.collection","string",1,e),!e)throw new Ke(Ge.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Oi(rt.fromString(e),this)},e.prototype.doc=function(e){if(v("Firestore.doc",arguments,1),M("Firestore.doc","string",1,e),!e)throw new Ke(Ge.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Di.forPath(rt.fromString(e),this)},e.prototype.runTransaction=function(e){var t=this;return v("Firestore.runTransaction",arguments,1),M("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Ci(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ei(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(r()){case Be.DEBUG:return"debug";case Be.ERROR:return"error";case Be.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(v("Firestore.setLogLevel",arguments,1),M("Firestore.setLogLevel","string",1,e),e){case"debug":i(Be.DEBUG);break;case"error":i(Be.ERROR);break;case"silent":i(Be.SILENT);break;default:throw new Ke(Ge.INVALID_ARGUMENT,"Invalid log level: "+e)}},e}(),Ci=function(){function e(e,t){this.q=e,this.Q=t}return e.prototype.get=function(e){var t=this;v("Transaction.get",arguments,1);var n=Pe("Transaction.get",e,this.q);return this.Q.lookup([n.x]).then(function(e){if(!e||1!==e.length)return u("Mismatch in docs returned from document lookup.");var r=e[0];return r instanceof ut?new Ii(t.q,n.x,null,!1):new Ii(t.q,n.x,r,!1)})},e.prototype.set=function(e,t,n){b("Transaction.set",arguments,2,3);var r=Pe("Transaction.set",e,this.q);n=Ne("Transaction.set",n);var i=this.q._dataConverter.parseSetData("Transaction.set",t,n);return this.Q.set(r.x,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"==typeof t||t instanceof Nn?(_("Transaction.update",arguments,3),o=Pe("Transaction.update",e,this.q),a=this.q._dataConverter.parseUpdateVarargs("Transaction.update",t,n,r)):(v("Transaction.update",arguments,2),o=Pe("Transaction.update",e,this.q),a=this.q._dataConverter.parseUpdateData("Transaction.update",t)),this.Q.update(o.x,a),this},e.prototype.delete=function(e){v("Transaction.delete",arguments,1);var t=Pe("Transaction.delete",e,this.q);return this.Q.delete(t.x),this},e}(),Ei=function(){function e(e){this.q=e,this.z=[],this.tt=!1}return e.prototype.set=function(e,t,n){b("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Pe("WriteBatch.set",e,this.q);n=Ne("WriteBatch.set",n);var i=this.q._dataConverter.parseSetData("WriteBatch.set",t,n);return this.z=this.z.concat(i.toMutations(r.x,tn.NONE)),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"==typeof t||t instanceof Nn?(_("WriteBatch.update",arguments,3),o=Pe("WriteBatch.update",e,this.q),a=this.q._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,r)):(v("WriteBatch.update",arguments,2),o=Pe("WriteBatch.update",e,this.q),a=this.q._dataConverter.parseUpdateData("WriteBatch.update",t)),this.z=this.z.concat(a.toMutations(o.x,tn.exists(!0))),this},e.prototype.delete=function(e){v("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Pe("WriteBatch.delete",e,this.q);return this.z=this.z.concat(new sn(t.x,tn.NONE)),this},e.prototype.commit=function(){return this.verifyNotCommitted(),this.tt=!0,this.z.length>0?this.q.ensureClientConfigured().write(this.z):Promise.resolve()},e.prototype.verifyNotCommitted=function(){if(this.tt)throw new Ke(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Di=function(){function e(e,t){this.x=e,this.firestore=t,this.k=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new at(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this.x.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Oi(this.x.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.x.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(v("DocumentReference.collection",arguments,1),M("DocumentReference.collection","string",1,e),!e)throw new Ke(Ge.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=rt.fromString(e);return new Oi(this.x.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw x("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.x.equals(t.x)},e.prototype.set=function(e,t){b("DocumentReference.set",arguments,1,2),t=Ne("DocumentReference.set",t);var n=this.firestore._dataConverter.parseSetData("DocumentReference.set",e,t);return this.k.write(n.toMutations(this.x,tn.NONE))},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"==typeof e||e instanceof Nn?(_("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,n)):(v("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this.k.write(i.toMutations(this.x,tn.exists(!0)))},e.prototype.delete=function(){return v("DocumentReference.delete",arguments,0),this.k.write([new sn(this.x,tn.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];b("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Ce(e[i])||(r=e[i],A("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return Ce(e[i])?n=e[i]:(M("DocumentReference.onSnapshot","function",i,e[i]),T("DocumentReference.onSnapshot","function",i+1,e[i+1]),T("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ti({next:function(e){if(t.next){c(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n.x);t.next(new Ii(n.firestore,n.x,r,e.fromCache))}},error:r}),o=this.k.listen(Nt.atPath(this.x.path),i,e);return function(){i.mute(),n.k.unlisten(o)}},e.prototype.get=function(){var e=this;return v("DocumentReference.get",arguments,0),new Promise(function(t,n){var r=e.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){r(),!e.exists&&e.metadata.fromCache?n(new Ke(Ge.ABORTED,"Failed to get document because the client is offline.")):t(e)},error:n})})},e}(),Ii=function(){function e(e,t,n,r){this.q=e,this.x=t,this.et=n,this.nt=r}return e.prototype.data=function(){if(v("DocumentSnapshot.data",arguments,0),!this.et)throw new Ke(Ge.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this.et.data)},e.prototype.get=function(e){if(v("DocumentSnapshot.get",arguments,1),!this.et)throw new Ke(Ge.NOT_FOUND,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var t=this.et.data.field(Ae("DocumentSnapshot.get",e));return void 0===t?void 0:this.convertValue(t)},Object.defineProperty(e.prototype,"id",{get:function(){return this.x.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Di(this.x,this.q)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.et},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this.et&&this.et.hasLocalMutations,fromCache:this.nt}},enumerable:!0,configurable:!0}),e.prototype.convertObject=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.convertValue(r)}),n},e.prototype.convertValue=function(e){if(e instanceof Et)return this.convertObject(e);if(e instanceof Dt)return this.convertArray(e);if(e instanceof kt){var t=e.value(),n=this.q.ensureClientConfigured().databaseId();return e.databaseId.equals(n)||a("Document "+this.x.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new Di(t,this.q)}return e.value()},e.prototype.convertArray=function(e){var t=this;return e.internalValue.map(function(e){return t.convertValue(e)})},e}(),Ai=function(){function e(e,t){this.rt=e,this.firestore=t}return e.prototype.where=function(t,n,r){v("Query.where",arguments,3),M("Query.where","string",2,n),I("Query.where",3,r);var i,o=Ae("Query.where",t);if(o.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new Ke(Ge.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new Ke(Ge.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this.rt.path.child(new rt([r]));c(a.length%2==0,"Path should be a document key"),i=new kt(this.firestore._databaseId,new at(a))}else{if(!(r instanceof Di))throw new Ke(Ge.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+E(r)+".");var s=r;i=new kt(this.firestore._databaseId,s.x)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=G(o,Pt.fromString(n),i);return this.validateNewFilter(u),new e(this.rt.addFilter(u),this.firestore)},e.prototype.orderBy=function(t,n){b("Query.orderBy",arguments,1,2),T("Query.orderBy","string",2,n);var r;if(void 0===n||"asc"===n)r=jt.ASCENDING;else{if("desc"!==n)throw new Ke(Ge.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=jt.DESCENDING}if(null!==this.rt.startAt)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.rt.endAt)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Ae("Query.orderBy",t),o=new Ht(i,r);return this.validateNewOrderBy(o),new e(this.rt.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(v("Query.limit",arguments,1),M("Query.limit","number",1,t),t<=0)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this.rt.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this.rt.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this.rt.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this.rt.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this.rt.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw x("isEqual","Query",1,t);return this.firestore===t.firestore&&this.rt.equals(t.rt)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(I(e,1,t),t instanceof Ii){if(n.length>0)throw new Ke(Ge.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Ke(Ge.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i.et,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this.rt.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new kt(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Bt(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this.rt.explicitOrderBy;if(t.length>r.length)throw new Ke(Ge.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+e+"()");var s=new at(this.rt.path.child(a));i.push(new kt(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(e,a);i.push(u)}}return new Bt(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];b("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Ce(e[i])||(r=e[i],A("Query.onSnapshot",r,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),L("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),L("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),Ce(e[i])?n=e[i]:(M("Query.onSnapshot","function",i,e[i]),T("Query.onSnapshot","function",i+1,e[i+1]),T("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ti({next:function(e){t.next&&t.next(new xi(n.firestore,n.rt,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this.rt,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(){var e=this;return v("Query.get",arguments,0),new Promise(function(t,n){var r=e.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){r(),t(e)},error:n})})},e.prototype.validateNewFilter=function(e){if(e instanceof Rt&&e.isInequality()){var t=this.rt.getInequalityFilterField();if(null!==t&&!t.equals(e.field))throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t+"' and '"+e.field+"'");var n=this.rt.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}},e.prototype.validateNewOrderBy=function(e){if(null===this.rt.getFirstOrderByField()){var t=this.rt.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.equals(e))throw new Ke(Ge.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e+"' and so you must also use '"+e+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t+"' instead.")},e}(),xi=function(){function e(e,t,n){this.q=e,this.it=t,this.ot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.ot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.ot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;b("QuerySnapshot.forEach",arguments,1,2),M("QuerySnapshot.forEach","function",1,e),this.ot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Ai(this.it,this.q)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=Re(this.q,this.ot)),this._cachedChanges},enumerable:!0,configurable:!0}),e.prototype.convertToDocumentImpl=function(e){return new Ii(this.q,e.key,e,this.metadata.fromCache)},e}(),Oi=function(e){function t(t,n){var r=e.call(this,Nt.atPath(t),n)||this;if(t.length%2!=1)throw new Ke(Ge.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return wi(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.rt.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.rt.path.popLast();return e.isEmpty()?null:new Di(new at(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.rt.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(b("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=ze.newId()),M("CollectionReference.doc","string",1,e),""===e)throw new Ke(Ge.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=rt.fromString(e);return Di.forPath(this.rt.path.child(t),this.firestore)},t.prototype.add=function(e){v("CollectionReference.add",arguments,1),M("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Ai),Ni=d(ki,"Use firebase.firestore() instead."),Pi=d(Ci,"Use firebase.firestore().runTransaction() instead."),Ri=d(Ei,"Use firebase.firestore().batch() instead."),Yi=d(Di,"Use firebase.firestore().doc() instead."),Fi=d(Ii),ji=d(Ai),Bi=d(xi),Hi=d(Oi,"Use firebase.firestore().collection() instead."),Ui={Firestore:Ni,GeoPoint:$e,Blob:Je,Transaction:Pi,WriteBatch:Ri,DocumentReference:Yi,DocumentSnapshot:Fi,Query:ji,QuerySnapshot:Bi,CollectionReference:Hi,FieldPath:Nn,FieldValue:fi,setLogLevel:ki.setLogLevel};t.registerFirestore=je,je(He.default)},115:function(module,exports,__webpack_require__){(function(){function l(e){return"string"==typeof e}function aa(){}function ba(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function n(e){return"array"==ba(e)}function ca(e){var t=ba(e);return"array"==t||"object"==t&&"number"==typeof e.length}function da(e){return"function"==ba(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function fa(e,t,n){return e.call.apply(e.bind,arguments)}function ha(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function r(e,t,n){return(r=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?fa:ha).apply(null,arguments)}function ia(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.L=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Bb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ja(e){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=e+"")}function ka(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ma(e,t){return e<t?-1:e>t?1:0}function na(e,t){t.unshift(e),ja.call(this,ka.apply(null,t)),t.shift()}function oa(e,t){throw new na("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.v=this.v}function ua(e){e:{for(var t=va,n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]}function wa(e){if(!n(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}function xa(e){return Array.prototype.concat.apply([],arguments)}function ya(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function y(e){return-1!=x.indexOf(e)}function Ba(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ca(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function Da(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function Ea(e){var t,n={};for(t in e)n[t]=e[t];return n}function Ga(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ha(e){return Ha[" "](e),e}function Ia(e,t){var n=Ja;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function Oa(){var e=k.document;return e?e.documentMode:void 0}function Ua(e){return Ia(e,function(){for(var t=0,n=la(Pa+"").split("."),r=la(e+"").split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function A(e,t){this.type=e,this.a=this.target=t,this.Qa=!0}function ab(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Ma){e:{try{Ha(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:bb[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}function db(e){return!(!e||!e[cb])}function fb(e,t,n,r,i){this.listener=e,this.a=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++eb,this.X=this.ba=!1}function gb(e){e.X=!0,e.listener=null,e.a=null,e.src=null,e.da=null}function hb(e){this.src=e,this.a={},this.b=0}function ib(e,t,n,r,i,o){var a=""+t;(t=e.a[a])||(t=e.a[a]=[],e.b++);var s=jb(t,n,i,o);return-1<s?(e=t[s],r||(e.ba=!1)):(e=new fb(n,e.src,a,!!i,o),e.ba=r,t.push(e)),e}function kb(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=sa(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function lb(e,t,n,r,i){return e=e.a[""+t],t=-1,e&&(t=jb(e,n,r,i)),-1<t?e[t]:null}function jb(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}function pb(e,t,r,i,o){if(i&&i.once)return qb(e,t,r,i,o);if(n(t)){for(var a=0;a<t.length;a++)pb(e,t[a],r,i,o);return null}return r=rb(r),db(e)?e.$(t,r,p(i)?!!i.capture:!!i,o):sb(e,t,r,!1,i,o)}function sb(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=tb(e);if(s||(e[mb]=s=new hb(e)),(n=ib(s,t,n,r,a,o)).a)return n;if(r=ub(),n.a=r,r.src=e,r.listener=n,e.addEventListener)$a||(i=a),void 0===i&&(i=!1),e.addEventListener(""+t,r,i);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(vb(""+t),r)}return ob++,n}function ub(){var e=wb,t=Ya?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function qb(e,t,r,i,o){if(n(t)){for(var a=0;a<t.length;a++)qb(e,t[a],r,i,o);return null}return r=rb(r),db(e)?e.Ia(t,r,p(i)?!!i.capture:!!i,o):sb(e,t,r,!0,i,o)}function xb(e,t,r,i,o){if(n(t))for(var a=0;a<t.length;a++)xb(e,t[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=rb(r),db(e)?e.xa(t,r,i,o):e&&(e=tb(e))&&(t=lb(e,t,r,i,o))&&yb(t)}function yb(e){if("number"!=typeof e&&e&&!e.X){var t=e.src;if(db(t))kb(t.c,e);else{var n=e.type,r=e.a;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(vb(n),r),ob--,(n=tb(t))?(kb(n,e),0==n.b&&(n.src=null,t[mb]=null)):gb(e)}}}function vb(e){return e in nb?nb[e]:nb[e]="on"+e}function zb(e,t,n,r){var i=!0;if((e=tb(e))&&(t=e.a[""+t]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.X&&(o=Ab(o,r),i=i&&!1!==o)}return i}function Ab(e,t){var n=e.listener,r=e.da||e.src;return e.ba&&yb(e),n.call(r,t)}function wb(e,t){if(e.X)return!0;if(!Ya){if(!t)e:{t=["window","event"];for(var n=k,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(r=t,t=new ab(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.a;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.a=r[i];var o=zb(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.a=r[i],o=zb(r[i],e,!1,t),n=n&&o}return n}return Ab(e,new ab(t,this))}function tb(e){return(e=e[mb])instanceof hb?e:null}function rb(e){return da(e)?e:(e[Bb]||(e[Bb]=function(t){return e.handleEvent(t)}),e[Bb])}function B(){w.call(this),this.c=new hb(this),this.P=this,this.J=null}function Cb(e,t,n,r){if(!(t=e.c.a[t+""]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.ba&&kb(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Qa}function Db(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Eb(a){if(a+="",Db(a))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function Fb(e){var t=[];return Gb(new Hb,e,t),t.join("")}function Hb(){}function Gb(e,t,r){if(null==t)r.push("null");else{if("object"==typeof t){if(n(t)){var i=t;t=i.length,r.push("[");for(var o="",a=0;a<t;a++)r.push(o),Gb(e,i[a],r),o=",";return void r.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){r.push("{"),o="";for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&"function"!=typeof(a=t[i])&&(r.push(o),Ib(i,r),r.push(":"),Gb(e,a,r),o=",");return void r.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ib(t,r);break;case"number":r.push(isFinite(t)&&!isNaN(t)?t+"":"null");break;case"boolean":r.push(t+"");break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Ib(e,t){t.push('"',e.replace(Lb,function(e){var t=Jb[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Jb[e]=t),t}),'"')}function Mb(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}function Ob(){var e=Pb,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Nb(){this.next=this.b=this.a=null}function Qb(e){k.setTimeout(function(){throw e},0)}function Sb(){var e=k.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=r(function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!y("Trident")&&!y("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Ca;n.Ca=null,e()}},function(e){i.next={Ca:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){k.setTimeout(e,0)}}function Ub(){if(-1!=(k.Promise+"").indexOf("[native code]")){var e=k.Promise.resolve(void 0);Tb=function(){e.then(Vb)}}else Tb=function(){var e=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(e)):k.setImmediate(e)}}function Vb(){for(var e;e=Ob();){try{e.a.call(e.b)}catch(e){Qb(e)}C.g(e),C.b<C.f&&(C.b++,e.next=C.a,C.a=e)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.jb,this),this.g=t()}function Yb(e){e.Z=!1,e.K&&(e.a.clearTimeout(e.K),e.K=null)}function Zb(e,t,n){if(da(e))n&&(e=r(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=r(e.handleEvent,e)}return 2147483647<+t?-1:k.setTimeout(e,t||0)}function $b(e,t,n){w.call(this),this.f=null!=n?r(e,n):e,this.c=t,this.b=r(this.cb,this),this.a=[]}function ac(e){e.W=Zb(e.b,e.c),e.f.apply(null,e.a)}function D(e){w.call(this),this.b=e,this.a={}}function cc(e){Ba(e.a,function(e,t){this.a.hasOwnProperty(t)&&yb(e)},e),e.a={}}function dc(e,t,n,r,i){this.reset(e,t,n,r,i)}function fc(e){this.f=e,this.b=this.c=this.a=null}function E(e,t){this.name=e,this.value=t}function lc(e){return e.c?e.c:e.a?lc(e.a):(oa("Root logger has no level set."),null)}function F(e,t){e.log(gc,t,void 0)}function G(e,t){e.log(hc,t,void 0)}function oc(e){nc||(nc=new fc(""),mc[""]=nc,nc.c=jc);var t;if(!(t=mc[e])){t=new fc(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=oc(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,mc[e]=t}return t}function pc(e,t){e&&e.log(ic,t,void 0)}function H(e,t){e&&e.log(kc,t,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug")}function rc(e,t,r,i){if(r)try{var o=JSON.parse(r);if(o)for(var a=0;a<o.length;a++)if(n(o[a])){var s=o[a];if(!(2>s.length)){var u=s[1];if(n(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<u.length;l++)u[l]=""}}}var d=Fb(o)}catch(t){I(e,"Exception parsing expected JS array - probably was not JS"),d=r}else d=null;I(e,"XMLHTTP TEXT ("+t+"): "+d+(i?" "+i:""))}function sc(e,t,n){(e=e.a)&&F(e,(n||"Exception")+t)}function I(e,t){pc(e.a,t)}function tc(e){A.call(this,"serverreachability",e)}function uc(){J.dispatchEvent(new tc(J))}function vc(e){A.call(this,"statevent",e)}function K(){J.dispatchEvent(new vc(J))}function wc(e){A.call(this,"timingevent",e)}function xc(e,t){if(!da(e))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){e()},t)}function Ac(){}function Bc(e){var t;return(t=e.a)||(t={},Cc(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function Ec(){}function Fc(e){return(e=Cc(e))?new ActiveXObject(e):new XMLHttpRequest}function Cc(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<4;n++){var r=t[n];try{return new ActiveXObject(r),e.b=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function L(e,t,n,r,i){this.m=e,this.b=t,this.f=r,this.S=i||1,this.M=new D(this),this.P=Gc,(e=this.F=new Xb).b=Hc,e.K&&e.Z?(Yb(e),e.start()):e.K&&Yb(e),this.h=null,this.c=!1,this.a=this.B=this.g=this.l=this.I=this.H=this.T=this.o=null,this.C=0,this.i=this.j=null,this.v=-1,this.s=!1,this.N=0,this.G=null,this.J=!1}function Ic(e,t){switch(e){case 0:return"Non-200 return code ("+t+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Lc(e,t,n){e.I=1,e.l=Mc(M(t)),e.B=n,e.J=!0,Nc(e,null)}function Oc(e,t,n,r){e.I=1,e.l=Mc(M(t)),e.B=null,e.J=n,Nc(e,r)}function Nc(e,n){e.H=t(),Pc(e),e.g=M(e.l),Qc(e.g,"t",e.S),e.C=0,e.a=e.m.ra(e.m.fa()?n:null),0<e.N&&(e.G=new $b(r(e.Ra,e,e.a),e.N)),e.M.$(e.a,"readystatechange",e.gb),n=e.h?Ea(e.h):{},e.B?(e.j||(e.j="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.ta(e.g,e.j,e.B,n)):(e.j="GET",e.a.ta(e.g,e.j,null,n)),uc();var i=e.B;if(i){n="",i=i.split("&");for(var o=0;o<i.length;o++){var a=i[o].split("=");if(1<a.length){var s=a[0];a=a[1];var u=s.split("_");n=2<=u.length&&"type"==u[1]?n+(s+"=")+a+"&":n+(s+"=redacted&")}}}else n=null;I(e.b,"XMLHTTP REQ ("+e.f+") [attempt "+e.S+"]: "+e.j+"\n"+e.g+"\n"+n)}function Sc(e,t,n){for(var r=!0;!e.s&&e.C<n.length;){var i=Wc(e,n);if(i==Kc){4==t&&(e.i=4,K(),r=!1),rc(e.b,e.f,null,"[Incomplete Response]");break}if(i==Jc){e.i=4,K(),rc(e.b,e.f,n,"[Invalid Chunk]"),r=!1;break}rc(e.b,e.f,i,null),Tc(e,i)}4==t&&0==n.length&&(e.i=1,K(),r=!1),e.c=e.c&&r,r||(rc(e.b,e.f,n,"[Invalid Chunked Response]"),Uc(e),Vc(e))}function Wc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kc:(n=+t.substring(n,r),isNaN(n)?Jc:(r+=1)+n>t.length?Kc:(t=t.substr(r,n),e.C=r+n,t))}function Pc(e){e.T=t()+e.P,Xc(e,e.P)}function Xc(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=xc(r(e.eb,e),t)}function Rc(e){e.o&&(k.clearTimeout(e.o),e.o=null)}function Vc(e){e.m.Ka()||e.s||e.m.wa(e)}function Uc(e){Rc(e);var t=e.G;t&&"function"==typeof t.Y&&t.Y(),e.G=null,Yb(e.F),cc(e.M),e.a&&(t=e.a,e.a=null,t.abort(),t.Y())}function Tc(e,t){try{e.m.Na(e,t),uc()}catch(t){sc(e.b,t,"Error in httprequest callback")}}function Yc(e){if(e.A&&"function"==typeof e.A)return e.A();if(l(e))return e.split("");if(ca(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return Ca(e)}function Zc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ca(e)||l(e))ta(e,t,void 0);else{if(e.O&&"function"==typeof e.O)var n=e.O();else if(e.A&&"function"==typeof e.A)n=void 0;else if(ca(e)||l(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else n=Da(e);i=(r=Yc(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function O(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){e instanceof O?(n=e.O(),r=e.A()):(n=Da(e),r=Ca(e));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function ad(e){e.b={},e.a.length=0,e.c=0}function bd(e,t){return!!P(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&$c(e),!0)}function $c(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];P(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],P(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dd(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(e,t){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;e instanceof Q?(this.h=void 0!==t?t:e.h,ed(this,e.f),this.j=e.j,fd(this,e.b),gd(this,e.i),this.a=e.a,hd(this,id(e.c)),this.g=e.g):e&&(n=(e+"").match(cd))?(this.h=!!t,ed(this,n[1]||"",!0),this.j=jd(n[2]||""),fd(this,n[3]||"",!0),gd(this,n[4]),this.a=jd(n[5]||"",!0),hd(this,n[6]||"",!0),this.g=jd(n[7]||"")):(this.h=!!t,this.c=new kd(null,0,this.h))}function M(e){return new Q(e)}function ed(e,t,n){e.f=n?jd(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function fd(e,t,n){e.b=n?jd(t,!0):t}function gd(e,t){if(t){if(t=+t,isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function hd(e,t,n){t instanceof kd?(e.c=t,qd(e.c,e.h)):(n||(t=ld(t,rd)),e.c=new kd(t,0,e.h))}function R(e,t,n){e.c.set(t,n)}function Qc(e,t,r){n(r)||(r=[r+""]),sd(e.c,t,r)}function Mc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function td(e){return e instanceof Q?M(e):new Q(e,void 0)}function ud(e,t,n,r){var i=new Q(null,void 0);return e&&ed(i,e),t&&fd(i,t),n&&gd(i,n),r&&(i.a=r),i}function jd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ld(e,t,n){return l(e)?(e=encodeURI(e).replace(t,vd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}function kd(e,t,n){this.b=this.a=null,this.c=e||null,this.f=!!n}function S(e){e.a||(e.a=new O,e.b=0,e.c&&dd(e.c,function(t,n){t=decodeURIComponent(t.replace(/\+/g," ")),S(e),e.c=null,t=wd(e,t);var r=e.a.get(t);r||e.a.set(t,r=[]),r.push(n),e.b+=1}))}function xd(e,t){S(e),t=wd(e,t),P(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,bd(e.a,t))}function yd(e,t){return S(e),t=wd(e,t),P(e.a.b,t)}function sd(e,t,n){xd(e,t),0<n.length&&(e.c=null,e.a.set(wd(e,t),ya(n)),e.b+=n.length)}function id(e){var t=new kd;return t.c=e.c,e.a&&(t.a=new O(e.a),t.b=e.b),t}function wd(e,t){return t+="",e.f&&(t=t.toLowerCase()),t}function qd(e,t){t&&!e.f&&(S(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(xd(this,t),sd(this,n,e))},e)),e.f=t}function zd(){this.a=t()}function Bd(){Ad||(Ad=new zd)}function Cd(){Ad||(Ad=new zd)}function Dd(){}function Fd(){A.call(this,"d")}function Gd(){A.call(this,"c")}function Hd(e,t){this.a=e,this.b=t,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Id(e){I(e.b,"TestConnection: starting stage 2");var t=e.a.J.a;if(null!=t)I(e.b,"Buffered"),K(),t?(K(),Jd(e.a,e,!1)):(K(),Jd(e.a,e,!0));else{e.c=new L(e,e.b,0,void 0,void 0),e.c.h=e.i,t=Kd(e.a,e.g,e.l),K(),Qc(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.N;n&&r&&R(t,n,r),Oc(e.c,t,!1,e.g)}}function Md(){this.a=this.b=null}function Nd(e){if(this.a=new O,e)for(var t=(e=Yc(e)).length,n=0;n<t;n++){var r=e[n];this.a.set(T(r),r)}}function T(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[q]||(e[q]=++ea)):t.charAt(0)+e}function Od(e){this.f=e||Pd,this.c=k.pa&&k.pa.La&&k.pa.La()&&k.pa.La().Cb?this.f:1,this.a=null,1<this.c&&(this.a=new Nd),this.b=null}function Qd(e,t){e.a||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(e.c=e.f,e.a=new Nd,e.b&&(Rd(e,e.b),e.b=null))}function Sd(e){return!!e.b||!!e.a&&e.a.u()>=e.c}function Td(e,t){return e.b?e.b==t:!!e.a&&e.a.contains(t)}function Rd(e,t){e.a?e.a.a.set(T(t),t):e.b=t}function Ud(e,t){this.a=e,this.b=t}function Vd(e,t){this.a=e,this.b=t}function Wd(){this.a=new Vd}function Xd(e,t,n){var r=n||"";try{Zc(e,function(e,n){var i=e;p(e)&&(i=Fb(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Yd(e,t){var n=new qc;I(n,"TestLoadImage: loading "+e);var r=new Image;r.onload=ia(Zd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ia(Zd,n,r,"TestLoadImage: error",!1,t),r.onabort=ia(Zd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ia(Zd,n,r,"TestLoadImage: timeout",!1,t),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}function Zd(e,t,n,r,i){try{I(e,n),t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(t){sc(e,t)}}function U(e){B.call(this),this.headers=new O,this.G=e||null,this.f=!1,this.F=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=$d,this.C=this.m=!1}function ee(e){return z&&Ua(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function va(e){return"content-type"==e.toLowerCase()}function ce(e,t){e.f=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.g=t,e.j=5,fe(e),ge(e)}function fe(e){e.H||(e.H=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function he(e){if(e.f&&void 0!==goog)if(e.F[1]&&4==N(e)&&2==e.V())H(e.b,V(e,"Local request error detected and ignored"));else if(e.o&&4==N(e))Zb(e.Ma,0,e);else if(e.dispatchEvent("readystatechange"),4==N(e)){H(e.b,V(e,"Request complete")),e.f=!1;try{var t=e.V();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=(e.s+"").match(cd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!ae.test(o?o.toLowerCase():"")}r=i}r?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.j=6,e.g=e.Ha()+" ["+e.V()+"]",fe(e))}finally{ge(e)}}}function ge(e,t){if(e.a){de(e);var n=e.a,r=e.F[0]?aa:null;e.a=null,e.F=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&F(e,"Problem encountered resetting onreadystatechange: "+t.message)}}}function de(e){e.a&&e.C&&(e.a.ontimeout=null),"number"==typeof e.B&&(k.clearTimeout(e.B),e.B=null)}function N(e){return e.a?e.a.readyState:0}function V(e,t){return t+" ["+e.M+" "+e.s+" "+e.V()+"]"}function ie(e){var t="";return Ba(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function je(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=ie(n),l(e)){if(t=encodeURIComponent(t+""),n=null!=n?"="+encodeURIComponent(n+""):"",t+=n){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return R(e,t,n),e}function ke(e,t,n){this.za=t||0,this.Ba=0,this.h=[],this.l=[],this.a=new qc,this.J=n||new Md,this.ia=this.ya=this.H=this.ja=this.b=this.N=this.j=this.ha=this.f=this.P=this.i=null,this.Va=this.I=0,this.ka=this.C=this.s=this.m=this.o=this.c=null,this.v=this.Aa=this.S=-1,this.ga=this.B=this.G=0,this.T=e&&e.supportsCrossDomainXhr||!1,this.M="",this.g=new Od(e&&e.concurrentRequestLimit),this.la=new Wd,this.F=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,this.Ua=e&&e.fastHandshake||!1}function le(e){if(I(e.a,"disconnect()"),me(e),3==e.D){var n=e.I++,r=M(e.H);R(r,"SID",e.M),R(r,"RID",n),R(r,"TYPE","terminate"),ne(e,r),(n=new L(e,e.a,0,n,void 0)).I=2,n.l=Mc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(""+n.l,"")),r||((new Image).src=n.l),n.H=t(),Pc(n)}oe(e)}function me(e){e.C&&(e.C.abort(),e.C=null),e.b&&(e.b.cancel(),e.b=null),e.m&&(k.clearTimeout(e.m),e.m=null),pe(e),e.g.cancel(),e.o&&(k.clearTimeout(e.o),e.o=null)}function qe(e,t){if(1e3==e.h.length){var n="Already have 1000 queued maps upon queueing "+Fb(t),r=e.a.a;r&&F(r,n)}e.h.push(new Ud(e.Va++,t)),3==e.D&&re(e)}function re(e){Sd(e.g)||e.o||(e.o=xc(r(e.Pa,e),0),e.G=0)}function te(e,t){if(t){e.h=e.l.concat(e.h),e.l.length=0;var n=e.I-1}else n=e.I++;t=se(e);var r=M(e.H);R(r,"SID",e.M),R(r,"RID",n),R(r,"AID",e.S),ne(e,r),e.f&&e.i&&je(r,e.f,e.i),n=new L(e,e.a,0,n,e.G+1),null===e.f&&(n.h=e.i),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),Rd(e.g,n),Lc(n,r,t)}function ne(e,t){e.c&&Zc({},function(e,n){R(t,n,e)})}function se(e){var t=Math.min(e.h.length,1e3),n=e.c?r(e.c.Wa,e.c,e):null,i=e.h,o=["count="+t];if(0<t){var a=i[0].a;o.push("ofs="+a)}else a=0;for(var s=0;s<t;s++){var u=i[s].a,c=i[s].b;u-=a;try{Xd(c,o,"req"+u+"_")}catch(e){n&&n(c)}}return n=o.join("&"),e.l=e.l.concat(e.h.splice(0,t)),n}function ue(e){if(!e.b&&!e.m){e.ga=1;var t=e.Oa;Tb||Ub(),Wb||(Tb(),Wb=!0);var n=Pb,r=C.get();r.set(t,e),n.b?n.b.next=r:n.a=r,n.b=r,e.B=0}}function ve(e){return e.b||e.m?((e=e.a.a)&&F(e,"Request already in progress"),!1):!(3<=e.B||(I(e.a,"Going to retry GET"),e.ga++,e.m=xc(r(e.Oa,e),we(e,e.B)),e.B++,0))}function Jd(e,t,n){I(e.a,"Test Connection Finished");var r=t.m;r&&Qd(e.g,r),e.ka=n,e.v=t.f,I(e.a,"connectChannel_()"),e.H=xe(e,e.ja),re(e)}function Ld(e,t){I(e.a,"Test Connection Failed"),e.v=t.f,W(e,2)}function pe(e){null!=e.s&&(k.clearTimeout(e.s),e.s=null)}function we(e,t){var n=5e3+Math.floor(1e4*Math.random());return e.sa()||(I(e.a,"Inactive channel"),n*=2),n*t}function W(e,t){if(I(e.a,"Error code "+t),2==t){var n=null;e.c&&(n=null);var i=r(e.ib,e);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||ed(n,"https"),Mc(n)),Yd(""+n,i)}else K();I(e.a,"HttpChannel: error - "+t),e.D=0,e.c&&e.c.Da(e,t),oe(e),me(e)}function oe(e){if(e.D=0,e.v=-1,e.c)if(0==e.l.length&&0==e.h.length)e.c.na(e);else{I(e.a,"Number of undelivered maps, pending: "+e.l.length+", outgoing: "+e.h.length);var t=ya(e.l),n=ya(e.h);e.l.length=0,e.h.length=0,e.c.na(e,t,n)}}function xe(e,t){return t=ye(e,null,t),I(e.a,"GetForwardChannelUri: "+t),t}function Kd(e,t,n){return t=ye(e,e.fa()?t:null,n),I(e.a,"GetBackChannelUri: "+t),t}function ye(e,t,n){var r=td(n);if(""!=r.b)t&&fd(r,t+"."+r.b),gd(r,r.i);else{var i,o=k.location;i=t?t+"."+o.hostname:o.hostname,r=ud(o.protocol,i,o.port,n)}return e.ha&&Ba(e.ha,function(e,t){R(r,t,e)}),t=e.j,n=e.N,t&&n&&R(r,t,n),R(r,"VER",e.oa),ne(e,r),r}function ze(){}function Ae(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))t=r;else{var i;(i=""==t)||(i=t.length-1,i=0<=i&&t.indexOf("/",i)==i),t+=i?r:"/"+r}}return t}function Be(){if(z&&!(10<=+Va))throw Error("Environmental error: no available transport.")}function X(e,t){B.call(this),this.a=new ke(t,20),this.b=e,this.s=t&&t.testUrl?t.testUrl:Ae(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,this.a.P=t&&t.initMessageHeaders||null,(e=t&&t.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.f=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.j=t,null!==(e=this.g)&&t in e&&(e=this.g,t in e&&delete e[t],(e=this.f)&&G(e,"Ignore httpSessionIdParam also specified with messageUrlParams: "+t))),this.h=new Ce(this)}function De(e){Fd.call(this),this.data=e}function Ee(){Gd.call(this),this.status=1}function Ce(e){this.a=e}function Ge(){this.b=[],this.a=[]}function He(e){return 0==e.b.length&&(e.b=e.a,e.b.reverse(),e.a=[]),e.b.pop()}function Ie(e,t){if(w.call(this),this.h=e||0,this.c=t||10,this.h>this.c)throw Error(Je);this.a=new Ge,this.b=new Nd,this.g=null,this.aa()}function Ke(e){if("function"==typeof e.Y)e.Y();else for(var t in e)e[t]=null}function Le(e,t){this.a=e,this.b=t}function Me(e){if(this.a=[],e)e:{if(e instanceof Me){var t=e.O();if(e=e.A(),0>=this.u()){for(var n=this.a,r=0;r<t.length;r++)n.push(new Le(t[r],e[r]));break e}}else t=Da(e),e=Ca(e);for(r=0;r<t.length;r++)Ne(this,t[r],e[r])}}function Ne(e,t,n){var r=e.a;for(r.push(new Le(t,n)),t=r.length-1,n=(e=e.a)[t];0<t&&(r=t-1>>1,e[r].a>n.a);)e[t]=e[r],t=r;e[t]=n}function Oe(){Me.call(this)}function Y(e,t){this.f=new Oe,Ie.call(this,e,t)}function Z(e,t,n,r){this.l=e,this.j=!!r,Y.call(this,t,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),ea=0,t=Date.now||function(){return+new Date};u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Y=function(){if(!this.i&&(this.i=!0,this.w(),0!=qa)){var e=this[q]||(this[q]=++ea);delete ra[e]}},w.prototype.w=function(){if(this.v)for(;this.v.length;)this.v.shift()()};var sa=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,l(e))return l(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ta=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},x;e:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break e}}x=""}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;e:{var Qa="",Sa=function(){var e=x;return Ma?/rv\:([^\);]+)(\)|;)/.exec(e):La?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Na?/WebKit\/(\S+)/.exec(e):Ka?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Sa&&(Qa=Sa?Sa[1]:""),z){var Ta=Oa();if(null!=Ta&&Ta>parseFloat(Qa)){Pa=Ta+"";break e}}Pa=Qa}var Ja={},Va,Wa=k.document;Va=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;var Xa=Object.freeze||function(e){return e},Ya=!z||9<=+Va,Za=z&&!Ua("9"),$a=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return k.addEventListener("test",aa,t),k.removeEventListener("test",aa,t),e}();A.prototype.b=function(){this.Qa=!1},u(ab,A);var bb=Xa({2:"touch",3:"pen",4:"mouse"});ab.prototype.b=function(){ab.L.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Za)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var cb="closure_listenable_"+(1e6*Math.random()|0),eb=0,mb="closure_lm_"+(1e6*Math.random()|0),nb={},ob=0,Bb="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[cb]=!0,g=B.prototype,g.addEventListener=function(e,t,n,r){pb(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){xb(this,e,t,n,r)},g.dispatchEvent=function(e){var t,n=this.J;if(n)for(t=[];n;n=n.J)t.push(n);n=this.P;var r=e.type||e;if(l(e))e=new A(e,n);else if(e instanceof A)e.target=e.target||n;else{var i=e;Ga(e=new A(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Cb(a,r,!0,e)&&i}if(a=e.a=n,i=Cb(a,r,!0,e)&&i,i=Cb(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)a=e.a=t[o],i=Cb(a,r,!1,e)&&i;return i},g.w=function(){if(B.L.w.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,gb(n[r]);delete t.a[e],t.b--}}this.J=null},g.$=function(e,t,n,r){return ib(this.c,e+"",t,!1,n,r)},g.Ia=function(e,t,n,r){return ib(this.c,e+"",t,!0,n,r)},g.xa=function(e,t,n,r){var i=this.c;if((e+="")in i.a){var o=i.a[e];-1<(t=jb(o,t,n,r))?(gb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete i.a[e],i.b--),i=!0):i=!1}else i=!1;return i};var Jb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Lb=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;Mb.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var C=new Mb(function(){return new Nb},function(e){e.reset()},100);Nb.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Nb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new function(){this.b=this.a=null};u(Xb,B),g=Xb.prototype,g.Z=!1,g.K=null,g.jb=function(){if(this.Z){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.Z&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.Z=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.w=function(){Xb.L.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ea=!1,g.W=null,g.Ya=function(e){this.a=arguments,this.W?this.ea=!0:ac(this)},g.w=function(){$b.L.w.call(this),this.W&&(k.clearTimeout(this.W),this.W=null,this.ea=!1,this.a=[])},g.cb=function(){this.W=null,this.ea&&(this.ea=!1,ac(this))},u(D,w);var bc=[];D.prototype.$=function(e,t,r,i){n(t)||(t&&(bc[0]=""+t),t=bc);for(var o=0;o<t.length;o++){var a=pb(e,t[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},D.prototype.xa=function(e,t,r,i,o){if(n(t))for(var a=0;a<t.length;a++)this.xa(e,t[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=rb(r),i=!!i,(t=db(e)?lb(e.c,t+"",r,i,o):e&&(e=tb(e))?lb(e,t,r,i,o):null)&&(yb(t),delete this.a[t.key]);return this},D.prototype.w=function(){D.L.w.call(this),cc(this)},D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),this.b=n,delete this.a},E.prototype.toString=function(){return this.name};var gc=new E("SEVERE",1e3),hc=new E("WARNING",900),ic=new E("INFO",800),jc=new E("CONFIG",700),kc=new E("FINE",500);fc.prototype.log=function(e,t,n){if(e.value>=lc(this).value)for(da(t)&&(t=t()),e=new dc(e,t+"",this.f),n&&(e.a=n),n="log:"+e.b,(e=k.console)&&e.timeStamp&&e.timeStamp(n),(e=k.msWriteProfilerMark)&&e(n),n=this;n;)n=n.a};var mc={},nc=null,J=new B;u(tc,A),u(vc,A),u(wc,A);var yc={NO_ERROR:0,kb:1,rb:2,qb:3,nb:4,pb:5,sb:6,Sa:7,TIMEOUT:8,vb:9},zc={mb:"complete",zb:"success",Ta:"error",Sa:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",tb:"incrementaldata",wb:"progress",ob:"downloadprogress",Ab:"uploadprogress"};Ac.prototype.a=null;var Dc;u(Ec,Ac),Dc=new Ec;var Gc=45e3,Hc=250,Jc={},Kc={};g=L.prototype,g.setTimeout=function(e){this.P=e},g.gb=function(e){e=e.target;var t=this.G;t&&3==N(e)?(I(this.b,"Throttling readystatechange."),t.Ya()):this.Ra(e)},g.Ra=function(e){try{if(e==this.a){var t=N(this.a),n=this.a.Ga();if(!(3>t||3==t&&!Ka&&!this.a.U())){this.s||4!=t||7==n||uc(),Rc(this);var r=this.a.V();this.v=r;var i=this.a.U();if(i||I(this.b,"No response text for uri "+this.g+" status "+r),this.c=200==r,I(this.b,"XMLHTTP RESP ("+this.f+") [ attempt "+this.S+"]: "+this.j+"\n"+this.g+"\n"+t+" "+r),this.c)this.J?(Sc(this,t,i),Ka&&this.c&&3==t&&(this.M.$(this.F,"tick",this.fb),this.F.start())):(rc(this.b,this.f,i,null),Tc(this,i)),4==t&&Uc(this),this.c&&!this.s&&(4==t?this.m.wa(this):(this.c=!1,Pc(this)));else{if(400==r&&0<i.indexOf("Unknown SID")){this.i=3,K();var o=this.b.a;o&&G(o,"XMLHTTP Unknown SID ("+this.f+")")}else{this.i=0,K();var a=this.b.a;a&&G(a,"XMLHTTP Bad status "+r+" ("+this.f+")")}Uc(this),Vc(this)}}}else{var s=this.b.a;s&&G(s,"Called back with an unexpected xmlhttp")}}catch(e){I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.U()?sc(this.b,e,"ResponseText: "+this.a.U()):sc(this.b,e,"No response text")}},g.fb=function(){var e=N(this.a),t=this.a.U();this.C<t.length&&(Rc(this),Sc(this,e,t),this.c&&4!=e&&Pc(this))},g.cancel=function(){this.s=!0,Uc(this)},g.eb=function(){this.o=null;var e=t();if(0<=e-this.T)this.c&&(e=this.b.a)&&F(e,"Received watchdog timeout even though request loaded successfully"),I(this.b,"TIMEOUT: "+this.g),2!=this.I&&(uc(),K()),Uc(this),this.i=2,Vc(this);else{var n=this.b.a;n&&G(n,"WatchDog timer called too early"),Xc(this,this.T-e)}},g=O.prototype,g.u=function(){return this.c},g.A=function(){$c(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},g.O=function(){return $c(this),this.a.concat()},g.get=function(e,t){return P(this.b,e)?this.b[e]:t},g.set=function(e,t){P(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},g.forEach=function(e,t){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var cd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var e=[],t=this.f;t&&e.push(ld(t,md,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(ld(t,md,!0),"@"),e.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",n+"")),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(ld(n,"/"==n.charAt(0)?nd:od,!0))),(n=""+this.c)&&e.push("?",n),(n=this.g)&&e.push("#",ld(n,pd)),e.join("")},Q.prototype.resolve=function(e){var t=M(this),n=!!e.f;n?ed(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?fd(t,e.b):n=null!=e.i;var r=e.a;if(n)gd(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!=""+e.c,n?hd(t,id(e.c)):n=!!e.g,n&&(t.g=e.g),t};var md=/[#\/\?@]/g,od=/[\#\?:]/g,nd=/[\#\?]/g,rd=/[\#\?@]/g,pd=/#/g;g=kd.prototype,g.u=function(){return S(this),this.b},g.forEach=function(e,t){S(this),this.a.forEach(function(n,r){ta(n,function(n){e.call(t,n,r,this)},this)},this)},g.O=function(){S(this);for(var e=this.a.A(),t=this.a.O(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},g.A=function(e){S(this);var t=[];if(l(e))yd(this,e)&&(t=xa(t,this.a.get(wd(this,e))));else{e=this.a.A();for(var n=0;n<e.length;n++)t=xa(t,e[n])}return t},g.set=function(e,t){return S(this),this.c=null,e=wd(this,e),yd(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},g.get=function(e,t){return 0<(e=e?this.A(e):[]).length?e[0]+"":t},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.O(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(r+"");r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(r[o]+"")),e.push(a)}}return this.c=e.join("&")};var Ad=null;zd.prototype.set=function(e){this.a=e},zd.prototype.reset=function(){this.set(t())},zd.prototype.get=function(){return this.a},u(Cd,Bd);var Ed={OPEN:"a",lb:"b",Ta:"c",ub:"d"};u(Fd,A),u(Gd,A),g=Hd.prototype,g.R=null,g.ra=function(e){return this.a.ra(e)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ka=function(){return!1},g.Na=function(e,t){if(this.f=e.v,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.F&&(e=e.a)){var n=e.a?e.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((e=e.a?e.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.N=e:(e=this.b.a)&&G(e,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(t){try{var r=this.a.la.a.parse(t)}catch(e){return sc(this.b,e),void Ld(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ld(this.a,this)}else 1==this.R&&(this.h?K():"11111"==t?(K(),this.h=!0,(!z||10<=+Va)&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0))):(K(),this.h=!1))},g.wa=function(){this.f=this.c.v,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Id(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),K(),Jd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),K(),Jd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?K():1==this.R&&K(),Ld(this.a,this))},g.fa=function(){return this.a.fa()},g.sa=function(){return this.a.sa()},Nd.prototype.u=function(){return this.a.u()},Nd.prototype.contains=function(e){return e=T(e),P(this.a.b,e)},Nd.prototype.A=function(){return this.a.A()};var Pd=10;Od.prototype.cancel=function(){this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.A(),function(e){e.cancel()}),ad(this.a.a))},Vd.prototype.stringify=function(e){return k.JSON.stringify(e,this.a)},Vd.prototype.parse=function(e){return k.JSON.parse(e,this.b)},u(U,B);var $d="";U.prototype.b=oc("goog.net.XhrIo");var ae=/^https?$/i,be=["POST","PUT"];g=U.prototype,g.ta=function(e,t,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+e);t=t?t.toUpperCase():"GET",this.s=e,this.g="",this.j=0,this.M=t,this.H=!1,this.f=!0,this.a=Fc(this.G?this.G:Dc),this.F=Bc(this.G?this.G:Dc),this.a.onreadystatechange=r(this.Ma,this);try{H(this.b,V(this,"Opening Xhr")),this.I=!0,this.a.open(t,e+"",!0),this.I=!1}catch(e){return H(this.b,V(this,"Error opening Xhr: "+e.message)),void ce(this,e)}e=n||"";var o=new O(this.headers);i&&Zc(i,function(e,t){o.set(t,e)}),i=ua(o.O()),n=k.FormData&&e instanceof k.FormData,!(0<=sa(be,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{de(this),0<this.l&&(this.C=ee(this.a),H(this.b,V(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ja,this)):this.B=Zb(this.Ja,this.l,this)),H(this.b,V(this,"Sending request")),this.o=!0,this.a.send(e),this.o=!1}catch(e){H(this.b,V(this,"Send error: "+e.message)),ce(this,e)}},g.Ja=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,H(this.b,V(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(e){this.a&&this.f&&(H(this.b,V(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ge(this))},g.w=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),ge(this,!0)),U.L.w.call(this)},g.Ma=function(){this.i||(this.I||this.o||this.h?he(this):this.bb())},g.bb=function(){he(this)},g.V=function(){try{return 2<N(this)?this.a.status:-1}catch(e){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(e){return H(this.b,"Can not get status: "+e.message),""}},g.U=function(){try{return this.a?this.a.responseText:""}catch(e){return H(this.b,"Can not get responseText: "+e.message),""}},g.Za=function(e){if(this.a){var t=this.a.responseText;e&&0==t.indexOf(e)&&(t=t.substring(e.length));e:{if(e=t,k.JSON)try{var n=k.JSON.parse(e);break e}catch(e){}n=Eb(e)}return n}},g.Ga=function(){return this.j},g.$a=function(){return l(this.g)?this.g:this.g+""},g=ke.prototype,g.oa=8,g.D=1,g.Ka=function(){return 0==this.D},g.Pa=function(e){if(this.o=null,I(this.a,"startForwardChannel_"),1==this.D)if(e)(e=this.a.a)&&F(e,"Not supposed to retry the open");else{I(this.a,"open_()"),this.I=Math.floor(1e5*Math.random()),e=this.I++;var t=new L(this,this.a,0,e,void 0),n=this.i;this.P&&(n?(n=Ea(n),Ga(n,this.P)):n=this.P),null===this.f&&(t.h=n);var r=se(this),i=M(this.H);R(i,"RID",e),0<this.za&&R(i,"CVER",this.za),this.F&&this.j&&R(i,"X-HTTP-Session-Id",this.j),ne(this,i),this.f&&n&&je(i,this.f,n),Rd(this.g,t),this.Ua?(R(i,"$req",r),Lc(t,i,null)):Lc(t,i,r),this.D=2}else 3==this.D&&(e?te(this,e):0==this.h.length?I(this.a,"startForwardChannel_ returned: nothing to send"):Sd(this.g)?(e=this.a.a)&&F(e,"startForwardChannel_ returned: connection already in progress"):(te(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Oa=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,0,"rpc",this.ga),null===this.f&&(this.b.h=this.i),this.b.N=0;var e=M(this.ya);R(e,"RID","rpc"),R(e,"SID",this.M),R(e,"CI",this.ka?"0":"1"),R(e,"AID",this.S),ne(this,e),R(e,"TYPE","xmlhttp"),this.f&&this.i&&je(e,this.f,this.i),Oc(this.b,e,!0,this.ia),I(this.a,"New Request created")},g.Na=function(e,t){if(0!=this.D&&(this.b==e||Td(this.g,e)))if(this.v=e.v,Td(this.g,e)&&3==this.D){try{var i=this.la.a.parse(t)}catch(e){i=null}if(n(i)&&3==i.length)if(0==(t=i)[0])e:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.H+3e3<e.H))break e;pe(this),this.b.cancel(),this.b=null}else(e=this.a.a)&&G(e,"We do not have a BackChannel established");ve(this),K()}else this.Aa=t[1],0<(e=this.Aa-this.S)&&(t=t[2],I(this.a,t+" bytes (in "+e+" arrays) are outstanding on the BackChannel"),37500>t&&this.ka&&0==this.B&&!this.s&&(this.s=xc(r(this.ab,this),6e3)));else I(this.a,"Bad POST response data returned"),W(this,11)}else if(this.b==e&&pe(this),!/^[\s\xa0]*$/.test(t))for(t=i=this.la.a.parse(t),i=0;i<t.length;i++){var o=t[i];if(this.S=o[0],o=o[1],2==this.D)if("c"==o[0]){this.M=o[1],this.ia=o[2];var a=o[3];null!=a&&(this.oa=a,I(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.Ba=o,I(this.a,"SVER="+this.Ba)),this.F&&(o=e.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&Qd(this.g,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.N=o,R(this.H,this.j,o)):(o=this.a.a)&&G(o,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.D=3,this.c&&this.c.Fa(this),this.ya=Kd(this,this.ia,this.ja),ue(this)}else"stop"!=o[0]&&"close"!=o[0]||W(this,7);else 3==this.D&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?W(this,7):le(this):"noop"!=o[0]&&this.c&&this.c.Ea(this,o),this.B=0)}},g.ab=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,ve(this),K())},g.wa=function(e){if(I(this.a,"Request complete"),this.b==e){pe(this),this.b=null;var n=2}else{if(!Td(this.g,e))return;(n=this.g).b&&n.b==e?n.b=null:n.a&&n.a.contains(e)&&bd(n.a.a,T(e)),n=1}if(this.v=e.v,0!=this.D)if(e.c)1==n?(t(),J.dispatchEvent(new wc(J)),re(this),this.l.length=0):ue(this);else{var i=e.i;if(3==i||0==i&&0<this.v)I(this.a,"Not retrying due to error type");else{I(this.a,"Maybe retrying, last error: "+Ic(i,this.v));var o;if((o=1==n)&&(Sd(this.g)||this.o?((e=this.a.a)&&F(e,"Request already in progress"),o=!1):1==this.D||2==this.D||2<=this.G?o=!1:(I(this.a,"Going to retry POST"),this.o=xc(r(this.Pa,this,e),we(this,this.G)),this.G++,o=!0)),o||2==n&&ve(this))return;I(this.a,"Exceeded max number of retries")}switch(I(this.a,"Error: HTTP request failed"),i){case 1:W(this,5);break;case 4:W(this,10);break;case 3:W(this,6);break;default:W(this,2)}}},g.ib=function(e){e?I(this.a,"Successfully pinged google.com"):I(this.a,"Failed to ping google.com"),K()},g.ra=function(e){if(e&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return e=new U,e.m=this.T,e},g.sa=function(){return!!this.c&&!0},g.fa=function(){return this.T},new Cd,g=ze.prototype,g.Fa=function(){},g.Ea=function(){},g.Da=function(){},g.na=function(){},g.Wa=function(){},Be.prototype.a=function(e,t){return new X(e,t)},u(X,B),X.prototype.j=function(){this.a.c=this.h,this.o&&(this.a.T=!0);var e=this.a,t=this.s,n=this.b,r=this.g||void 0;I(e.a,"connect()"),K(),e.ja=n,e.ha=r||{},e.F&&(I(e.a,"connect() bypassed channel-test."),e.J.b=[],e.J.a=!1),I(e.a,"connectTest_()"),e.C=new Hd(e,e.a),null===e.f&&(e.C.i=e.i),n=t,e.f&&e.i&&(n=je(t,e.f,e.i)),(e=e.C).l=n,t=xe(e.a,e.l),K(),(n=e.a.J.b)?(e.g=n[0],e.R=1,Id(e)):(Qc(t,"MODE","init"),!e.a.F&&e.a.j&&Qc(t,"X-HTTP-Session-Id",e.a.j),e.c=new L(e,e.b,0,void 0,void 0),e.c.h=e.i,Oc(e.c,t,!1,null),e.R=0)},X.prototype.close=function(){le(this.a)},X.prototype.l=function(e){if(this.m){var t={};t.__data__=Fb(e),qe(this.a,t)}else qe(this.a,e)},X.prototype.w=function(){this.a.c=null,delete this.h,le(this.a),delete this.a,X.L.w.call(this)},u(De,Fd),u(Ee,Gd),u(Ce,ze),Ce.prototype.Fa=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Ce.prototype.Ea=function(e,t){this.a.dispatchEvent(new De(t))},Ce.prototype.Da=function(e,t){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Ee)},Ce.prototype.na=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Fe=ia(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},Be);Ge.prototype.u=function(){return this.b.length+this.a.length},Ge.prototype.contains=function(e){return 0<=sa(this.b,e)||0<=sa(this.a,e)},Ge.prototype.A=function(){for(var e=[],t=this.b.length-1;0<=t;--t)e.push(this.b[t]);var n=this.a.length;for(t=0;t<n;++t)e.push(this.a[t]);return e},u(Ie,w);var Je="[goog.structs.Pool] Min can not be greater than max";g=Ie.prototype,g.ca=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=He(this.a),!this.va(n));)this.aa();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.a.set(T(n),n)),n}},g.hb=function(e){return!!bd(this.b.a,T(e))&&(this.ma(e),!0)},g.ma=function(e){bd(this.b.a,T(e)),this.va(e)&&this.u()<this.c?this.a.a.push(e):Ke(e)},g.aa=function(){for(var e=this.a;this.u()<this.h;){var t=this.qa();e.a.push(t)}for(;this.u()>this.c&&0<this.a.u();)Ke(He(e))},g.qa=function(){return{}},g.va=function(e){return"function"!=typeof e.Xa||e.Xa()},g.contains=function(e){return this.a.contains(e)||this.b.contains(e)},g.u=function(){return this.a.u()+this.b.u()},g.w=function(){if(Ie.L.w.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var e=this.a;0!=e.b.length||0!=e.a.length;)Ke(He(e));delete this.a},Me.prototype.A=function(){for(var e=this.a,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].b);return t},Me.prototype.O=function(){for(var e=this.a,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].a);return t},Me.prototype.u=function(){return this.a.length},u(Oe,Me),u(Y,Ie),g=Y.prototype,g.ca=function(e,t){if(!e)return Y.L.ca.call(this);Ne(this.f,void 0!==t?t:100,e),this.ua()},g.ua=function(){for(var e=this.f;0<e.u();){var t=this.ca();if(!t)break;var n=e,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),r=0,i=(n=n.a).length;for(var a=n[r];r<i>>1;){var s=2*r+1,u=2*r+2;if(s=u<i&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[t])}},g.ma=function(e){Y.L.ma.call(this,e),this.ua()},g.aa=function(){Y.L.aa.call(this),this.ua()},g.w=function(){Y.L.w.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Z,Y),Z.prototype.qa=function(){var e=new U,t=this.l;return t&&t.forEach(function(t,n){e.headers.set(n,t)}),this.j&&(e.m=!0),e},Z.prototype.va=function(e){return!e.i&&!e.a},Be.prototype.createWebChannel=Be.prototype.a,X.prototype.send=X.prototype.l,X.prototype.open=X.prototype.j,X.prototype.close=X.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,zc.COMPLETE="complete",Dd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",B.prototype.listen=B.prototype.$,Z.prototype.getObject=Z.prototype.ca,Z.prototype.releaseObject=Z.prototype.hb,U.prototype.listenOnce=U.prototype.Ia,U.prototype.getLastError=U.prototype.$a,U.prototype.getLastErrorCode=U.prototype.Ga,U.prototype.getStatus=U.prototype.V,U.prototype.getStatusText=U.prototype.Ha,U.prototype.getResponseJson=U.prototype.Za,U.prototype.getResponseText=U.prototype.U,U.prototype.getResponseText=U.prototype.U,U.prototype.send=U.prototype.ta,module.exports={createWebChannelTransport:Fe,ErrorCode:yc,EventType:zc,WebChannel:Dd,XhrIoPool:Z}}).call("undefined"!=typeof window?window:this)}},[113])}catch(e){throw Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}define("firestore",["firebase"],function(e){return function(){var t;return t||e.firebase.firestore}}(this)),define("m_firebase",["firebase","firestore"],function(){var e={apiKey:"AIzaSyB48o8PHd85LMeQYMkYd4hR8Gu1-d8gJYs",authDomain:"connect-9109d.firebaseapp.com",databaseURL:"https://connect-9109d.firebaseio.com",storageBucket:"connect-9109d.appspot.com",messagingSenderId:"737839044422",projectId:"connect-9109d"};return firebase.initializeApp(e),firebase}),window.Template7=function(){"use strict";function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){return"undefined"!=typeof window&&window.escape?window.escape(e):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function r(e){var t,n,r,i=e.replace(/[{}#}]/g,"").split(" "),s=[];for(n=0;n<i.length;n++){var u,c,l=i[n];if(0===n)s.push(l);else if(0===l.indexOf('"')||0===l.indexOf("'"))if(u=0===l.indexOf('"')?a:o,c=0===l.indexOf('"')?'"':"'",2===l.match(u).length)s.push(l);else{for(t=0,r=n+1;r<i.length;r++)if(l+=" "+i[r],i[r].indexOf(c)>=0){t=r,s.push(l);break}t&&(n=t)}else if(l.indexOf("=")>0){var d=l.split("="),h=d[0],p=d[1];if(u||(u=0===p.indexOf('"')?a:o,c=0===p.indexOf('"')?'"':"'"),2!==p.match(u).length){for(t=0,r=n+1;r<i.length;r++)if(p+=" "+i[r],i[r].indexOf(c)>=0){t=r;break}t&&(n=t)}var f=[h,p.replace(u,"")];s.push(f)}else s.push(l)}return s}function i(t){var n,i,o=[];if(!t)return[];var a=t.split(/({{[^{^}]*}})/);for(n=0;n<a.length;n++){var s=a[n];if(""!==s)if(s.indexOf("{{")<0)o.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){o.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var u=r(s),c=u[0],l=">"===c,d=[],h={};for(i=1;i<u.length;i++){var p=u[i];e(p)?h[p[0]]="false"!==p[1]&&p[1]:d.push(p)}if(s.indexOf("{#")>=0){var f,m="",g="",y=0,v=!1,_=!1,b=0;for(i=n+1;i<a.length;i++)if(a[i].indexOf("{{#")>=0&&b++,a[i].indexOf("{{/")>=0&&b--,a[i].indexOf("{{#"+c)>=0)m+=a[i],_&&(g+=a[i]),y++;else if(a[i].indexOf("{{/"+c)>=0){if(!(y>0)){f=i,v=!0;break}y--,m+=a[i],_&&(g+=a[i])}else a[i].indexOf("else")>=0&&0===b?_=!0:(_||(m+=a[i]),_&&(g+=a[i]));v&&(f&&(n=f),o.push({type:"helper",helperName:c,contextName:d,content:m,inverseContent:g,hash:h}))}else s.indexOf(" ")>0&&(l&&(c="_partial",d[0]&&(d[0]='"'+d[0].replace(/"|'/g,"")+'"')),o.push({type:"helper",helperName:c,contextName:d,hash:h}))}}return o}var o=new RegExp("'","g"),a=new RegExp('"',"g"),s=function(e,t){function n(e,t){return e.content?s(e.content,t):function(){return""}}function r(e,t){return e.inverseContent?s(e.inverseContent,t):function(){return""}}function o(e,t){var n,r,i=0;if(0===e.indexOf("../")){i=e.split("../").length-1;var o=t.split("_")[1]-i;t="ctx_"+(o>=1?o:1),r=e.split("../")[i].split(".")}else 0===e.indexOf("@global")?(t="Template7.global",r=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="root",r=e.split("@root.")[1].split(".")):r=e.split(".");n=t;for(var a=0;a<r.length;a++){var s=r[a];0===s.indexOf("@")?a>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+e.replace("@","")+")":isFinite(s)?n+="["+s+"]":"this"===s||s.indexOf("this.")>=0||s.indexOf("this[")>=0||s.indexOf("this(")>=0?n=s.replace("this",t):n+="."+s}return n}function a(e,t){for(var n=[],r=0;r<e.length;r++)/^['"]/.test(e[r])?n.push(e[r]):/^(true|false|\d+)$/.test(e[r])?n.push(e[r]):n.push(o(e[r],t));return n.join(", ")}function s(e,t){if(t=t||1,"string"!=typeof(e=e||u.template))throw new Error("Template7: Template must be a string");var s=i(e);if(0===s.length)return function(){return""};var c="ctx_"+t,l="";l+=1===t?"(function ("+c+", data, root) {\n":"(function ("+c+", data) {\n",1===t&&(l+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",l+="function isFunction(func){return (typeof func === 'function');}\n",l+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',l+="root = root || ctx_1 || {};\n"),l+="var r = '';\n";var d;for(d=0;d<s.length;d++){var h=s[d];if("plain"!==h.type){var p,f;if("variable"===h.type&&(l+="r += c("+(p=o(h.contextName,c))+", "+c+");"),"helper"===h.type)if(h.helperName in u.helpers)f=a(h.contextName,c),l+="r += (Template7.helpers."+h.helperName+").call("+c+", "+(f&&f+", ")+"{hash:"+JSON.stringify(h.hash)+", data: data || {}, fn: "+n(h,t+1)+", inverse: "+r(h,t+1)+", root: root});";else{if(h.contextName.length>0)throw new Error('Template7: Missing helper: "'+h.helperName+'"');l+="if ("+(p=o(h.helperName,c))+") {",l+="if (isArray("+p+")) {",l+="r += (Template7.helpers.each).call("+c+", "+p+", {hash:"+JSON.stringify(h.hash)+", data: data || {}, fn: "+n(h,t+1)+", inverse: "+r(h,t+1)+", root: root});",l+="}else {",l+="r += (Template7.helpers.with).call("+c+", "+p+", {hash:"+JSON.stringify(h.hash)+", data: data || {}, fn: "+n(h,t+1)+", inverse: "+r(h,t+1)+", root: root});",l+="}}"}}else l+="r +='"+h.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return l+="\nreturn r;})",eval.call(window,l)}var u=this;u.template=e,u.compile=function(e){return u.compiled||(u.compiled=s(e)),u.compiled}};s.prototype={options:{},partials:{},helpers:{_partial:function(e,t){var n=s.prototype.partials[e];if(!n||n&&!n.template)return"";n.compiled||(n.compiled=new s(n.template).compile());var r=this;for(var i in t.hash)r[i]=t.hash[i];return n.compiled(r,t.data,t.root)},escape:function(e,t){if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return n(e)},if:function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,r){var i="",o=0;if(t(n)&&(n=n.call(this)),e(n)){for(r.hash.reverse&&(n=n.reverse()),o=0;o<n.length;o++)i+=r.fn(n[o],{first:0===o,last:o===n.length-1,index:o});r.hash.reverse&&(n=n.reverse())}else for(var a in n)o++,i+=r.fn(n[a],{key:a});return o>0?i:r.inverse(this)},with:function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimiter||n.hash.delimeter)},js:function(e,t){var n;return n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,n).call(this)},js_compare:function(e,t){var n;n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";return eval.call(this,n).call(this)?t.fn(this,t.data):t.inverse(this,t.data)}}};var u=function(e,t){if(2===arguments.length){var n=new s(e),r=n.compile()(t);return n=null,r}return new s(e)};return u.registerHelper=function(e,t){s.prototype.helpers[e]=t},u.unregisterHelper=function(e){s.prototype.helpers[e]=void 0,delete s.prototype.helpers[e]},u.registerPartial=function(e,t){s.prototype.partials[e]={template:t}},u.unregisterPartial=function(e,t){s.prototype.partials[e]&&(s.prototype.partials[e]=void 0,delete s.prototype.partials[e])},u.compile=function(e,t){return new s(e,t).compile()},u.options=s.prototype.options,u.helpers=s.prototype.helpers,u.partials=s.prototype.partials,u}(),define("template7",function(e){return function(){var t;return t||e.Template7}}(this)),define("v_view",["jquery","template7","dictionary"],function(e,t,n){function r(t){return e(t).length>0}function i(t,n,r){switch(r){case"change":e(t).html(n);break;case"end":e(t).append(n);break;case"before":e(t).before(n);break;case"after":e(t).after(n);break;default:e(t).prepend(n)}}function o(e){return t.compile(b)({View_listApps:s(e.arrListApps),View_listViews:w,View_chiefView:M})}function a(e){return t.compile(S)({apps:e})}function s(e){return t.compile(T)({listApps:a(e)})}function u(e,t){"object"==typeof L[e]&&void 0!==L[e][t]&&clearTimeout(L[e][t])}function c(e,t,n){"object"!=typeof L[e]&&(L[e]={}),L[e][t]=n}function l(t){e(".rcontent_loader .operationName").text(n.withString(t))}function d(t,n,r){"string"!=typeof n&&(n=y()),"string"!=typeof r&&(r=v()),"string"!=typeof t&&(t=_()),h(t,n,r);let i=m(n,r);e(t).append(i)}function h(t,n,r){let i=f(t,n,r);console.log("loaderPathToDom - iNid, iNloaderKey, iNloaderCode",t,n,r),console.log("loaderPathToDom - loaderPathToDom",i),e(i).remove()}function p(e,t,n,r){console.log("closeLoaderByTimeout start - ",e,t,n,r),u(n,r);let i=e||1e3,o=setTimeout(()=>{console.log("closeLoaderByTimeout in - iNid, iNloaderKey, iNloaderCode",t,n,r),h(t,n,r)},i);c(n,r,o)}function f(e,t,n){"string"!=typeof t&&(t=y()),"string"!=typeof n&&(n=v()),"string"!=typeof e&&(e=_());return`${e} ${g()}.rConnectLoaderKey_${t}[rconnect_loader_code='${n}']`}function m(e,r){let i=e,o=r,a=k[i],s=t.compile(a)({loader_key:i,loader_code:o});return n.withString(s)}function g(){return".rcontent_loader"}function y(){return"default"}function v(){return"default"}function _(){return"body"}var b="\n\t\t\t<div id='container'>\n\n\t\t      <div class='backTopLineInContainer'></div>\n\t\t      <div id='block'>\n\n\t\t      \t<div id='appsBlock'>\n\t\t      \t\t{{View_listApps}}\n\t\t      \t</div>\n\t\t\t\t<div id='menusBlock'>\n\t\t            {{View_listViews}}\n\t\t        </div>\n\t\t\t\t<div id=\"viewBlock\">\n\t\t\t\t   {{View_chiefView}}\n\t\t\t\t</div>\n\n\t\t\t  </div>\n\n\t\t\t</div>\n\t\t",w="\n\t\t\t<div class='topBlockInMenusBlock'>\n                <div id='IconUserInMenusBlock'>\n                  <a href='#'><img src='https://cdn.ramman.net/images/icons/users/noPhoto.png'></a>\n                </div>\n                <div id='UserNameInMenusBlock'>\n                  <a href='/sign' class='CML'>[system-signIn]/[system-signUp]</a>\n                </div>\n                <div class='ChoosePlaceInMenusBlock'></div>\n            </div>\n            <div class='searchBlockInMenusBlock'>\n                <form class='searchContainerInSearchBlock' class='CML'>\n                  <input type=\"text\" class='searchInputInSearchBlock' placeholder=\"Поиск...\">\n                  <input type=\"submit\" class='submitInputInSearchBlock' value=\"\">\n                </form>\n            </div>\n            <div class='usersBlockContainerInMenusBlock appLeftMenuWindow'>\n                \n            </div>\n\t\t",M='\n\t\t\t<div class="topBlockInViewBlock">\n\t\t\t   <div class="viewesInTopViewBlock">\n\t\t\t      <div id="IconUserInViewBlock"><a href="#"><img src="https://cdn.ramman.net/images/icons/apps/app_market.png"></a></div>\n\t\t\t      <div id="UserNameInViewBlock"><a href="#" class="CML" cmlk="[dictionary-name]">Название</a></div>\n\t\t\t      <div id="UserTypeInViewBlock"><a href="#" class="CML" cmlk="[dictionary-service]">Сервис</a></div>\n\t\t\t   </div>\n\t\t\t</div>\n\t\t\t<div id="viewAndChatBlockInViewBlock" class="appChiefWindow">\n\t\t\t</div>\n\t\t',T="\n\t\t\t\t<div class='bTopInAppsBlock'>\n\t\t            <img src='https://cdn.ramman.net/images/buttons/bTopInAppsBlock.png'>\n\t\t        </div>\n\t\t        <div class='AppsContainerInAppBlock'>{{listApps}}</div>\n\t\t        <div class='bBottomInAppsBlock'>\n\t\t            <img src='https://cdn.ramman.net/images/buttons/bBottomInAppsBlock.png'>\n\t\t        </div>\n\t        ",S='\n\t\t        \t{{#each apps}}\n\t\t        \t<div class=\'appBlockInAppBlock\'>\n\t\t\t        \t<div class="appsInAppBlock">\n\t\t\t\t\t\t  <img src="{{icon}}">\n\t\t\t\t\t\t  <div class="appsNameInAppsBlock CML" cmlk="{{dc}}">{{name}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{/each}}\n\t\t        ';const L={},k={};return k.default='\n\t\t\t\t<div class="rcontent_loader rConnectLoaderKey_{{loader_key}}" rconnect_loader_code="{{loader_code}}" style="width: 100%; height: 100%;">\n\t\t\t\t\t<div class="connect_centerPosition">\n\t\t\t\t\t\t<img id="rcontent_loader_image" src="https://cdn.ramman.net/images/gif/loader.min.gif">\n\t\t\t\t\t\t<div class ="CML operationName" style=" font-size: 1.5rem;">[system-load]</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',k.forMenuListKey='\n\t\t\t\t<div class="rcontent_loader rConnectLoaderKey_default" rconnect_loader_code="indexCodeOfLoader" style="width: 100%; height: 100%; background: #f2f2f2; color: rgba(0, 0, 0, 0.75); border: 1px dashed rgba(0, 179, 211, 0.5);">\n\t\t\t\t   <div class="connect_centerPosition">\n\t\t\t\t      <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n\t\t\t\t      <div class="CML operationName" style=" font-size: 1.5rem;">Загрузка</div>\n\t\t\t\t   </div>\n\t\t\t\t</div>\n\t\t\t',{d_issetDomEl:r,d_addDataToViewEl:i,initWithObj:o,_getViewListApps:s,showLoader:d,closeLoader:h,setTextInLoaderWithDictionary:l,loader_clearTimeout:u,loader_saveTimeout:c,closeLoaderByTimeout:p}}),/*!
 * sweetalert2 v6.4.2
 * Released under the MIT License.
 */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("sweetalert2",t):e.Sweetalert2=t()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null},t="swal2-",n=function(e){var n={};for(var r in e)n[e[r]]=t+e[r];return n},r=n(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","spacer","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),i=n(["success","warning","info","question","error"]),o=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n="#",r=0;r<3;r++){var i=parseInt(e.substr(2*r,2),16);n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substr(i.length)}return n},a={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},s=function(e){if("undefined"!=typeof document){var t=document.createElement("div");t.className=r.container,t.innerHTML=u;var n=document.querySelector(e.target);n||(console.warn("SweetAlert2: Can't find the target \""+e.target+'"'),n=document.body),n.appendChild(t);var i=l(),o=C(i,r.input),a=C(i,r.file),s=i.querySelector("."+r.range+" input"),c=i.querySelector("."+r.range+" output"),d=C(i,r.select),h=i.querySelector("."+r.checkbox+" input"),p=C(i,r.textarea);return o.oninput=function(){Q.resetValidationError()},o.onkeydown=function(t){setTimeout(function(){13===t.keyCode&&e.allowEnterKey&&(t.stopPropagation(),Q.clickConfirm())},0)},a.onchange=function(){Q.resetValidationError()},s.oninput=function(){Q.resetValidationError(),c.value=s.value},s.onchange=function(){Q.resetValidationError(),s.previousSibling.value=s.value},d.onchange=function(){Q.resetValidationError()},h.onchange=function(){Q.resetValidationError()},p.oninput=function(){Q.resetValidationError()},i}console.error("SweetAlert2 requires document to initialize")},u=('\n <div  role="dialog" aria-labelledby="modalTitleId" aria-describedby="modalContentId" class="'+r.modal+'" tabIndex="-1" >\n   <ul class="'+r.progresssteps+'"></ul>\n   <div class="'+r.icon+" "+i.error+'">\n     <span class="x-mark"><span class="line left"></span><span class="line right"></span></span>\n   </div>\n   <div class="'+r.icon+" "+i.question+'">?</div>\n   <div class="'+r.icon+" "+i.warning+'">!</div>\n   <div class="'+r.icon+" "+i.info+'">i</div>\n   <div class="'+r.icon+" "+i.success+'">\n     <span class="line tip"></span> <span class="line long"></span>\n     <div class="placeholder"></div> <div class="fix"></div>\n   </div>\n   <img class="'+r.image+'">\n   <h2 class="'+r.title+'" id="modalTitleId"></h2>\n   <div id="modalContentId" class="'+r.content+'"></div>\n   <input class="'+r.input+'">\n   <input type="file" class="'+r.file+'">\n   <div class="'+r.range+'">\n     <output></output>\n     <input type="range">\n   </div>\n   <select class="'+r.select+'"></select>\n   <div class="'+r.radio+'"></div>\n   <label for="'+r.checkbox+'" class="'+r.checkbox+'">\n     <input type="checkbox">\n   </label>\n   <textarea class="'+r.textarea+'"></textarea>\n   <div class="'+r.validationerror+'"></div>\n   <hr class="'+r.spacer+'">\n   <button type="button" role="button" tabIndex="0" class="'+r.confirm+'">OK</button>\n   <button type="button" role="button" tabIndex="0" class="'+r.cancel+'">Cancel</button>\n   <span class="'+r.close+'">&times;</span>\n </div>\n').replace(/(^|\n)\s*/g,""),c=function(){return document.body.querySelector("."+r.container)},l=function(){return c()?c().querySelector("."+r.modal):null},d=function(){return l().querySelectorAll("."+r.icon)},h=function(e){return c()?c().querySelector("."+e):null},p=function(){return h(r.title)},f=function(){return h(r.content)},m=function(){return h(r.image)},g=function(){return h(r.spacer)},y=function(){return h(r.progresssteps)},v=function(){return h(r.validationerror)},_=function(){return h(r.confirm)},b=function(){return h(r.cancel)},w=function(){return h(r.close)},M=function(e){var n=[_(),b()];return e&&n.reverse(),n.concat(Array.prototype.slice.call(l().querySelectorAll("button:not([class^="+t+"]), input:not([type=hidden]), textarea, select")))},T=function(e,t){return!!e.classList&&e.classList.contains(t)},S=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},L=function(e,t){if(e&&t){t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.add(t)})}},k=function(e,t){if(e&&t){t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.remove(t)})}},C=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(T(e.childNodes[n],t))return e.childNodes[n]},E=function(e,t){t||(t="block"),e.style.opacity="",e.style.display=t},D=function(e){e.style.opacity="",e.style.display="none"},I=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},A=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},x=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},O=function(e){if(!A(e))return!1;if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},N=function(){var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),P=function(){if(window.onkeydown=a.previousWindowKeyDown,a.previousActiveElement&&a.previousActiveElement.focus){var e=window.scrollX,t=window.scrollY;a.previousActiveElement.focus(),e&&t&&window.scrollTo(e,t)}},R=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},Y=function(e,t){var n=void 0;return function(){var r=function(){n=null,e()};clearTimeout(n),n=setTimeout(r,t)}},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=j({},e),H=[],U=void 0,V=function(t){var n=l()||s(t);for(var o in t)e.hasOwnProperty(o)||"extraParams"===o||console.warn('SweetAlert2: Unknown parameter "'+o+'"');n.style.width="number"==typeof t.width?t.width+"px":t.width,n.style.padding=t.padding+"px",n.style.background=t.background;var a=p(),u=f(),c=_(),h=b(),v=w();if(t.titleText?a.innerText=t.titleText:a.innerHTML=t.title.split("\n").join("<br>"),t.text||t.html){if("object"===F(t.html))if(u.innerHTML="",0 in t.html)for(var M=0;M in t.html;M++)u.appendChild(t.html[M].cloneNode(!0));else u.appendChild(t.html.cloneNode(!0));else t.html?u.innerHTML=t.html:t.text&&(u.textContent=t.text);E(u)}else D(u);t.showCloseButton?E(v):D(v),n.className=r.modal,t.customClass&&L(n,t.customClass);var T=y(),S=parseInt(null===t.currentProgressStep?Q.getQueueStep():t.currentProgressStep,10);t.progressSteps.length?(E(T),I(T),S>=t.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,n){var i=document.createElement("li");if(L(i,r.progresscircle),i.innerHTML=e,n===S&&L(i,r.activeprogressstep),T.appendChild(i),n!==t.progressSteps.length-1){var o=document.createElement("li");L(o,r.progressline),o.style.width=t.progressStepsDistance,T.appendChild(o)}})):D(T);for(var C=d(),A=0;A<C.length;A++)D(C[A]);if(t.type){var O=!1;for(var N in i)if(t.type===N){O=!0;break}if(!O)return console.error("SweetAlert2: Unknown alert type: "+t.type),!1;var P=n.querySelector("."+r.icon+"."+i[t.type]);switch(E(P),t.type){case"success":L(P,"animate"),L(P.querySelector(".tip"),"animate-success-tip"),L(P.querySelector(".long"),"animate-success-long");break;case"error":L(P,"animate-error-icon"),L(P.querySelector(".x-mark"),"animate-x-mark");break;case"warning":L(P,"pulse-warning")}}var R=m();t.imageUrl?(R.setAttribute("src",t.imageUrl),E(R),t.imageWidth?R.setAttribute("width",t.imageWidth):R.removeAttribute("width"),t.imageHeight?R.setAttribute("height",t.imageHeight):R.removeAttribute("height"),R.className=r.image,t.imageClass&&L(R,t.imageClass)):D(R),t.showCancelButton?h.style.display="inline-block":D(h),t.showConfirmButton?x(c,"display"):D(c);var Y=g();t.showConfirmButton||t.showCancelButton?E(Y):D(Y),c.innerHTML=t.confirmButtonText,h.innerHTML=t.cancelButtonText,t.buttonsStyling&&(c.style.backgroundColor=t.confirmButtonColor,h.style.backgroundColor=t.cancelButtonColor),c.className=r.confirm,L(c,t.confirmButtonClass),h.className=r.cancel,L(h,t.cancelButtonClass),t.buttonsStyling?(L(c,r.styled),L(h,r.styled)):(k(c,r.styled),k(h,r.styled),c.style.backgroundColor=c.style.borderLeftColor=c.style.borderRightColor="",h.style.backgroundColor=h.style.borderLeftColor=h.style.borderRightColor=""),!0===t.animation?k(n,r.noanimation):L(n,r.noanimation)},W=function(e,t){var n=c(),i=l();e?(L(i,r.show),L(n,r.fade),k(i,r.hide)):k(i,r.fade),E(i),n.style.overflowY="hidden",N&&!T(i,r.noanimation)?i.addEventListener(N,function e(){i.removeEventListener(N,e),n.style.overflowY="auto"}):n.style.overflowY="auto",L(document.documentElement,r.shown),L(document.body,r.shown),L(n,r.shown),q(),K(),a.previousActiveElement=document.activeElement,null!==t&&"function"==typeof t&&setTimeout(function(){t(i)})},q=function(){null===a.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(a.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=R()+"px")},G=function(){null!==a.previousBodyPadding&&(document.body.style.paddingRight=a.previousBodyPadding,a.previousBodyPadding=null)},K=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!T(document.body,r.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",L(document.body,r.iosfix)}},z=function(){if(T(document.body,r.iosfix)){var e=parseInt(document.body.style.top,10);k(document.body,r.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Q=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0===n[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var s=j({},B);switch(F(n[0])){case"string":s.title=n[0],s.html=n[1],s.type=n[2];break;case"object":j(s,n[0]),s.extraParams=n[0].extraParams,"email"===s.input&&null===s.inputValidator&&(s.inputValidator=function(e){return new Promise(function(t,n){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?t():n("Invalid email address")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+F(n[0])),!1}V(s);var u=c(),d=l();return new Promise(function(t,n){s.timer&&(d.timeout=setTimeout(function(){e.closeModal(s.onClose),n("timer")},s.timer));var i=function(e){if(!(e=e||s.input))return null;switch(e){case"select":case"textarea":case"file":return C(d,r[e]);case"checkbox":return d.querySelector("."+r.checkbox+" input");case"radio":return d.querySelector("."+r.radio+" input:checked")||d.querySelector("."+r.radio+" input:first-child");case"range":return d.querySelector("."+r.range+" input");default:return C(d,r.input)}},h=function(){var e=i();if(!e)return null;switch(s.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return s.inputAutoTrim?e.value.trim():e.value}};s.input&&setTimeout(function(){var e=i();e&&S(e)},0);for(var T=function(n){s.showLoaderOnConfirm&&e.showLoading(),s.preConfirm?s.preConfirm(n,s.extraParams).then(function(r){e.closeModal(s.onClose),t(r||n)},function(t){e.hideLoading(),t&&e.showValidationError(t)}):(e.closeModal(s.onClose),t(n))},I=function(t){var r=t||window.event,i=r.target||r.srcElement,a=_(),u=b(),c=a===i||a.contains(i),l=u===i||u.contains(i);switch(r.type){case"mouseover":case"mouseup":s.buttonsStyling&&(c?a.style.backgroundColor=o(s.confirmButtonColor,-.1):l&&(u.style.backgroundColor=o(s.cancelButtonColor,-.1)));break;case"mouseout":s.buttonsStyling&&(c?a.style.backgroundColor=s.confirmButtonColor:l&&(u.style.backgroundColor=s.cancelButtonColor));break;case"mousedown":s.buttonsStyling&&(c?a.style.backgroundColor=o(s.confirmButtonColor,-.2):l&&(u.style.backgroundColor=o(s.cancelButtonColor,-.2)));break;case"click":c&&e.isVisible()?(e.disableButtons(),s.input?function(){var t=h();s.inputValidator?(e.disableInput(),s.inputValidator(t,s.extraParams).then(function(){e.enableButtons(),e.enableInput(),T(t)},function(t){e.enableButtons(),e.enableInput(),t&&e.showValidationError(t)})):T(t)}():T(!0)):l&&e.isVisible()&&(e.disableButtons(),e.closeModal(s.onClose),n("cancel"))}},x=d.querySelectorAll("button"),N=0;N<x.length;N++)x[N].onclick=I,x[N].onmouseover=I,x[N].onmouseout=I,x[N].onmousedown=I;w().onclick=function(){e.closeModal(s.onClose),n("close")},u.onclick=function(t){t.target===u&&s.allowOutsideClick&&(e.closeModal(s.onClose),n("overlay"))};var P=_(),R=b();s.reverseButtons?P.parentNode.insertBefore(R,P):P.parentNode.insertBefore(P,R);var j=function(e,t){for(var n=M(s.focusCancel),r=0;r<n.length;r++){(e+=t)===n.length?e=0:-1===e&&(e=n.length-1);var i=n[e];if(A(i))return i.focus()}},B=function(t){var r=t||window.event,i=r.keyCode||r.which;if(-1!==[9,13,32,27].indexOf(i)){for(var o=r.target||r.srcElement,a=M(s.focusCancel),u=-1,c=0;c<a.length;c++)if(o===a[c]){u=c;break}9===i?(r.shiftKey?j(u,-1):j(u,1),r.stopPropagation(),r.preventDefault()):13===i||32===i?-1===u&&s.allowEnterKey&&(s.focusCancel?O(R,r):O(P,r)):27===i&&!0===s.allowEscapeKey&&(e.closeModal(s.onClose),n("esc"))}};a.previousWindowKeyDown=window.onkeydown,window.onkeydown=B,s.buttonsStyling&&(P.style.borderLeftColor=s.confirmButtonColor,P.style.borderRightColor=s.confirmButtonColor),e.showLoading=e.enableLoading=function(){E(g()),E(P,"inline-block"),L(P,r.loading),L(d,r.loading),P.disabled=!0,R.disabled=!0},e.hideLoading=e.disableLoading=function(){s.showConfirmButton||(D(P),s.showCancelButton||D(g())),k(P,r.loading),k(d,r.loading),P.disabled=!1,R.disabled=!1},e.getTitle=function(){return p()},e.getContent=function(){return f()},e.getInput=function(){return i()},e.getImage=function(){return m()},e.getConfirmButton=function(){return _()},e.getCancelButton=function(){return b()},e.enableButtons=function(){P.disabled=!1,R.disabled=!1},e.disableButtons=function(){P.disabled=!0,R.disabled=!0},e.enableConfirmButton=function(){P.disabled=!1},e.disableConfirmButton=function(){P.disabled=!0},e.enableInput=function(){var e=i();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!1;else e.disabled=!1},e.disableInput=function(){var e=i();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<t.length;n++)t[n].disabled=!0;else e.disabled=!0},e.recalculateHeight=Y(function(){var e=l();if(e){var t=e.style.display;e.style.minHeight="",E(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=t}},50),e.showValidationError=function(e){var t=v();t.innerHTML=e,E(t);var n=i();n&&(S(n),L(n,r.inputerror))},e.resetValidationError=function(){var t=v();D(t),e.recalculateHeight();var n=i();n&&k(n,r.inputerror)},e.getProgressSteps=function(){return s.progressSteps},e.setProgressSteps=function(e){s.progressSteps=e,V(s)},e.showProgressSteps=function(){E(y())},e.hideProgressSteps=function(){D(y())},e.enableButtons(),e.hideLoading(),e.resetValidationError();for(var H=["input","file","range","select","radio","checkbox","textarea"],q=void 0,G=0;G<H.length;G++){var K=r[H[G]],z=C(d,K);if(q=i(H[G])){for(var Q in q.attributes)if(q.attributes.hasOwnProperty(Q)){var J=q.attributes[Q].name;"type"!==J&&"value"!==J&&q.removeAttribute(J)}for(var $ in s.inputAttributes)q.setAttribute($,s.inputAttributes[$])}z.className=K,s.inputClass&&L(z,s.inputClass),D(z)}var X=void 0;!function(){switch(s.input){case"text":case"email":case"password":case"number":case"tel":(q=C(d,r.input)).value=s.inputValue,q.placeholder=s.inputPlaceholder,q.type=s.input,E(q);break;case"file":(q=C(d,r.file)).placeholder=s.inputPlaceholder,q.type=s.input,E(q);break;case"range":var e=C(d,r.range),t=e.querySelector("input"),n=e.querySelector("output");t.value=s.inputValue,t.type=s.input,n.value=s.inputValue,E(e);break;case"select":var o=C(d,r.select);if(o.innerHTML="",s.inputPlaceholder){var a=document.createElement("option");a.innerHTML=s.inputPlaceholder,a.value="",a.disabled=!0,a.selected=!0,o.appendChild(a)}X=function(e){for(var t in e){var n=document.createElement("option");n.value=t,n.innerHTML=e[t],s.inputValue===t&&(n.selected=!0),o.appendChild(n)}E(o),o.focus()};break;case"radio":var u=C(d,r.radio);u.innerHTML="",X=function(e){for(var t in e){var n=document.createElement("input"),i=document.createElement("label"),o=document.createElement("span");n.type="radio",n.name=r.radio,n.value=t,s.inputValue===t&&(n.checked=!0),o.innerHTML=e[t],i.appendChild(n),i.appendChild(o),i.for=n.id,u.appendChild(i)}E(u);var a=u.querySelectorAll("input");a.length&&a[0].focus()};break;case"checkbox":var c=C(d,r.checkbox),l=i("checkbox");l.type="checkbox",l.value=1,l.id=r.checkbox,l.checked=Boolean(s.inputValue);var h=c.getElementsByTagName("span");h.length&&c.removeChild(h[0]),(h=document.createElement("span")).innerHTML=s.inputPlaceholder,c.appendChild(h),E(c);break;case"textarea":var p=C(d,r.textarea);p.value=s.inputValue,p.placeholder=s.inputPlaceholder,E(p);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "select", "checkbox", "textarea" or "file", got "'+s.input+'"')}}(),"select"!==s.input&&"radio"!==s.input||(s.inputOptions instanceof Promise?(e.showLoading(),s.inputOptions.then(function(t){e.hideLoading(),X(t)})):"object"===F(s.inputOptions)?X(s.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+F(s.inputOptions))),W(s.animation,s.onOpen),s.allowEnterKey?j(-1,1):document.activeElement&&document.activeElement.blur(),c().scrollTop=0,"undefined"==typeof MutationObserver||U||(U=new MutationObserver(e.recalculateHeight)).observe(d,{childList:!0,characterData:!0,subtree:!0})})};return Q.isVisible=function(){return!!l()},Q.queue=function(e){H=e;var t=function(){H=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise(function(e,r){!function i(o,a){o<H.length?(document.body.setAttribute("data-swal2-queue-step",o),Q(H[o]).then(function(e){n.push(e),i(o+1,a)},function(e){t(),r(e)})):(t(),e(n))}(0)})},Q.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},Q.insertQueueStep=function(e,t){return t&&t<H.length?H.splice(t,0,e):H.push(e)},Q.deleteQueueStep=function(e){void 0!==H[e]&&H.splice(e,1)},Q.close=Q.closeModal=function(e){var t=c(),n=l();if(n){k(n,r.show),L(n,r.hide),clearTimeout(n.timeout),P();var i=function(){t.parentNode.removeChild(t),k(document.documentElement,r.shown),k(document.body,r.shown),G(),z()};N&&!T(n,r.noanimation)?n.addEventListener(N,function e(){n.removeEventListener(N,e),T(n,r.hide)&&i()}):i(),null!==e&&"function"==typeof e&&setTimeout(function(){e(n)})}},Q.clickConfirm=function(){return _().click()},Q.clickCancel=function(){return b().click()},Q.setDefaults=function(t){if(!t||"object"!==(void 0===t?"undefined":F(t)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var n in t)e.hasOwnProperty(n)||"extraParams"===n||(console.warn('SweetAlert2: Unknown parameter "'+n+'"'),delete t[n]);j(B,t)},Q.resetDefaults=function(){B=j({},e)},Q.noop=function(){},Q.version="6.4.2",Q.default=Q,Q}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2),define("m_view",["jquery","dictionary","v_view","sweetalert2"],function(e,t,n,r){function i(e){return n.d_issetDomEl(e,iNaddedData,iNwhere)}function o(e,t,r){n.d_addDataToViewEl(e,t,r)}function a(){o("body",n.initWithObj({arrListApps:c}),"change"),t.start()}function s(e,t){r(e,t,"error")}function u(e,t){r(e,t,"success")}var c=[{icon:"https://cdn.ramman.net/images/icons/apps/app_chat.png",dc:"[app-chat]",name:"Talking"},{icon:"https://cdn.ramman.net/images/icons/apps/app_market.png",dc:"[app-market]",name:"Market"},{icon:"https://cdn.ramman.net/images/icons/apps/app_onepay.png",dc:"[app-onepay]",name:"OnePay"},{icon:"https://cdn.ramman.net/images/icons/apps/app_sharepay.png",dc:"[app-sharepay]",name:"SharePay"}];return{isset:i,add:o,success:u,error:s,init:a,view:n}}),define("v_app",["jquery","template7","v_view"],function(e,t,n){function r(e){f(e);return t.compile(ve.chiefForAppInList)(e)}function i(e){f(e);return t.compile(ve.pageForAppInList)(e)}function o(t){var n='.usersBlockContainerInMenusBlock .app[app-name="'+t.app+'"] .view[view-name="'+t.page+'"]';"string"==typeof t.extra&&(n+=" "+t.extra),e(n).html(t.content)}function a(e){e.html="",o(e)}function s(t){var n='.usersBlockContainerInMenusBlock .app[app-name="'+t.app+'"] .view[view-name="'+t.page+'"]';return"string"==typeof t.extra&&(n+=" "+t.extra),e(n).length}function u(t){var n='.usersBlockContainerInMenusBlock .app[app-name="'+t.app+'"]';return"string"==typeof t.extra&&(n+=" "+t.extra),e(n).length}function c(e){var t='.usersBlockContainerInMenusBlock .app[app-name="'+e.app+'"] ';"string"==typeof e.extra&&(t+=" "+e.extra),n.d_addDataToViewEl(t,i(e),"change")}function l(e,t){var r='#viewAndChatBlockInViewBlock .viewesInWindow.app[app-name="'+e.app+'"] .view[view-name="'+e.page+'"]';"string"!=typeof e.type&&(e.type="begin"),n.d_addDataToViewEl(r,t,e.type)}function d(e){var t=".usersBlockContainerInMenusBlock";"string"==typeof e.extra&&(t+=" "+e.extra),f(e),n.d_addDataToViewEl(t,r(e),"end")}function h(e){f(e);return t.compile(ve.chiefForAppInView)(e)}function p(e){f(e);return t.compile(ve.pageForAppInView)(e)}function f(e){var t="",n="",r=e.attr;if("object"==typeof e.attr)for(var i in r)"class"==i?("string"==typeof r[i]&&(r[i]=[r[i]]),n+=" "+r[i].join(" ")):t+=i+"='"+r[i]+"'";e.class=n,e.attr=t}function m(t){var n=ye.pathAppView+' .app[app-name="'+t.app+'"] .view[view-name="'+t.page+'"]';"string"==typeof t.extra&&(n+=" "+t.extra),e(n).html(t.content)}function g(e){e.content="",m(e)}function y(t){var n=ye.pathAppView+' .app[app-name="'+t.app+'"] .view[view-name="'+t.page+'"]';return"string"==typeof t.extra&&(n+=" "+t.extra),e(n).length}function v(t){var n=ye.pathAppView+' .app[app-name="'+t.app+'"]';return"string"==typeof t.extra&&(n+=" "+t.extra),e(n).length}function _(e){var t=ye.pathAppView+' .app[app-name="'+e.app+'"] ';"string"==typeof e.extra&&(t+=" "+e.extra),n.d_addDataToViewEl(t,p(e),"end")}function b(e){var t=ye.pathAppView;"string"==typeof e.extra&&(t+=" "+e.extra),n.d_addDataToViewEl(t,h(e),"change")}function w(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+t.app+'"]').hide()}function M(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader).hide()}function T(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+t.app+'"]').remove()}function S(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+t.app+'"] .'+ye.pageNameInAppHeader).hide()}function L(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+t.app+'"]').show()}function k(t){e(ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+t.app+'"] .'+ye.pageNameInAppHeader+'[page-name="'+t.page+'"]').show()}function C(e){M(e),L(e),S(e),k(e)}function E(t){e(ye.pathAppHeader+" .topBlockInViewBlock").html(t)}function D(t){var n=ye.pathAppHeader+" .topBlockInViewBlock ."+ye.nameInAppHeader+'[app-name="'+t.app+'"]';return"string"==typeof t.page&&(n+="."+ye.pageNameInAppHeader+'[page-name="'+t.page+'"]'),e(n).length}function I(e){return t.compile(ve.appContentChiefHeader)(e)}function A(e){return t.compile(ve.pageContentChiefHeader)(e)}function x(e,t){"string"!=typeof t&&(t="end");var r=ye.pathAppHeader,i=I(e);n.d_addDataToViewEl(r,i,t)}function O(e,t){"string"!=typeof t&&(t="end"),N(e,t),C(e)}function N(e,t){"string"!=typeof t&&(t="end"),D({app:e.app})<1?x(e,t):"string"==typeof e.page&&D(e)<1&&P(e,t)}function P(e,t){"string"!=typeof t&&(t="end");var r=ye.pathAppHeader+" ."+ye.nameInAppHeader+'[app-name="'+e.app+'"]',i=A(e);n.d_addDataToViewEl(r,i,t)}function R(t){e(ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"]').hide()}function Y(t){var n='#menusBlock .topBlockInMenusBlock .menuHeaderInMenusBlock[app-name="'+t.app+'"] .appPage[view-name="'+t.page+'"]';return"string"==typeof t.extra&&(n+=" "+t.extra),e(n).length}function F(t){e(ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"]').remove()}function j(t){e(ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"] .'+ye.pageNameInMenuHeader).hide()}function B(t){e(ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"]').show()}function H(t){e(ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"] .'+ye.pageNameInMenuHeader+'[page-name="'+t.page+'"]').show()}function U(e){R(e),B(e),j(e),H(e)}function V(t){e(ye.pathMenuHeader).html(t)}function W(e,t){"string"!=typeof t&&(t="end"),q(e,t),U(e)}function q(e,t){"string"!=typeof t&&(t="end"),K({app:e.app})<1?Q(e,t):"string"==typeof e.page&&K(e)<1&&J(e,t)}function G(e){return t.compile(ve.appContentMenuHeader)(e)}function K(t){var n=ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+t.app+'"]';return"string"==typeof t.page&&(n+="."+ye.pageNameInMenuHeader+'[page-name="'+t.page+'"]'),e(n).length}function z(e){return t.compile(ve.pageContentMenuHeader)(e)}function Q(e,t){"string"!=typeof t&&(t="end");var r=ye.pathMenuHeader,i=G(e);n.d_addDataToViewEl(r,i,t)}function J(e,t){"string"!=typeof t&&(t="end");var r=ye.pathMenuHeader+" ."+ye.nameInMenuHeader+'[app-name="'+e.app+'"]',i=z(e);n.d_addDataToViewEl(r,i,t)}function $(t,n){var r,i;r="string"!=typeof n||"chief"==n?"#viewWindow .app":".usersBlockContainerInMenusBlock .app","object"==typeof t&&1==Array.isArray(t)||(t=[t]);for(var o in t)i=t[o],e(r+'[app-name="'+i+'"]').show()}function X(t,n){var r,i,o;"string"==typeof n&&"chief"!=n||(r="#viewWindow .app"),"string"!=typeof t&&"object"!=typeof t?t="all":r=".usersBlockContainerInMenusBlock .app","object"==typeof t&&1==Array.isArray(t)||(t=[t]);for(var a in t)o=r,"all"!=(i=t[a])&&(o+='[app-name="'+i+'"]'),e(o).hide()}function Z(t,n){var r,i,o;"string"==typeof n&&"chief"!=n||(r="#viewWindow .app"),"string"!=typeof t&&"object"!=typeof t?t="all":r=".usersBlockContainerInMenusBlock .app","object"==typeof t&&1==Array.isArray(t)||(t=[t]);for(var a in t)o=r,"all"!=(i=t[a])&&(o+='[app-name="'+i+'"]'),e(o).remove()}function ee(t,n,r){var i,o,a;$(t,r),i="string"!=typeof r||"chief"==r?"#viewWindow .app":".usersBlockContainerInMenusBlock .app","object"==typeof n&&1==Array.isArray(n)||(n=[n]);for(var s in n)a=n[s],e(i+'[app-name="'+o+'"] .view[view-name="'+a+'"]').show()}function te(e){"string"==typeof e.type&&"list"==e.type||(e.type="chief"),ee(e.app,e.page,e.type)}function ne(e){"string"==typeof e.type&&"list"==e.type||(e.type="chief"),$(e.app,e.type)}function re(t,n,r){var i,o,a,s;X(t,r),"string"==typeof r&&"chief"!=r||(i="#viewWindow .app"),"string"!=typeof n||"object"==typeof n?n="all":i=".usersBlockContainerInMenusBlock .app","object"==typeof n&&1==Array.isArray(n)||(n=[n]),i+='[app-name="'+o+'"] .view';for(var u in n)s=i,"all"!=(a=n[u])&&(s+='[view-name="'+a+'"]'),e(s).hide()}function ie(e){return"object"==typeof e.templates&&e.templates}function oe(e){var t=ie(e);return"object"==typeof t.page&&t.page}function ae(e,t){var n=oe(e);return"object"==typeof n.menu&&void 0!==n.menu[t]&&n.menu[t]}function se(e,t){var n=oe(e);return"object"==typeof n.view&&void 0!==n.view[t]&&n.view[t]}function ue(e,t){var n=ie(e);return"object"==typeof n.app&&void 0!==pageTemplate.app[t]&&n.app}function ce(e,t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),n.setAttribute("class",t),document.head.appendChild(n)}function le(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.setAttribute("class",t),document.getElementsByTagName("head")[0].appendChild(n)}function de(t){e("."+t).remove()}function he(t,n){void 0===n&&(n="slow"),e(t).animate({scrollTop:e(t)[0].scrollHeight},n)}function pe(){n.showLoader("#viewBlock")}function fe(){n.closeLoader("#viewBlock")}function me(){n.showLoader("#menusBlock")}function ge(){n.closeLoader("#menusBlock")}let ye={pathAppHeader:"#block #viewBlock .topBlockInViewBlock",pathAppView:"#block #viewBlock #viewAndChatBlockInViewBlock.appChiefWindow",nameInAppHeader:"appHeaderInChiefBlock",pageNameInAppHeader:"appPage",pathMenuHeader:"#block #menusBlock .topBlockInMenusBlock",nameInMenuHeader:"menuHeaderInMenusBlock",pageNameInMenuHeader:"appPage"};var ve={};return ve.chiefForAppInList="\n\t\t\t<div class='app' app-name='{{app}}'>\n\t\t\t  {{#if page}}\n\t\t          <div class='view' view-name='{{page}}'>\n\t\t          \t{{content}}\n\t\t          </div>\n\t          {{/if}}\n\t          {{other}}\n\t        </div>\n\t    ",ve.pageForAppInList="\n\t    \t\t{{before}}\n\t    \t\t<div class='view {{class}}' view-name='{{page}}' {{attr}}>\n\t\t          \t{{content}}\n\t\t        </div>\n\t\t        {{after}}\n\t    ",ve.appContentChiefHeader='\n\t\t\t\t<div class="'+ye.nameInAppHeader+'" app-name="{{app}}">\n\t\t\t\t\t{{#if page}}\n\t\t\t\t\t\t<div class=\''+ye.pageNameInAppHeader+'\' page-name="{{page}}">\n\t\t\t\t\t\t\t{{content}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t{{other}}\n\t\t\t\t\t{{/if}}\n\t\t\t\t</div>\n\t\t    ',ve.pageContentChiefHeader="\n\t\t\t\t\t<div class='"+ye.pageNameInAppHeader+'\' page-name="{{page}}">\n\t\t\t\t\t\t{{content}}\n\t\t\t\t\t</div>\n\t\t\t    ',ve.appContentMenuHeader='\n\t\t\t\t<div class="'+ye.nameInMenuHeader+'" app-name="{{app}}">\n\t\t\t\t\t{{#if page}}\n\t\t\t\t\t\t<div class=\''+ye.pageNameInMenuHeader+'\' page-name="{{page}}">\n\t\t\t\t\t\t\t{{content}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t{{other}}\n\t\t\t\t\t{{/if}}\n\t\t\t\t</div>\n\t\t    ',ve.pageContentMenuHeader="\n\t\t\t\t\t<div class='"+ye.pageNameInMenuHeader+'\'  page-name="{{page}}">\n\t\t\t\t\t    {{content}}\n\t\t\t\t\t</div>\n\t\t\t    ',ve.chiefForAppInView="\n\t\t\t<div class='viewesInWindow app {{class}}' app-name='{{app}}' {{attr}}>\n\t\t\t\t  {{other}}\n\t\t\t</div>\n\t\t",ve.pageForAppInView="\n\t          <div class='view {{class}}' view-name='{{page}}' {{attr}}>\n\t          \t{{content}}{{other}}\n\t          </div>\n\t    ",{delLoaderInMenuView:ge,createLoaderInMenuView:me,delLoaderInAppView:fe,createLoaderInAppView:pe,delLoader:n.closeLoader,createLoader:n.showLoader,getAppTemplate:ue,getPageViewTemplate:se,getPageMenuTemplate:ae,getListApp:r,getPageForListApp:i,d_updatePageInListApp:o,d_clearPageInListApp:a,d_checkPageInListApp:s,d_checkListApp:u,d_createPageInListApp:c,d_createListApp:d,getChiefApp:h,getPageForChiefApp:p,d_updatePageInChiefApp:m,d_clearPageInChiefApp:g,d_checkPageInChiefApp:y,d_checkChiefApp:v,d_createPageInChiefApp:_,d_createChiefApp:b,addContentToChiefApp:l,d_showApps:$,d_hideApps:X,d_removeApps:Z,d_showPages:ee,d_hidePages:re,d_viewPage:te,d_viewApp:ne,d_addPageMenuHeaderByTemplate:J,d_addAppMenuHeaderByTemplate:Q,safeViewAppHeaderWithContent:O,safeAddAppHeader:N,getPageMenuHeader:z,getAppMenuHeader:G,d_setMenuHeader:V,d_viewMenuPageHeader:U,d_showMenuPageHeader:H,d_showMenuHeader:B,d_hideMenuPagesHeader:j,d_hideMenuHeader:R,d_removeMenuHeader:F,d_checkMenuHeader:Y,d_addPageAppHeaderByTemplate:P,d_addAppHeaderByTemplate:x,safeViewMenuHeaderWithContent:W,safeAddAppMenuHeader:q,getPageAppHeader:A,getAppHeader:I,d_setAppHeader:E,d_viewAppPageHeader:C,d_showAppPageHeader:k,d_showAppHeader:L,d_hideAppPagesHeader:S,d_hideAppHeader:w,d_removeAppHeader:T,d_loadCSS:ce,d_loadJS:le,d_removeByClass:de,effScrollToButtom:he}}),define("m_app",["v_app","jquery","v_view"],function(e,t,n){function r(){return(new Date).getTime()/1e3}function i(){return(new Date).getTime()}function o(){return localStorage}function a(){for(var e={},t=o(),n=0;n<t.length;n++){var r=t.key(n),i=t.getItem(r);e[r]=i}return JSON.stringify(e)}function s(e){return window.connectTempLocalStorage}function u(){window.connectTempLocalStorage=o()||{}}function c(e,t){return re("m_routing").getUserDomain()&&l(e,t),d(e,t)}function l(e,t){return window.connectTempLocalStorage[e]=t}function d(e,t){return localStorage.setItem(e,t)}function h(e){return f(e)}function p(e){return window.connectTempLocalStorage[e]}function f(e){return localStorage.getItem(e)}function m(e){localStorage.removeItem(e)}function g(){v(),y()}function y(e){localStorage.clear()}function v(e){window.connectTempLocalStorage={}}function _(e,n){t.getScript(e,n)}function b(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function w(e){return Object.keys(e)[0]}function M(e){return Object.keys(e)}/*!>>> json object  */
function T(e,n){t("<source>").attr("src",n).appendTo(e)}function S(e){var n=t("<audio />",{autoPlay:"autoplay"});T(n,e),n.appendTo("body")}function L(e){window.rammanNowOpenedApp=e}function k(e,t){window[this.prefixForApp_+"-"+e+"-"+this.openPageName_]=t}function C(e){return window[this.prefixForApp_+"-"+e+"-"+this.openPageName_]||!1}function E(){return window.rammanNowOpenedApp||!1}function D(e){if("string"==typeof e&&0!=E()&&"function"==typeof E()[e]){(0,E()[e])()}return E()}function I(e,t){var n=e,r=this.prefixForApp_+"-",i=t;if("object"==typeof window[r+n]&&void 0!==window[r+n][i])switch(typeof window[r+n][i]){case"function":var o=window[r+n][i]();return void 0===o||o;default:return window[r+n][i]}return!1}function A(e,t,r){n.d_hidePages(e,t,r)}function x(e,t,r){n.d_showPages(e,t,r)}function O(e,t){n.d_showApps(e,t)}function N(e,t){n.d_hideApps(e,t)}function P(t,n,r){e.d_openPage(t,n,r)}function R(t,n,r){if(Y(n))C(t.app)!=t.page&&"function"==typeof n.onUpdate&&n.onUpdate(r);else{if("function"!=typeof n.onCreate){var i=J(n);0!=i&&(t.attr=i),"function"==typeof n.getTemplate&&n.getTemplate(t),e.d_createChiefApp(t)}else n.onCreate(r,t);n.onInit(r)}}function Y(t){return"function"!=typeof t.isApp?e.d_checkChiefApp({app:t.name})>0:t.isApp()}function F(t,n){var r=W(t,n),i={app:t.name,page:n};return"function"!=typeof r.isPage?e.d_checkPageInChiefApp(i)>0:r.isPage()}function j(t,n){if(n.app!=E().name){var r=W(E(),C(E().name));0!=r&&("function"==typeof r.onDisappear&&r.onDisappear(),"function"==typeof r.onOut&&r.onOut(),"function"==typeof r.onHide?r.onHide():e.d_hidePages(E().name,C(E().name))),D("onDisappear"),D("onOut"),"function"==typeof E().onHide?E().onHide():e.d_hideApps(E().name),"function"==typeof t.onIn&&t.onIn(),t.onAppear()}else if(C(n.app)!=n.page){var i=W(t,C(E().name));0!=i&&"function"==typeof i.onDisappear&&i.onDisappear(),"function"==typeof i.onHide?i.onHide():e.d_hidePages(n.app,C(n.app))}}function B(t,n,r,i){var o=W(t,r.page);if(F(t,r.page))"function"==typeof o.onUpdate?o.onUpdate(i,r):e.d_updatePageInChiefApp(r);else{var a=z(t,n.page);0!=a&&(r.attr=a),"function"==typeof o.getTemplate&&o.getTemplate(r),"function"==typeof o.onCreate?o.onCreate():e.d_createPageInChiefApp(r),"function"==typeof o.onInit&&o.onInit(i,r)}"function"!=typeof o.setPage?k(n.app,n.page):o.setPage(i,r),"function"==typeof o.onAppear&&o.onAppear(i,r),"function"!=typeof o.onView?e.d_viewPage(r):o.onView(i,r)}function H(t,n,r,i){if("object"!=typeof n)return!1;if("function"!=typeof n.onLoader?e.createLoader():n.onLoader(r,a),n.name!=t.app||"object"!=typeof n.pages[t.page])return!1;if("function"==typeof n.onAccess&&!n.onAccess(r,a))return!1;var o,a,s;o={app:t.app,page:t.page},"string"==typeof t.extra&&(o.extra=t.extra),a=ee(o),s=ee(o),"string"==typeof t.other&&(a.other=t.other),"string"==typeof t.content&&(a.content=t.content),"string"==typeof t.page&&(a.page=t.page),R(a,n,r),j(n,t),"function"!=typeof n.onView?e.d_viewApp(a):n.onView(r,a),"function"!=typeof n.setApp?L(n):n.setApp(r,t),n.onAppear(r,r),B(n,t,s,r),"function"==typeof i&&i()}function U(t,n,r){var i,o,a,s;"string"==typeof t.extra&&(i.extra=t.extra),o=e.d_checkListApp(i),a={app:t.app},"string"==typeof t.other&&(a.other=t.other),"string"==typeof t.page&&(a.page=t.page),o<1&&e.d_createPageInListApp(a),"string"==typeof t.page&&(s={page:t.page,app:t.app},pagesMenusAttr=q(n,t.page),0!=pagesMenusAttr&&(s.attr=pagesMenusAttr),"string"==typeof t.content&&(s.content=t.content),e.d_checkPageInListApp(s)<1&&e.d_createPageInListApp(s)),"function"==typeof r&&r()}function V(e,t){var n=K(e,t);return 0!=n&&"object"==typeof n.menus&&n.menus}function W(e,t){var n=K(e,t);return 0!=n&&"object"==typeof n.functions&&n.functions}function q(e,t){var n=V(e,t);return 0!=n&&"object"==typeof n.attr&&e.pages[t].menus.attr}function G(e){return"object"==typeof e&&"object"==typeof e.pages&&e.pages}function K(e,t){var n=G(e);return 0!=n&&"object"==typeof n[t]&&n[t]}function z(e,t){var n=K(e,t);return 0!=n&&"object"==typeof n.attr&&n.attr}function Q(e){return"object"==typeof e&&"object"==typeof e.options&&e.options}function J(e){var t=Q(e);return 0!=t&&"object"==typeof t.attr&&t.attr}function $(e,t,n,r){H(e,t,n,function(){"function"==typeof r&&r()})}function X(t,n){e.createLoader(),U(t,function(){"function"==typeof n&&n(),e.createLoader()})}function Z(e,t){var n=getAppByName(e);n.onDisappear(),n.onClose()}function ee(e){if(null==e||"object"!=typeof e&&"array"!=typeof e)return e;if(1==Array.isArray(e))return e.slice();var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function te(e){return void 0!==window[ce+e]&&window[ce+e]}function ne(e){void 0===window[le+e.name]&&"object"==typeof e&&"string"==typeof e.name&&(window[ce+e.name]=e)}function re(e){return void 0!==window[le+e]&&window[le+e]}function ie(e,t){void 0===window[le+e]&&"object"==typeof t&&"string"==typeof e&&(window[le+e]=t)}function oe(e){return"object"==typeof window.GF&&"function"==typeof window.GF[e]&&(window.GF[e](),!0)}function ae(e,t){return"object"!=typeof window.GF&&(window.GF={}),window.GF[e]=t,!0}const se={view:e};window.connectTempLocalStorage={},se.getSec=r,se.getTime=i,se.getLocalStorage=o,se.getStringOfLocalStorage=a,se.getTempStorage=s,se.storage_copyLocalToTemp=u,se.save=c,se.saveTempStorage=l,se.saveLocalStorage=d,se.get=h,se.getFromTempStorageByKey=p,se.getFromLocalStorageByKey=f,se.del=m,se.clear=g,se.clearLocalStorage=y,se.clearTempStorage=v,se.addScript=_,se.forEach=b,se.getJsonKey=w,se.getJsonKeys=M,se.addSource=T,se.playSound=S;const ue="global-",ce=ue+"rammanApp-",le=ue+"var-";se.setApp=L,se.setPage=k,se.thisPage=C,se.thisApp=E,se.invokeOpenedApp=D,se.invokeApp=I,se.d_hidePages=A,se.d_showPages=x,se.d_showApps=O,se.d_hideApps=N,se.d_openPage=P;return se.readyChiefApp=H,se.readyListApp=U,se.openChiefApp=$,se.openListApp=X,se.closeApp=Z,se.clone=ee,se.getGlobalApp=te,se.setGlobalApp=ne,se.getGlobalVar=re,se.setGlobalVar=ie,se.globalFunctions_invoke=oe,se.globalFunctions_create=ae,se}),function(){"use strict";var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(n){function r(){!e&&this._init&&this._init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)if("function"==typeof n[a]&&"function"==typeof i[a])o[a]=function(e,t){return function(){var n=this._super;this._super=function(t){return i[e].apply(this,t||[])};var r=t.apply(this,arguments);return this._super=n,r}}(a,n[a]);else if("object"==typeof n[a]&&"object"==typeof i[a]&&"defaultOptions"===a){var s,u=i[a],c=n[a],l={};for(s in u)l[s]=u[s];for(s in c)l[s]=c[s];o[a]=l}else o[a]=n[a];return r.prototype=o,r.prototype.constructor=r,r.extend=t,r}}(),/*! Abstract base class for collection plugins v1.0.2.
    Written by Keith Wood (wood.keith{at}optusnet.com.au) December 2013.
    Licensed under the MIT license (http://keith-wood.name/licence.html). */
function($){"use strict";function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},deepMerge:!0,_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var n=Array.prototype.slice.call(arguments,1),r=this,i=this;return this.each(function(){if("string"==typeof t){if("_"===t[0]||!$[e][t])throw"Unknown method: "+t;var o=$[e][t].apply($[e],[this].concat(n));if(o!==r&&void 0!==o)return i=o,!1}else $[e]._attach(this,t)}),i}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_attach:function(e,t){if(!(e=$(e)).hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend(this.deepMerge,{},this.defaultOptions,this._getMetadata(e),t||{});var n=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,n),this._postAttach(e,n),this.option(e,t)}},_instSettings:function(e,t){return{}},_postAttach:function(e,t){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/(\\?)'/g,function(e,t){return t?"'":'"'}).replace(/([a-zA-Z0-9]+):/g,function(e,t,n){var r=data.substring(0,n).match(/"/g);return r&&r.length%2!=0?t+":":'"'+t+'":'}).replace(/\\:/g,":"),data=$.parseJSON("{"+data+"}");for(var key in data)if(data.hasOwnProperty(key)){var value=data[key];"string"==typeof value&&value.match(/^new Date\(([-0-9,\s]*)\)$/)&&(data[key]=eval(value))}return data}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,n){var r=(e=$(e)).data(this.name),i=t||{};return!t||"string"==typeof t&&void 0===n?(i=(r||{}).options)&&t?i[t]:i:void(e.hasClass(this._getMarker())&&("string"==typeof t&&(i={},i[t]=n),this._optionsChanged(e,r,i),$.extend(r.options,i)))},_optionsChanged:function(e,t,n){},destroy:function(e){(e=$(e)).hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(e,t){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var n=camelCase(t.name);JQClass.classes[n]=JQClass.classes[e].extend(t),new JQClass.classes[n]}}}(jQuery),define("jquery.plugin",["jquery"],function(e){return function(){var t;return t||e.JQClass}}(this)),function(e){"use strict";var t="countdown",n=0,r=1,i=2,o=3,a=4,s=5,u=6;e.JQPlugin.createPlugin({name:t,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_rtlClass:t+"-rtl",_sectionClass:t+"-section",_amountClass:t+"-amount",_periodClass:t+"-period",_rowClass:t+"-row",_holdingClass:t+"-holding",_showClass:t+"-show",_descrClass:t+"-descr",_timerElems:[],_init:function(){function t(e){var s=e<1e12?i?window.performance.now()+window.performance.timing.navigationStart:r():e||r();s-a>=1e3&&(n._updateElems(),a=s),o(t)}var n=this;this._super(),this._serverSyncs=[];var r="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},i=window.performance&&"function"==typeof window.performance.now,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,a=0;!o||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,e.countdown._timer=setInterval(function(){n._updateElems()},1e3)):(a=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||r(),o(t))},UTCDate:function(e,t,n,r,i,o,a,s){"object"==typeof t&&t instanceof Date&&(s=t.getMilliseconds(),a=t.getSeconds(),o=t.getMinutes(),i=t.getHours(),r=t.getDate(),n=t.getMonth(),t=t.getFullYear());var u=new Date;return u.setUTCFullYear(t),u.setUTCDate(1),u.setUTCMonth(n||0),u.setUTCDate(r||1),u.setUTCHours(i||0),u.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),u.setUTCSeconds(a||0),u.setUTCMilliseconds(s||0),u},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},resync:function(){var t=this;e("."+this._getMarker()).each(function(){var n=e.data(this,t.name);if(n.options.serverSync){for(var r=null,i=0;i<t._serverSyncs.length;i++)if(t._serverSyncs[i][0]===n.options.serverSync){r=t._serverSyncs[i];break}if(t._eqNull(r[2])){var o=e.isFunction(n.options.serverSync)?n.options.serverSync.apply(this,[]):null;r[2]=(o?(new Date).getTime()-o.getTime():0)-r[1]}n._since&&n._since.setMilliseconds(n._since.getMilliseconds()+r[2]),n._until.setMilliseconds(n._until.getMilliseconds()+r[2])}});for(var n=0;n<t._serverSyncs.length;n++)t._eqNull(t._serverSyncs[n][2])||(t._serverSyncs[n][1]+=t._serverSyncs[n][2],delete t._serverSyncs[n][2])},_instSettings:function(e,t){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(e){this._hasElem(e)||this._timerElems.push(e)},_hasElem:function(t){return e.inArray(t,this._timerElems)>-1},_removeElem:function(t){this._timerElems=e.map(this._timerElems,function(e){return e===t?null:e})},_updateElems:function(){for(var e=this._timerElems.length-1;e>=0;e--)this._updateCountdown(this._timerElems[e])},_optionsChanged:function(t,n,r){r.layout&&(r.layout=r.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,r);var i=n.options.timezone!==r.timezone;e.extend(n.options,r),this._adjustSettings(t,n,!this._eqNull(r.until)||!this._eqNull(r.since)||i);var o=new Date;(n._since&&n._since<o||n._until&&n._until>o)&&this._addElem(t[0]),this._updateCountdown(t,n)},_updateCountdown:function(t,n){if(t=t.jquery?t:e(t),n=n||this._getInst(t)){if(t.html(this._generateHTML(n)).toggleClass(this._rtlClass,n.options.isRTL),"pause"!==n._hold&&e.isFunction(n.options.onTick)){var r="lap"!==n._hold?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date);1!==n.options.tickInterval&&this.periodsToSeconds(r)%n.options.tickInterval!=0||n.options.onTick.apply(t[0],[r])}if("pause"!==n._hold&&(n._since?n._now.getTime()<n._since.getTime():n._now.getTime()>=n._until.getTime())&&!n._expiring){if(n._expiring=!0,this._hasElem(t[0])||n.options.alwaysExpire){if(this._removeElem(t[0]),e.isFunction(n.options.onExpiry)&&n.options.onExpiry.apply(t[0],[]),n.options.expiryText){var i=n.options.layout;n.options.layout=n.options.expiryText,this._updateCountdown(t[0],n),n.options.layout=i}n.options.expiryUrl&&(window.location=n.options.expiryUrl)}n._expiring=!1}else"pause"===n._hold&&this._removeElem(t[0])}},_resetExtraLabels:function(e,t){var n=null;for(n in t)n.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[n]=t[n]);for(n in e)n.match(/[Ll]abels[02-9]|compactLabels1/)&&void 0===t[n]&&(e[n]=null)},_eqNull:function(e){return void 0===e||null===e},_adjustSettings:function(t,n,r){for(var i=null,o=0;o<this._serverSyncs.length;o++)if(this._serverSyncs[o][0]===n.options.serverSync){i=this._serverSyncs[o][1];break}var a=null,s=null;if(this._eqNull(i)){var u=e.isFunction(n.options.serverSync)?n.options.serverSync.apply(t[0],[]):null;a=new Date,s=u?a.getTime()-u.getTime():0,this._serverSyncs.push([n.options.serverSync,s])}else a=new Date,s=n.options.serverSync?i:0;var c=n.options.timezone;c=this._eqNull(c)?-a.getTimezoneOffset():c,(r||!r&&this._eqNull(n._until)&&this._eqNull(n._since))&&(n._since=n.options.since,this._eqNull(n._since)||(n._since=this.UTCDate(c,this._determineTime(n._since,null)),n._since&&s&&n._since.setMilliseconds(n._since.getMilliseconds()+s)),n._until=this.UTCDate(c,this._determineTime(n.options.until,a)),s&&n._until.setMilliseconds(n._until.getMilliseconds()+s)),n._show=this._determineShow(n)},_preDestroy:function(e,t){this._removeElem(e[0]),e.empty()},pause:function(e){this._hold(e,"pause")},lap:function(e){this._hold(e,"lap")},resume:function(e){this._hold(e,null)},toggle:function(t){this[(e.data(t,this.name)||{})._hold?"resume":"pause"](t)},toggleLap:function(t){this[(e.data(t,this.name)||{})._hold?"resume":"lap"](t)},_hold:function(t,n){var r=e.data(t,this.name);if(r){if("pause"===r._hold&&!n){r._periods=r._savePeriods;var i=r._since?"-":"+";r[r._since?"_since":"_until"]=this._determineTime(i+r._periods[0]+"y"+i+r._periods[1]+"o"+i+r._periods[2]+"w"+i+r._periods[3]+"d"+i+r._periods[4]+"h"+i+r._periods[5]+"m"+i+r._periods[6]+"s"),this._addElem(t)}r._hold=n,r._savePeriods="pause"===n?r._periods:null,e.data(t,this.name,r),this._updateCountdown(t,r)}},getTimes:function(t){var n=e.data(t,this.name);return n?"pause"===n._hold?n._savePeriods:n._hold?this._calculatePeriods(n,n._show,n.options.significant,new Date):n._periods:null},_determineTime:function(e,t){var n=this,r=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t},i=function(e){e=e.toLowerCase();for(var t=new Date,r=t.getFullYear(),i=t.getMonth(),o=t.getDate(),a=t.getHours(),s=t.getMinutes(),u=t.getSeconds(),c=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,l=c.exec(e);l;){switch(l[2]||"s"){case"s":u+=parseInt(l[1],10);break;case"m":s+=parseInt(l[1],10);break;case"h":a+=parseInt(l[1],10);break;case"d":o+=parseInt(l[1],10);break;case"w":o+=7*parseInt(l[1],10);break;case"o":i+=parseInt(l[1],10),o=Math.min(o,n._getDaysInMonth(r,i));break;case"y":r+=parseInt(l[1],10),o=Math.min(o,n._getDaysInMonth(r,i))}l=c.exec(e)}return new Date(r,i,o,a,s,u,0)},o=this._eqNull(e)?t:"string"==typeof e?i(e):"number"==typeof e?r(e):e;return o&&o.setMilliseconds(0),o},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var c=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);var l=!1,d=0,h=t.options.significant,p=e.extend({},t._show),f=null;for(f=n;f<=u;f++)l=l||"?"===t._show[f]&&t._periods[f]>0,p[f]="?"!==t._show[f]||l?t._show[f]:null,d+=p[f]?1:0,h-=t._periods[f]>0?1:0;var m=[!1,!1,!1,!1,!1,!1,!1];for(f=u;f>=n;f--)t._show[f]&&(t._periods[f]?m[f]=!0:(m[f]=h>0,h--));var g=t.options.compact?t.options.compactLabels:t.options.labels,y=t.options.whichLabels||this._normalLabels,v=function(e){var n=t.options["compactLabels"+y(t._periods[e])];return p[e]?c._translateDigits(t,t._periods[e])+(n?n[e]:g[e])+" ":""},_=t.options.padZeroes?2:1,b=function(e){var n=t.options["labels"+y(t._periods[e])];return!t.options.significant&&p[e]||t.options.significant&&m[e]?'<span class="'+c._sectionClass+'"><span class="'+c._amountClass+'">'+c._minDigits(t,t._periods[e],_)+'</span><span class="'+c._periodClass+'">'+(n?n[e]:g[e])+"</span></span>":""};return t.options.layout?this._buildLayout(t,p,t.options.layout,t.options.compact,t.options.significant,m):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+v(n)+v(r)+v(i)+v(o)+(p[a]?this._minDigits(t,t._periods[a],2):"")+(p[s]?(p[a]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[s],2):"")+(p[u]?(p[a]||p[s]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[u],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||d)+(t._hold?" "+this._holdingClass:"")+'">'+b(n)+b(r)+b(i)+b(o)+b(a)+b(s)+b(u))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,c,l,d,h,p){for(var f=t.options[d?"compactLabels":"labels"],m=t.options.whichLabels||this._normalLabels,g=function(e){return(t.options[(d?"compactLabels":"labels")+m(t._periods[e])]||f)[e]},y=function(e,n){return t.options.digits[Math.floor(e/n)%10]},v={desc:t.options.description,sep:t.options.timeSeparator,yl:g(n),yn:this._minDigits(t,t._periods[n],1),ynn:this._minDigits(t,t._periods[n],2),ynnn:this._minDigits(t,t._periods[n],3),y1:y(t._periods[n],1),y10:y(t._periods[n],10),y100:y(t._periods[n],100),y1000:y(t._periods[n],1e3),ol:g(r),on:this._minDigits(t,t._periods[r],1),onn:this._minDigits(t,t._periods[r],2),onnn:this._minDigits(t,t._periods[r],3),o1:y(t._periods[r],1),o10:y(t._periods[r],10),o100:y(t._periods[r],100),o1000:y(t._periods[r],1e3),wl:g(i),wn:this._minDigits(t,t._periods[i],1),wnn:this._minDigits(t,t._periods[i],2),wnnn:this._minDigits(t,t._periods[i],3),w1:y(t._periods[i],1),w10:y(t._periods[i],10),w100:y(t._periods[i],100),w1000:y(t._periods[i],1e3),dl:g(o),dn:this._minDigits(t,t._periods[o],1),dnn:this._minDigits(t,t._periods[o],2),dnnn:this._minDigits(t,t._periods[o],3),d1:y(t._periods[o],1),d10:y(t._periods[o],10),d100:y(t._periods[o],100),d1000:y(t._periods[o],1e3),hl:g(a),hn:this._minDigits(t,t._periods[a],1),hnn:this._minDigits(t,t._periods[a],2),hnnn:this._minDigits(t,t._periods[a],3),h1:y(t._periods[a],1),h10:y(t._periods[a],10),h100:y(t._periods[a],100),h1000:y(t._periods[a],1e3),ml:g(s),mn:this._minDigits(t,t._periods[s],1),mnn:this._minDigits(t,t._periods[s],2),mnnn:this._minDigits(t,t._periods[s],3),m1:y(t._periods[s],1),m10:y(t._periods[s],10),m100:y(t._periods[s],100),m1000:y(t._periods[s],1e3),sl:g(u),sn:this._minDigits(t,t._periods[u],1),snn:this._minDigits(t,t._periods[u],2),snnn:this._minDigits(t,t._periods[u],3),s1:y(t._periods[u],1),s10:y(t._periods[u],10),s100:y(t._periods[u],100),s1000:y(t._periods[u],1e3)},_=l,b=n;b<=u;b++){var w="yowdhms".charAt(b),M=new RegExp("\\{"+w+"<\\}([\\s\\S]*)\\{"+w+">\\}","g");_=_.replace(M,!h&&c[b]||h&&p[b]?"$1":"")}return e.each(v,function(e,t){var n=new RegExp("\\{"+e+"\\}","g");_=_.replace(n,t)}),_},_minDigits:function(e,t,n){return(t=""+t).length>=n?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-n)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,c=[];return c[n]=t.match("y")?"?":t.match("Y")?"!":null,c[r]=t.match("o")?"?":t.match("O")?"!":null,c[i]=t.match("w")?"?":t.match("W")?"!":null,c[o]=t.match("d")?"?":t.match("D")?"!":null,c[a]=t.match("h")?"?":t.match("H")?"!":null,c[s]=t.match("m")?"?":t.match("M")?"!":null,c[u]=t.match("s")?"?":t.match("S")?"!":null,c},_calculatePeriods:function(e,t,c,l){e._now=l,e._now.setMilliseconds(0);var d=new Date(e._now.getTime());e._since?l.getTime()<e._since.getTime()?e._now=l=d:l=e._since:(d.setTime(e._until.getTime()),l.getTime()>e._until.getTime()&&(e._now=l=d));var h=[0,0,0,0,0,0,0];if(t[n]||t[r]){var p=this._getDaysInMonth(l.getFullYear(),l.getMonth()),f=this._getDaysInMonth(d.getFullYear(),d.getMonth()),m=d.getDate()===l.getDate()||d.getDate()>=Math.min(p,f)&&l.getDate()>=Math.min(p,f),g=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},y=Math.max(0,12*(d.getFullYear()-l.getFullYear())+d.getMonth()-l.getMonth()+(d.getDate()<l.getDate()&&!m||m&&g(d)<g(l)?-1:0));h[n]=t[n]?Math.floor(y/12):0,h[r]=t[r]?y-12*h[n]:0;var v=(l=new Date(l.getTime())).getDate()===p,_=this._getDaysInMonth(l.getFullYear()+h[n],l.getMonth()+h[r]);l.getDate()>_&&l.setDate(_),l.setFullYear(l.getFullYear()+h[n]),l.setMonth(l.getMonth()+h[r]),v&&l.setDate(_)}var b=Math.floor((d.getTime()-l.getTime())/1e3),w=null,M=function(e,n){h[e]=t[e]?Math.floor(b/n):0,b-=h[e]*n};if(M(i,604800),M(o,86400),M(a,3600),M(s,60),M(u,1),b>0&&!e._since){var T=[1,12,4.3482,7,24,60,60],S=u,L=1;for(w=u;w>=n;w--)t[w]&&(h[S]>=L&&(h[S]=0,b=1),b>0&&(h[w]++,b=0,S=w,L=1)),L*=T[w]}if(c)for(w=n;w<=u;w++)c&&h[w]?c--:c||(h[w]=0);return h}})}(jQuery),define("jquery.countdown",["jquery","jquery.plugin"],function(e){return function(){var t;return t||e.jQuery.fn.countdown}}(this)),define("m_user",["jquery","m_firebase","dictionary","m_view","m_app","jquery.countdown"],function(e,t,n,r,i){function o(){return i.get("ConnectUserCountry")}function a(e){return i.save("ConnectUserCountry",e)}function s(){return i.get("ConnectUserLang")}function u(e){return i.save("ConnectUserLang",e)}function c(e,n){d()&&i.globalFunctions_invoke("devise_removeNoteFromDatabase"),i.clear(),t.auth().signOut().then(()=>{i.getGlobalVar("m_routing").getUserDomain()&&(i.getGlobalVar("m_synchronize").subDomain_clearIntervalFunction(),i.view.createLoader(),i.getGlobalVar("m_synchronize").subDomain_sendCommandForSignOut()),"function"==typeof e&&e()},e=>{console.warn("signOut error",e),"function"==typeof n&&n(e)})}function l(e,n){t.auth().signInWithCustomToken(e).then(e=>{i.save("uid",t.auth().currentUser.uid);var r=i.getGlobalVar("m_routing");r.getUserDomain()&&(i.storage_copyLocalToTemp(),i.saveTempStorage("@connectFlagForSync_UserSignIn",1)),void 0!==n?n():r.getUserDomain()?i.getGlobalVar("engine").passToApp({app:"base",page:"index",data:""}):i.getGlobalVar("engine").passToApp({app:"base",page:"index",user:m(),data:""})}).catch(function(e){console.warn("signIn error",e)})}function d(){var e,t=i.get("uidType");return null!=t&&(e="?"==t?i.get("aUid"):i.get("uid")),e==p()&&e}function h(e){var t=!1;if("string"==typeof e&&(e=JSON.parse(e)),"object"==typeof e){var n=e.uidType;t="string"==typeof n&&"?"==n?e.aUid:e.uid}return t}function p(){var e=g();return e&&(e=t.auth().currentUser.uid),e}function f(){return i.get("token")}function m(){var e=i.get("uidType");if(null!=e){if("?"==e)return"anonym";if(d())return i.get("user")}}function g(){return t.auth().currentUser}function y(t,o){void 0===o&&(o=!0),1==o&&r.view.showLoader(),e.ajax({url:"https://ramman.net/api/web/sign",type:"POST",data:JSON.stringify({type:"signInByAnonim"}),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},dataType:"json",success:function(e){if(1==e.status){var a=e.fkey;uid=e.uid,token=e.token,i.save("uidCreated",i.getTime()),i.save("uidType","?"),i.save("aUid",uid),i.save("aToken",token),i.save("fkey",a),i.del("sentConfirmedTime"),i.del("sentSmsTime"),i.del("user"),l(a,t)}else r.error(n.get("error-wrongLogin"));1==o&&r.view.closeLoader()},error:function(){1==o&&r.view.closeLoader()}})}function v(t){e(".page-loader").show(),e(".page-log_submit").prop("disabled",!0),e.ajax({url:"https://ramman.net/api/web/sign",type:"POST",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},dataType:"json",success:function(t){e(".page-loader").hide(),e(".page-log_submit").prop("disabled",!1);1==t.status?(S(t.info.icon),C(t.token),k(t.user),M(t.displayName),i.save("sentSmsTime",i.getTime()),D("signin")):r.error(n.get("error-wrongLogin"))}})}function _(t){if(void 0!==i.get("token")&&void 0!==i.get("user")){var a={},u=e(t).serializeObject();a.token=i.get("token"),a.user=i.get("user"),a.aToken=i.get("aToken"),a.lang=s("aToken"),a.country=o(),a.aUid=d();var c=e(".formSignIn").serializeObject();e(".formSmsCode").serializeObject();return void 0!==c.moveType&&(a.aType=1),a.type="checkCode",a.code=u.code,a.codeType=u.codeType,r.view.showLoader(),e.ajax({url:"https://ramman.net/api/web/sign",type:"POST",data:JSON.stringify(a),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},dataType:"json",success:function(e){if(1==e.status){var t=e.fkey;i.save("confirmed",1),i.save("sentConfirmedTime",i.getTime()),i.save("uidType","@"),l(t)}else r.view.closeLoader(),r.error(n.get("error-wrongCode"))},error:function(){r.view.closeLoader()}}),!1}}function b(e,t){null==d()?y(e,t):"function"==typeof e&&e()}function w(t){r.view.showLoader();var o=e(t).serializeObject();return e.ajax({url:"https://ramman.net/api/web/sign",type:"POST",data:JSON.stringify(o),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},dataType:"json",success:function(e){1==e.status?(S(e.info.icon),C(e.token),k(e.user),M(e.displayName),i.saveUserCountry(o.country),i.saveUserLang(o.lang),i.save("sentSmsTime",i.getTime()),D("signup")):r.error(n.get("error-issetUser")),r.view.closeLoader()},error:function(){r.view.closeLoader()}}),!1}function M(e){i.save("userDisplayName",e)}function T(e){return i.get("userDisplayName")}function S(e){i.save("userIcon",e)}function L(){return i.get("userIcon")}function k(e){i.save("user",e)}function C(e){i.save("token",e)}function f(e){return i.get("token")}function E(t,n,r){e(t).countdown("destroy"),e(t).countdown({until:n,description:"",onExpiry:function(){"function"==typeof r&&r()},layout:"{mnn}:{snn}"})}function D(t){var n=parseInt(i.get("sentSmsTime"));void 0!==n&n+3e5>i.getTime()&&(e(".page-reSendSms").hide(),e(".page-LastTimeForExpireSms").show(),e(".page-formSignIn,.formSignUp").hide(),e(".page-formSmsCode").show(),"string"==typeof t&&e("#codeType").val(t),E(".page-LastTimeForExpireSms",300,function(){e(".page-reSendSms").show(),e(".page-LastTimeForExpireSms").hide()}))}function I(t){return v(e(t).serializeObject()),!1}function A(){var t={type:"reSendSms",user:i.get("user"),token:i.get("token")};return parseInt(i.get("sentSmsTime"))+3e5<i.getTime()?(r.view.showLoader(),e.ajax({url:"https://ramman.net/api/web/sign",type:"POST",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},dataType:"json",success:function(e){var t=e.status;1==t?(i.save("sentSmsTime",i.getTime()),D()):0==t?r.error(n.get("error-wrongCode")):r.error(n.get("error-needUpdatePage")),r.view.closeLoader()},error:function(){r.view.closeLoader()}})):r.error(n.get("error-smsCodeIsNotExpired")),!1}const x={};return x.getUserCountry=o,x.saveUserCountry=a,x.getUserLang=s,x.saveUserLang=u,x.signOut=c,x.signIn=l,x.getMyId=d,x.getMyIdFromObj=h,window.getMyFirebaseUid=p,x.getMyToken=f,window.getMyLogin=m,x.getMyLogin=m,x.checkSignIn=g,x.authByAnonym=y,x.authByUserAndPswd=v,x.checkSmsCode=_,x.checkToken=b,x.signUpByUserAndPswd=w,x.getMyDisplayName=T,x.getMyIcon=L,x.getMyToken=f,x.startTimer=E,x.startSmsTimer=D,x.sendForm=I,e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},x.reSendSms=A,x}),function(){"use strict";function e(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=r(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=y)for(;++n<r;)t(e[n],n,e);else i(e,t)}function r(t){return t=c(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function i(e,t){for(var n in e)w.call(e,n)&&t(e[n],n,e)}function o(t){return null==t?e(t):M.call(t).slice(8,-1)}function a(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function s(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function u(e,t){var r=null;return n(e,function(n,i){r=t(r,n,i,e)}),r}function c(e){return String(e).replace(/^ +| +$/g,"")}function l(e){function n(t){return u(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}function d(t){return u(t,function(t,n,r){return t||(n[Q]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Q)]||RegExp("\\b"+s(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}function f(t){return u(t,function(t,n){return t||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(e)&&(n.label||n)})}function m(n){return u(n,function(n,r){var i=r.pattern||s(r);return!n&&(n=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,i,r.label||r)),n})}function g(t){return u(t,function(t,n){var i=n.pattern||s(n);return!t&&(t=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=r(t[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function y(t){return u(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function b(){return this.description||""}var w=h,T=e&&"object"==typeof e&&"String"!=o(e);T&&(w=e,e=null);var S=w.navigator||{},L=S.userAgent||"";e||(e=L);var k,C,E=T||_==p,D=T?!!S.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(M.toString()),I="Object",A=T?I:"ScriptBridgingProxyObject",x=T?I:"Environment",O=T&&w.java?"JavaPackage":o(w.java),N=T?I:"RuntimeObject",P=/\bJava/.test(O)&&w.java,R=P&&o(w.environment)==x,Y=P?"a":"α",F=P?"b":"β",j=w.document||{},B=w.operamini||w.opera,H=v.test(H=T&&B?B["[[Class]]"]:o(B))?H:B=null,U=e,V=[],W=null,q=e==L,G=q&&B&&"function"==typeof B.version&&B.version(),K=n([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),z=f(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Q=g([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=d({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),$=m(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(K&&(K=[K]),J&&!Q&&(Q=g([J])),(k=/\bGoogle TV\b/.exec(Q))&&(Q=k[0]),/\bSimulator\b/i.test(e)&&(Q=(Q?Q+" ":"")+"Simulator"),"Opera Mini"==z&&/\bOPiOS\b/.test(e)&&V.push("running in Turbo/Uncompressed mode"),"IE"==z&&/\blike iPhone OS\b/.test(e)?(J=(k=l(e.replace(/like iPhone OS/,""))).manufacturer,Q=k.product):/^iP/.test(Q)?(z||(z="Safari"),$="iOS"+((k=/ OS ([\d_]+)/i.exec(e))?" "+k[1].replace(/_/g,"."):"")):"Konqueror"!=z||/buntu/i.test($)?J&&"Google"!=J&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(Q))||/\bAndroid\b/.test($)&&/^Chrome/.test(z)&&/\bVersion\//i.test(e)?(z="Android Browser",$=/\bAndroid\b/.test($)?$:"Android"):"Silk"==z?(/\bMobi/i.test(e)||($="Android",V.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&V.unshift("accelerated")):"PaleMoon"==z&&(k=/\bFirefox\/([\d.]+)\b/.exec(e))?V.push("identifying as Firefox "+k[1]):"Firefox"==z&&(k=/\b(Mobile|Tablet|TV)\b/i.exec(e))?($||($="Firefox OS"),Q||(Q=k[1])):!z||(k=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!Q&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(k+"/")+8))&&(z=null),(k=Q||J||$)&&(Q||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test($))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test($)?$:k)+" Browser")):"Electron"==z&&(k=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&V.push("Chromium "+k):$="Kubuntu",G||(G=y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",s(z),"(?:Firefox|Minefield|NetFront)"])),(k="iCab"==K&&parseFloat(G)>3&&"WebKit"||/\bOpera\b/.test(z)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(K)&&"WebKit"||!K&&/\bMSIE\b/i.test(e)&&("Mac OS"==$?"Tasman":"Trident")||"WebKit"==K&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(K=[k]),"IE"==z&&(k=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(z+=" Mobile",$="Windows Phone "+(/\+$/.test(k)?k:k+".x"),V.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(z="IE Mobile",$="Windows Phone 8.x",V.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=z&&"Trident"==K&&(k=/\brv:([\d.]+)/.exec(e))&&(z&&V.push("identifying as "+z+(G?" "+G:"")),z="IE",G=k[1]),q){if(a(w,"global"))if(P&&(U=(k=P.lang.System).getProperty("os.arch"),$=$||k.getProperty("os.name")+" "+k.getProperty("os.version")),E&&a(w,"system")&&(k=[w.system])[0]){$||($=k[0].os||null);try{k[1]=w.require("ringo/engine").version,G=k[1].join("."),z="RingoJS"}catch(e){k[0].global.system==w.system&&(z="Narwhal")}}else"object"==typeof w.process&&!w.process.browser&&(k=w.process)?("object"==typeof k.versions&&("string"==typeof k.versions.electron?(V.push("Node "+k.versions.node),z="Electron",G=k.versions.electron):"string"==typeof k.versions.nw&&(V.push("Chromium "+G,"Node "+k.versions.node),z="NW.js",G=k.versions.nw)),z||(z="Node.js",U=k.arch,$=k.platform,G=(G=/[\d.]+/.exec(k.version))?G[0]:"unknown")):R&&(z="Rhino");else o(k=w.runtime)==A?(z="Adobe AIR",$=k.flash.system.Capabilities.os):o(k=w.phantom)==N?(z="PhantomJS",G=(k=k.version||null)&&k.major+"."+k.minor+"."+k.patch):"number"==typeof j.documentMode&&(k=/\bTrident\/(\d+)/i.exec(e))?(G=[G,j.documentMode],(k=+k[1]+4)!=G[1]&&(V.push("IE "+G[1]+" mode"),K&&(K[1]=""),G[1]=k),G="IE"==z?String(G[1].toFixed(1)):G[0]):"number"==typeof j.documentMode&&/^(?:Chrome|Firefox)\b/.test(z)&&(V.push("masking as "+z+" "+G),z="IE",G="11.0",K=["Trident"],$="Windows");$=$&&r($)}if(G&&(k=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(q&&S.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(W=/b/i.test(k)?"beta":"alpha",G=G.replace(RegExp(k+"\\+?$"),"")+("beta"==W?F:Y)+(/\d+\+?/.exec(k)||"")),"Fennec"==z||"Firefox"==z&&/\b(?:Android|Firefox OS)\b/.test($))z="Firefox Mobile";else if("Maxthon"==z&&G)G=G.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(Q))"Xbox 360"==Q&&($=null),"Xbox 360"==Q&&/\bIEMobile\b/.test(e)&&V.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(z)&&(!z||Q||/Browser|Mobi/.test(z))||"Windows CE"!=$&&!/Mobi/i.test(e))if("IE"==z&&q)try{null===w.external&&V.unshift("platform preview")}catch(e){V.unshift("embedded")}else(/\bBlackBerry\b/.test(Q)||/\bBB10\b/.test(e))&&(k=(RegExp(Q.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||G)?($=((k=[k,/BB10/.test(e)])[1]?(Q=null,J="BlackBerry"):"Device Software")+" "+k[0],G=null):this!=i&&"Wii"!=Q&&(q&&B||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==z&&/\bOS X (?:\d+\.){2,}/.test($)||"IE"==z&&($&&!/^Win/.test($)&&G>5.5||/\bWindows XP\b/.test($)&&G>8||8==G&&!/\bTrident\b/.test(e)))&&!v.test(k=l.call(i,e.replace(v,"")+";"))&&k.name&&(k="ing as "+k.name+((k=k.version)?" "+k:""),v.test(z)?(/\bIE\b/.test(k)&&"Mac OS"==$&&($=null),k="identify"+k):(k="mask"+k,z=H?r(H.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(k)&&($=null),q||(G=null)),K=["Presto"],V.push(k));else z+=" Mobile";(k=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(k=[parseFloat(k.replace(/\.(\d)$/,".0$1")),k],"Safari"==z&&"+"==k[1].slice(-1)?(z="WebKit Nightly",W="alpha",G=k[1].slice(0,-1)):G!=k[1]&&G!=(k[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(G=null),k[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==k[0]&&537.36==k[2]&&parseFloat(k[1])>=28&&"WebKit"==K&&(K=["Blink"]),q&&(D||k[1])?(K&&(K[1]="like Chrome"),k=k[1]||((k=k[0])<530?1:k<532?2:k<532.05?3:k<533?4:k<534.03?5:k<534.07?6:k<534.1?7:k<534.13?8:k<534.16?9:k<534.24?10:k<534.3?11:k<535.01?12:k<535.02?"13+":k<535.07?15:k<535.11?16:k<535.19?17:k<536.05?18:k<536.1?19:k<537.01?20:k<537.11?"21+":k<537.13?23:k<537.18?24:k<537.24?25:k<537.36?26:"Blink"!=K?"27":"28")):(K&&(K[1]="like Safari"),k=(k=k[0])<400?1:k<500?2:k<526?3:k<533?4:k<534?"4+":k<535?5:k<537?6:k<538?7:k<601?8:"8"),K&&(K[1]+=" "+(k+="number"==typeof k?".x":/[.+]/.test(k)?"":"+")),"Safari"==z&&(!G||parseInt(G)>45)&&(G=k)),"Opera"==z&&(k=/\bzbov|zvav$/.exec($))?(z+=" ",V.unshift("desktop mode"),"zvav"==k?(z+="Mini",G=null):z+="Mobile",$=$.replace(RegExp(" *"+k+"$"),"")):"Safari"==z&&/\bChrome\b/.exec(K&&K[1])&&(V.unshift("desktop mode"),z="Chrome Mobile",G=null,/\bOS X\b/.test($)?(J="Apple",$="iOS 4.3+"):$=null),G&&0==G.indexOf(k=/[\d.]+$/.exec($))&&e.indexOf("/"+k+"-")>-1&&($=c($.replace(k,""))),K&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||"Safari"!=z&&/^iOS/.test($)&&/\bSafari\b/.test(K[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(z)&&K[1])&&(k=K[K.length-1])&&V.push(k),V.length&&(V=["("+V.join("; ")+")"]),J&&Q&&Q.indexOf(J)<0&&V.push("on "+J),Q&&V.push((/^on /.test(V[V.length-1])?"":"on ")+Q),$&&(k=/ ([\d.+]+)$/.exec($),C=k&&"/"==$.charAt($.length-k[0].length-1),$={architecture:32,family:k&&!C?$.replace(k[0],""):$,version:k?k[1]:null,toString:function(){var e=this.version;return this.family+(e&&!C?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(k=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(U))&&!/\bi686\b/i.test(U)?($&&($.architecture=64,$.family=$.family.replace(RegExp(" *"+k),"")),z&&(/\bWOW64\b/i.test(e)||q&&/\w(?:86|32)$/.test(S.cpuClass||S.platform)&&!/\bWin64; x64\b/i.test(e))&&V.unshift("32-bit")):$&&/^OS X/.test($.family)&&"Chrome"==z&&parseFloat(G)>=39&&($.architecture=64),e||(e=null);var X={};return X.description=e,X.layout=K&&K[0],X.manufacturer=J,X.name=z,X.prerelease=W,X.product=Q,X.ua=e,X.version=z&&G,X.os=$||{architecture:null,family:null,version:null,toString:function(){return"null"}},X.parse=l,X.toString=b,X.version&&V.unshift(G),X.name&&V.unshift(z),$&&z&&($!=String($).split(" ")[0]||$!=z.split(" ")[0]&&!Q)&&V.push(Q?"("+$+")":"on "+$),V.length&&(X.description=V.join(" ")),X}var d={function:!0,object:!0},h=d[typeof window]&&window||this,p=h,f=d[typeof exports]&&exports,m=d[typeof module]&&module&&!module.nodeType&&module,g=f&&m&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(h=g);var y=Math.pow(2,53)-1,v=/\bOpera/,_=this,b=Object.prototype,w=b.hasOwnProperty,M=b.toString,T=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=T,define("platform",[],function(){return T})):f&&m?i(T,function(e,t){f[t]=e}):h.platform=T}.call(this),define("m_routing",["jquery","m_user","platform"],function(e,t,n){function r(t){var n={};return n.app=e(t).attr("c-app"),n.user=e(t).attr("c-user"),n.page=e(t).attr("c-page"),n.data=e(t).attr("c-data"),n}function i(e){window.connectAppPathNumber++,window.connectAppPath[window.connectAppPathNumber]=e}function o(e){var t=l();if("object"!=typeof e&&(e={}),f(e.user),g(e.app),v(e.page),b(e.data),S()){var n="";if(e.user=e.user||p(),0!=t&&e.user&&e.user!=t)return n=O+x,n+=a(e),u(n),!1;c(n=a(e))}return!0}function a(e){"object"!=typeof e&&(e={});var t=e.user||p(),n=e.app||m(),r=e.page||y(),i=e.data||_(),o="";return("string"==typeof t&&!l()||e.user&&l()!=e.user)&&(o+="/"+t),"string"==typeof n&&(o+="/"+n),"string"==typeof r&&(o+="/"+r),"string"==typeof i&&(o+="/?"+i),o}function s(e,t){var n={};n.user=p(),n.app=m(),n.page=y();var r=T(_());n.data=r,"string"!=typeof t&&i(n),e.openApp(n,r)}function u(e){navigator.userAgent.match(/Android/i)?document.location=e:window.top.location.replace(e)}function c(e){var t=l();e=t?O+t+"."+x+e:O+x+e;try{return void history.pushState(null,null,e)}catch(t){console.warn("urlSet e",t,e)}}function l(){var e=!1;if(S()){var t=h(1);0!=t&&"ramman"!=t&&"www"!=t&&(e=t)}else void 0!==window.ConnectUrlObject.userDomain&&(e=window.ConnectUrlObject.userDomain);return e}function d(e){window.ConnectUrlObject.userDomain=e}function h(e){var t=location.host;if("number"!=typeof e)return t;var n=t.split(".");return e--,void 0!==n[e]?n[e]:null}function p(){var e=!1;if(S()){var n=l(),r=M();n?e=n:r>=1&&(e=w(1))}else"string"==typeof window.ConnectUrlObject.user&&(e=window.ConnectUrlObject.user);return"string"==typeof e&&e.length<2&&(e=!1),e||t.getMyLogin()}function f(e){window.ConnectUrlObject.user="string"==typeof e&&e}function m(){var e="base";if("@browser"==window.ConnectDeviseType){var t=l(),n=M();t?n>0&&(e=w(1)):n>=2&&(e=w(2))}else void 0!==window.ConnectUrlObject.app&&(e=window.ConnectUrlObject.app||e);return e}function g(e){window.ConnectUrlObject.app="string"==typeof e&&e}function y(){var e="index";if("@browser"==window.ConnectDeviseType){var t=l(),n=M();t?n>=2&&(e=w(2)):n>=3&&(e=w(3))}else void 0!==window.ConnectUrlObject.page&&(e=window.ConnectUrlObject.page||e);return e}function v(e){window.ConnectUrlObject.page="string"==typeof e&&e}function _(){var e=!1;return"@browser"==window.ConnectDeviseType&&"string"==typeof(e=location.search)&&(e=(e=e.split("?"))[e.length-1]),window.ConnectUrlObject.data||e}function b(e){"string"==typeof e&&e.length>2?window.ConnectUrlObject.data=e:window.ConnectUrlObject.data=!1}function w(e){var t=location.pathname;if("number"!=typeof e)return t;e--;var n=t.split("/").splice(1);return e<=0?n[0]:void 0!==n[e]&&"string"==typeof n[e]&&n[e].length>0&&n[e]}function M(){var e=location.pathname.split("/").splice(1),t=0;for(var n in e)e[n].length>0&&t++;return t}function T(e){"string"!=typeof e&&(e="");var t={};let n=e.split("&");if(n.length>0)for(var r in n){var i=n[r].split("="),o=i[0],a=decodeURI(i[1]);t[o]=a}return t}function S(){return"@browser"==window.ConnectDeviseType}function L(){window.ConnectDeviseType="@browser"}function k(e){window.ConnectDeviseName=e}function C(){return"string"!=typeof window.ConnectDeviseName||window.ConnectDeviseName.length<1?n.name+" "+n.os.toString():window.ConnectDeviseName+" "+n.os.toString()}function E(){return navigator.userAgent||""}function D(){return"@desktop"==window.ConnectDeviseType}function I(){window.ConnectDeviseType="@desktop"}const A={};"object"!=typeof window.ConnectUrlObject&&(window.ConnectUrlObject={userDomain:!1,user:!1,app:!1,page:!1,data:!1});const x="ramman.net",O="https://";return A.getUrlObjectByDomEl=r,"object"!=typeof window.connectAppPath&&(window.connectAppPath=[]),"number"!=typeof window.connectAppPathNumber&&(window.connectAppPathNumber=-1),A.addAppToPath=i,A.prepareUrl=o,A.startUrl=s,A.goToUrl=u,A.setUrl=c,A.getUserDomain=l,A.setUserDomain=d,A.getDomain=h,A.getUser=p,A.setUser=f,A.getApp=m,A.setApp=g,A.getPage=y,A.setPage=v,A.getData=_,A.setData=b,A.getUrlPath=w,A.getUrlLength=M,A.getObjectFromString=T,A.isBrowser=S,A.setBrowser=L,A.setDeviseName=k,A.getDeviseName=C,A.getUserAgent=E,A.isDesktop=D,A.setDesktop=I,A}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return vi.apply(null,arguments)}function t(e){vi=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return vt(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=h()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=bi.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function g(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=p(t)),o(t._locale)||(e._locale=t._locale),wi.length>0)for(n=0;n<wi.length;n++)r=wi[n],i=t[r],o(i)||(e[r]=i);return e}function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mi&&(Mi=!0,e.updateOffset(this),Mi=!1)}function v(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&a++;return a+o}function M(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,n){var r=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}M(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Ti[t]||(M(n),Ti[t]=!0)}function L(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)t=e[n],L(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,i=l({},e);for(n in t)c(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function E(e){null!=e&&this.set(e)}function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return L(r)?r.call(t,n):r}function I(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function x(e){return this._ordinal.replace("%d",e)}function O(e,t,n,r){var i=this._relativeTime[n];return L(i)?i(e,t,n,r):i.replace(/%d/i,e)}function N(e,t){var n=this._relativeTime[e>0?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)}function P(e,t){var n=e.toLowerCase();Oi[n]=Oi[n+"s"]=Oi[t]=e}function R(e){return"string"==typeof e?Oi[e]||Oi[e.toLowerCase()]:void 0}function Y(e){var t,n,r={};for(n in e)c(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}function F(e,t){Ni[e]=t}function j(e){var t=[];for(var n in e)t.push({unit:n,priority:Ni[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(r){return null!=r?(U(this,t,r),e.updateOffset(this,n),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function U(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function V(e){return e=R(e),L(this[e])?this[e]():this}function W(e,t){if("object"==typeof e)for(var n=j(e=Y(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(e=R(e),L(this[e]))return this[e](t);return this}function q(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function G(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Fi[e]=i),t&&(Fi[t[0]]=function(){return q(i.apply(this,arguments),t[1],t[2])}),n&&(Fi[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function K(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(Pi);for(t=0,n=r.length;t<n;t++)Fi[r[t]]?r[t]=Fi[r[t]]:r[t]=K(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=L(r[i])?r[i].call(t,e):r[i];return o}}function Q(e,t){return e.isValid()?(t=J(t,e.localeData()),Yi[t]=Yi[t]||z(t),Yi[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ri.lastIndex=0;r>=0&&Ri.test(e);)e=e.replace(Ri,n),Ri.lastIndex=0,r-=1;return e}function $(e,t,n){no[e]=L(t)?t:function(e,r){return e&&n?n:t}}function X(e,t){return c(no,e)?no[e](t._strict,t._locale):new RegExp(Z(e))}function Z(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ro[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&c(ro,e)&&ro[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||mo).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[mo.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=fo.call(this._shortMonthsParse,a))?i:null:-1!==(i=fo.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=fo.call(this._shortMonthsParse,a))?i:-1!==(i=fo.call(this._longMonthsParse,a))?i:null:-1!==(i=fo.call(this._longMonthsParse,a))?i:-1!==(i=fo.call(this._shortMonthsParse,a))?i:null}function ue(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function le(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function de(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=vo),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=_o),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}function ye(){return ge(this.year())}function ve(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var r=7+t-n;return-((7+_e(e,0,r).getUTCDay()-t)%7)+r-1}function we(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+be(e,r,i);return s<=0?(o=e-1,a=me(o)+s):s>me(e)?(o=e+1,a=s-me(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Me(e,t,n){var r,i,o=be(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Te(i,t,n)):a>Te(e.year(),t,n)?(r=a-Te(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Te(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(me(e)-r+i)/7}function Se(e){return Me(e,this._week.dow,this._week.doy).week}function Le(){return this._week.dow}function ke(){return this._week.doy}function Ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ee(e){var t=Me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function De(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ie(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function xe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ne(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=fo.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=fo.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=fo.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=fo.call(this._weekdaysParse,a))?i:-1!==(i=fo.call(this._shortWeekdaysParse,a))?i:-1!==(i=fo.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=fo.call(this._shortWeekdaysParse,a))?i:-1!==(i=fo.call(this._weekdaysParse,a))?i:-1!==(i=fo.call(this._minWeekdaysParse,a))?i:null:-1!==(i=fo.call(this._minWeekdaysParse,a))?i:-1!==(i=fo.call(this._weekdaysParse,a))?i:-1!==(i=fo.call(this._shortWeekdaysParse,a))?i:null}function Pe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ne.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=De(e,this.localeData()),this.add(e-t,"d")):t}function Ye(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Lo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ko),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Co),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ue(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),u[t]=ee(u[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ve(){return this.hours()%12||12}function We(){return this.hours()||24}function qe(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function Ke(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=Qe(e[o]).split("-")).length,n=(n=Qe(e[o+1]))?n.split("-"):null;t>0;){if(r=$e(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function $e(e){var t=null;if(!xo[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Eo._abbr,require("./locale/"+e),Xe(t)}catch(e){}return xo[e]}function Xe(e,t){var n;return e&&(n=o(t)?tt(e):Ze(e,t))&&(Eo=n),Eo._abbr}function Ze(e,t){if(null!==t){var n=Ao;if(t.abbr=e,null!=xo[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xo[e]._config;else if(null!=t.parentLocale){if(null==xo[t.parentLocale])return Oo[t.parentLocale]||(Oo[t.parentLocale]=[]),Oo[t.parentLocale].push({name:e,config:t}),null;n=xo[t.parentLocale]._config}return xo[e]=new E(C(n,t)),Oo[e]&&Oo[e].forEach(function(e){Ze(e.name,e.config)}),Xe(e),xo[e]}return delete xo[e],null}function et(e,t){if(null!=t){var n,r=Ao;null!=xo[e]&&(r=xo[e]._config),(n=new E(t=C(r,t))).parentLocale=xo[e],xo[e]=n,Xe(e)}else null!=xo[e]&&(null!=xo[e].parentLocale?xo[e]=xo[e].parentLocale:null!=xo[e]&&delete xo[e]);return xo[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Eo;if(!n(e)){if(t=$e(e))return t;e=[e]}return Je(e)}function nt(){return ki(xo)}function rt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[oo]<0||n[oo]>11?oo:n[ao]<1||n[ao]>ie(n[io],n[oo])?ao:n[so]<0||n[so]>24||24===n[so]&&(0!==n[uo]||0!==n[co]||0!==n[lo])?so:n[uo]<0||n[uo]>59?uo:n[co]<0||n[co]>59?co:n[lo]<0||n[lo]>999?lo:-1,p(e)._overflowDayOfYear&&(t<io||t>ao)&&(t=ao),p(e)._overflowWeeks&&-1===t&&(t=ho),p(e)._overflowWeekday&&-1===t&&(t=po),p(e).overflow=t),e}function it(e){var t,n,r,i,o,a,s=e._i,u=No.exec(s)||Po.exec(s);if(u){for(p(e).iso=!0,t=0,n=Yo.length;t<n;t++)if(Yo[t][1].exec(u[1])){i=Yo[t][0],r=!1!==Yo[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Fo.length;t<n;t++)if(Fo[t][1].exec(u[3])){o=(u[2]||" ")+Fo[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Ro.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),dt(e)}else e._isValid=!1}function ot(e){var t,n,r,i,o,a,s,u,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},l="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Bo.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==d)return p(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===u?s=" +0000":(u=l.indexOf(n[5][1].toUpperCase())-12,s=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=c[n[5]];break;default:s=c[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,dt(e),p(e).rfc2822=!0}else e._isValid=!1}function at(t){var n=jo.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(it(t),void(!1===t._isValid&&(delete t._isValid,ot(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function ut(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,r,i,o=[];if(!e._d){for(r=ut(e),e._w&&null==e._a[ao]&&null==e._a[oo]&&lt(e),null!=e._dayOfYear&&(i=st(e._a[io],r[io]),(e._dayOfYear>me(i)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=_e(i,0,e._dayOfYear),e._a[oo]=n.getUTCMonth(),e._a[ao]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[so]&&0===e._a[uo]&&0===e._a[co]&&0===e._a[lo]&&(e._nextDay=!0,e._a[so]=0),e._d=(e._useUTC?_e:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[so]=24)}}function lt(e){var t,n,r,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[io],Me(_t(),1,4).year),r=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Me(_t(),o,a);n=st(t.gg,e._a[io],c.year),r=st(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Te(n,o,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=we(n,r,i,o,a),e._a[io]=s.year,e._dayOfYear=s.dayOfYear)}function dt(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],p(t).empty=!0;var n,r,i,o,a,s=""+t._i,u=s.length,c=0;for(i=J(t._f,t._locale).match(Pi)||[],n=0;n<i.length;n++)o=i[n],(r=(s.match(X(o,t))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Fi[o]?(r?p(t).empty=!1:p(t).unusedTokens.push(o),re(o,r,t)):t._strict&&!r&&p(t).unusedTokens.push(o);p(t).charsLeftOver=u-c,s.length>0&&p(t).unusedInput.push(s),t._a[so]<=12&&!0===p(t).bigHour&&t._a[so]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[so]=ht(t._locale,t._a[so],t._meridiem),ct(t),rt(t)}else ot(t);else it(t)}function ht(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function pt(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],dt(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||o<r)&&(r=o,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=Y(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function mt(e){var t=new y(rt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,r=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new y(rt(t)):(s(t)?e._d=t:n(r)?pt(e):r?dt(e):yt(e),f(e)||(e._d=null),e))}function yt(t){var i=t._i;o(i)?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"==typeof i?at(t):n(i)?(t._a=u(i.slice(0),function(e){return parseInt(e,10)}),ct(t)):r(i)?ft(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function vt(e,t,o,a,s){var u={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=o,u._i=e,u._f=t,u._strict=a,mt(u)}function _t(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return _t();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function Mt(){return bt("isAfter",[].slice.call(arguments,0))}function Tt(e){for(var t in e)if(-1===Wo.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Wo.length;++r)if(e[Wo[r]]){if(n)return!1;parseFloat(e[Wo[r]])!==b(e[Wo[r]])&&(n=!0)}return!0}function St(){return this._isValid}function Lt(){return Wt(NaN)}function kt(e){var t=Y(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=Tt(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function Ct(e){return e instanceof kt}function Et(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+q(~~(e/60),2)+t+q(~~e%60,2)})}function It(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(qo)||["-",0,0],i=60*r[1]+b(r[2]);return 0===i?0:"+"===r[0]?i:-i}function At(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(t)||s(t)?t.valueOf():_t(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):_t(t).local()}function xt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ot(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=It(Zi,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=xt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?Qt(this,Wt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:xt(this)}function Nt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Pt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(xt(this),"m")),this}function Yt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=It(Xi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ft(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=gt(e))._a){var t=e._isUTC?d(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ht(){return!!this.isValid()&&!this._isUTC}function Ut(){return!!this.isValid()&&this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Wt(e,t){var n,r,i,o=e,s=null;return Ct(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Go.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[ao])*n,h:b(s[so])*n,m:b(s[uo])*n,s:b(s[co])*n,ms:b(Et(1e3*s[lo]))*n}):(s=Ko.exec(e))?(n="-"===s[1]?-1:1,o={y:qt(s[2],n),M:qt(s[3],n),w:qt(s[4],n),d:qt(s[5],n),h:qt(s[6],n),m:qt(s[7],n),s:qt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Kt(_t(o.from),_t(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new kt(o),Ct(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return e.isValid()&&t.isValid()?(t=At(t,e),e.isBefore(t)?n=Gt(e,t):(n=Gt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function zt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Wt(n,r),Qt(this,i,e),this}}function Qt(t,n,r,i){var o=n._milliseconds,a=Et(n._days),s=Et(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&U(t,"Date",H(t,"Date")+a*r),s&&ce(t,H(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function Jt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $t(t,n){var r=t||_t(),i=At(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(L(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,_t(r)))}function Xt(){return new y(this)}function Zt(e,t){var n=v(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function en(e,t){var n=v(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function tn(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function nn(e,t){var n,r=v(e)?e:_t(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function an(e,t,n){var r,i,o,a;return this.isValid()&&(r=At(e,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),"year"===(t=R(t))||"month"===t||"quarter"===t?(a=sn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:_(a)):NaN}function sn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function un(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(Date.prototype.toISOString)?this.toDate().toISOString():Q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ln(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function dn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Q(this,t);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()&&(v(e)&&e.isValid()||_t(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.from(_t(),e)}function fn(e,t){return this.isValid()&&(v(e)&&e.isValid()||_t(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(_t(),e)}function gn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=tt(e))&&(this._locale=t),this)}function yn(){return this._locale}function vn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function bn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function Mn(){return new Date(this.valueOf())}function Tn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ln(){return this.isValid()?this.toISOString():null}function kn(){return f(this)}function Cn(){return l({},p(this))}function En(){return p(this).overflow}function Dn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function In(e,t){G(0,[e,e.length],0,t)}function An(e){return Pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function xn(e){return Pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return Te(this.year(),1,4)}function Nn(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function Pn(e,t,n,r,i){var o;return null==e?Me(this,r,i).year:(o=Te(e,r,i),t>o&&(t=o),Rn.call(this,e,t,n,r,i))}function Rn(e,t,n,r,i){var o=we(e,t,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Yn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Fn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function jn(e,t){t[lo]=b(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Un(e){return _t(1e3*e)}function Vn(){return _t.apply(null,arguments).parseZone()}function Wn(e){return e}function qn(e,t,n,r){var i=tt(),o=d().set(r,t);return i[n](o,e)}function Gn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return qn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=qn(e,r,n,"month");return i}function Kn(e,t,n,r){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=tt(),o=e?i._week.dow:0;if(null!=n)return qn(t,(n+o)%7,r,"day");var s,u=[];for(s=0;s<7;s++)u[s]=qn(t,(s+o)%7,r,"day");return u}function zn(e,t){return Gn(e,t,"months")}function Qn(e,t){return Gn(e,t,"monthsShort")}function Jn(e,t,n){return Kn(e,t,n,"weekdays")}function $n(e,t,n){return Kn(e,t,n,"weekdaysShort")}function Xn(e,t,n){return Kn(e,t,n,"weekdaysMin")}function Zn(){var e=this._data;return this._milliseconds=ia(this._milliseconds),this._days=ia(this._days),this._months=ia(this._months),e.milliseconds=ia(e.milliseconds),e.seconds=ia(e.seconds),e.minutes=ia(e.minutes),e.hours=ia(e.hours),e.months=ia(e.months),e.years=ia(e.years),this}function er(e,t,n,r){var i=Wt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tr(e,t){return er(this,e,t,1)}function nr(e,t){return er(this,e,t,-1)}function rr(e){return e<0?Math.floor(e):Math.ceil(e)}function ir(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*rr(ar(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=_(o/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,a+=_(n/24),i=_(or(a)),s+=i,a-=rr(ar(i)),r=_(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function or(e){return 4800*e/146097}function ar(e){return 146097*e/4800}function sr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+or(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ar(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ur(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function cr(e){return function(){return this.as(e)}}function lr(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function dr(e){return function(){return this.isValid()?this._data[e]:NaN}}function hr(){return _(this.days()/7)}function pr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function fr(e,t,n){var r=Wt(e).abs(),i=ba(r.as("s")),o=ba(r.as("m")),a=ba(r.as("h")),s=ba(r.as("d")),u=ba(r.as("M")),c=ba(r.as("y")),l=i<=wa.ss&&["s",i]||i<wa.s&&["ss",i]||o<=1&&["m"]||o<wa.m&&["mm",o]||a<=1&&["h"]||a<wa.h&&["hh",a]||s<=1&&["d"]||s<wa.d&&["dd",s]||u<=1&&["M"]||u<wa.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,pr.apply(null,l)}function mr(e){return void 0===e?ba:"function"==typeof e&&(ba=e,!0)}function gr(e,t){return void 0!==wa[e]&&(void 0===t?wa[e]:(wa[e]=t,"s"===e&&(wa.ss=t-1),!0))}function yr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=fr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function vr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=Ma(this._milliseconds)/1e3,i=Ma(this._days),o=Ma(this._months);t=_((e=_(r/60))/60),r%=60,e%=60;var a=n=_(o/12),s=o%=12,u=i,c=t,l=e,d=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(c||l||d?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(d?d+"S":""):"P0D"}
//! moment.js locale configuration
//! locale : Belarusian [be]
//! author : Dmitry Demidov : https://github.com/demidov91
//! author: Praleska: http://praleska.pro/
//! Author : Menelion Elensúle : https://github.com/Oire
function _r(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function br(e,t,n){return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+_r({mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n],+e)}
//! moment.js locale configuration
//! locale : Breton [br]
//! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou
function wr(e,t,n){return e+" "+Sr({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function Mr(e){switch(Tr(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function Tr(e){return e>9?Tr(e%10):e}function Sr(e,t){return 2===t?Lr(e):e}function Lr(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}
//! moment.js locale configuration
//! locale : Bosnian [bs]
//! author : Nedim Cholich : https://github.com/frontyard
//! based on (hr) translation by Bojan Marković
function kr(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function Cr(e){return e>1&&e<5&&1!=~~(e/10)}function Er(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(Cr(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(Cr(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(Cr(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(Cr(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(Cr(e)?"roky":"let"):i+"lety"}}
//! moment.js locale configuration
//! locale : German (Austria) [de-at]
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensúle: https://github.com/Oire
//! author : Martin Groller : https://github.com/MadMG
//! author : Mikolaj Dadela : https://github.com/mik01aj
function Dr(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}
//! moment.js locale configuration
//! locale : German (Switzerland) [de-ch]
//! author : sschueller : https://github.com/sschueller
function Ir(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}
//! moment.js locale configuration
//! locale : German [de]
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensúle: https://github.com/Oire
//! author : Mikolaj Dadela : https://github.com/mik01aj
function Ar(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}
//! moment.js locale configuration
//! locale : Estonian [et]
//! author : Henry Kehlmann : https://github.com/madhenry
//! improvements : Illimar Tambek : https://github.com/ragulka
function xr(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}function Or(e,t,n,r){var i="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":i=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":i=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":i=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":i=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":i=r?"vuoden":"vuotta"}return i=Nr(e,r)+" "+i}function Nr(e,t){return e<10?t?Za[e]:Xa[e]:e}
//! moment.js locale configuration
//! locale : Konkani Latin script [gom-latn]
//! author : The Discoverer : https://github.com/WikiDiscoverer
function Pr(e,t,n,r){var i={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}
//! moment.js locale configuration
//! locale : Croatian [hr]
//! author : Bojan Marković : https://github.com/bmarkovic
function Rr(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function Yr(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function Fr(e){return(e?"":"[múlt] ")+"["+cs[this.day()]+"] LT[-kor]"}
//! moment.js locale configuration
//! locale : Icelandic [is]
//! author : Hinrik Örn Sigurðsson : https://github.com/hinrik
function jr(e){return e%100==11||e%10!=1}function Br(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return t?"mínúta":"mínútu";case"mm":return jr(e)?i+(t||r?"mínútur":"mínútum"):t?i+"mínúta":i+"mínútu";case"hh":return jr(e)?i+(t||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return t?"dagur":r?"dag":"degi";case"dd":return jr(e)?t?i+"dagar":i+(r?"daga":"dögum"):t?i+"dagur":i+(r?"dag":"degi");case"M":return t?"mánuður":r?"mánuð":"mánuði";case"MM":return jr(e)?t?i+"mánuðir":i+(r?"mánuði":"mánuðum"):t?i+"mánuður":i+(r?"mánuð":"mánuði");case"y":return t||r?"ár":"ári";case"yy":return jr(e)?i+(t||r?"ár":"árum"):i+(t||r?"ár":"ári")}}
//! moment.js locale configuration
//! locale : Luxembourgish [lb]
//! author : mweimerskirch : https://github.com/mweimerskirch
//! author : David Raison : https://github.com/kwisatz
function Hr(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function Ur(e){return Wr(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function Vr(e){return Wr(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function Wr(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return Wr(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return Wr(e)}return e/=1e3,Wr(e)}function qr(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"}function Gr(e,t,n,r){return t?zr(n)[0]:r?zr(n)[1]:zr(n)[2]}function Kr(e){return e%10==0||e>10&&e<20}function zr(e){return fs[e].split("_")}function Qr(e,t,n,r){var i=e+" ";return 1===e?i+Gr(e,t,n[0],r):t?i+(Kr(e)?zr(n)[1]:zr(n)[0]):r?i+zr(n)[1]:i+(Kr(e)?zr(n)[1]:zr(n)[2])}function Jr(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function $r(e,t,n){return e+" "+Jr(ms[n],e,t)}function Xr(e,t,n){return Jr(ms[n],e,t)}function Zr(e,t){return t?"dažas sekundes":"dažām sekundēm"}function ei(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}function ti(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function ni(e,t,n){var r=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return r+(ti(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(ti(e)?"godziny":"godzin");case"MM":return r+(ti(e)?"miesiące":"miesięcy");case"yy":return r+(ti(e)?"lata":"lat")}}
//! moment.js locale configuration
//! locale : Romanian [ro]
//! author : Vlad Gurdiga : https://github.com/gurdiga
//! author : Valentin Agachi : https://github.com/avaly
function ri(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}
//! moment.js locale configuration
//! locale : Russian [ru]
//! author : Viktorminator : https://github.com/Viktorminator
//! Author : Menelion Elensúle : https://github.com/Oire
//! author : Коренберг Марк : https://github.com/socketpair
function ii(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function oi(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+ii({mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n],+e)}function ai(e){return e>1&&e<5}function si(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?i+(ai(e)?"minúty":"minút"):i+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(ai(e)?"hodiny":"hodín"):i+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?i+(ai(e)?"dni":"dní"):i+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?i+(ai(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?i+(ai(e)?"roky":"rokov"):i+"rokmi"}}
//! moment.js locale configuration
//! locale : Slovenian [sl]
//! author : Robert Sedovšek : https://github.com/sedovsek
function ui(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}function ci(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function li(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function di(e,t,n,r){var i=hi(e);switch(n){case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function hi(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),r=e%10,i="";return t>0&&(i+=Ws[t]+"vatlh"),n>0&&(i+=(""!==i?" ":"")+Ws[n]+"maH"),r>0&&(i+=(""!==i?" ":"")+Ws[r]),""===i?"pagh":i}function pi(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}
//! moment.js locale configuration
//! locale : Ukrainian [uk]
//! author : zemlanin : https://github.com/zemlanin
//! Author : Menelion Elensúle : https://github.com/Oire
function fi(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function mi(e,t,n){return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+fi({mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n],+e)}function gi(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};if(!e)return n.nominative;return n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]}function yi(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}var vi,_i,bi=_i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1},wi=e.momentProperties=[],Mi=!1,Ti={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Si,Li,ki=Si=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n},Ci={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ei={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Di="Invalid date",Ii="%d",Ai=/\d{1,2}/,xi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Oi={},Ni={},Pi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ri=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Yi={},Fi={},ji=/\d/,Bi=/\d\d/,Hi=/\d{3}/,Ui=/\d{4}/,Vi=/[+-]?\d{6}/,Wi=/\d\d?/,qi=/\d\d\d\d?/,Gi=/\d\d\d\d\d\d?/,Ki=/\d{1,3}/,zi=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,Ji=/\d+/,$i=/[+-]?\d+/,Xi=/Z|[+-]\d\d:?\d\d/gi,Zi=/Z|[+-]\d\d(?::?\d\d)?/gi,eo=/[+-]?\d+(\.\d{1,3})?/,to=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,no={},ro={},io=0,oo=1,ao=2,so=3,uo=4,co=5,lo=6,ho=7,po=8,fo=Li=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),F("month",8),$("M",Wi),$("MM",Wi,Bi),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[oo]=b(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[oo]=i:p(n).invalidMonth=e});var mo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,go="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vo=to,_o=to;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),P("year","y"),F("year",1),$("Y",$i),$("YY",Wi,Bi),$("YYYY",zi,Ui),$("YYYYY",Qi,Vi),$("YYYYYY",Qi,Vi),te(["YYYYY","YYYYYY"],io),te("YYYY",function(t,n){n[io]=2===t.length?e.parseTwoDigitYear(t):b(t)}),te("YY",function(t,n){n[io]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[io]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var bo=B("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),F("week",5),F("isoWeek",5),$("w",Wi),$("ww",Wi,Bi),$("W",Wi),$("WW",Wi,Bi),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var wo={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),$("d",Wi),$("e",Wi),$("E",Wi),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var Mo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),To="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),So="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lo=to,ko=to,Co=to;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Ve),G("k",["kk",2],0,We),G("hmm",0,0,function(){return""+Ve.apply(this)+q(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Ve.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qe("a",!0),qe("A",!1),P("hour","h"),F("hour",13),$("a",Ge),$("A",Ge),$("H",Wi),$("h",Wi),$("k",Wi),$("HH",Wi,Bi),$("hh",Wi,Bi),$("kk",Wi,Bi),$("hmm",qi),$("hmmss",Gi),$("Hmm",qi),$("Hmmss",Gi),te(["H","HH"],so),te(["k","kk"],function(e,t,n){var r=b(e);t[so]=24===r?0:r}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[so]=b(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[so]=b(e.substr(0,r)),t[uo]=b(e.substr(r)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[so]=b(e.substr(0,r)),t[uo]=b(e.substr(r,2)),t[co]=b(e.substr(i)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[so]=b(e.substr(0,r)),t[uo]=b(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[so]=b(e.substr(0,r)),t[uo]=b(e.substr(r,2)),t[co]=b(e.substr(i))});var Eo,Do=/[ap]\.?m?\.?/i,Io=B("Hours",!0),Ao={calendar:Ci,longDateFormat:Ei,invalidDate:Di,ordinal:Ii,dayOfMonthOrdinalParse:Ai,relativeTime:xi,months:go,monthsShort:yo,week:wo,weekdays:Mo,weekdaysMin:So,weekdaysShort:To,meridiemParse:Do},xo={},Oo={},No=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Po=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ro=/Z|[+-]\d\d(?::?\d\d)?/,Yo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jo=/^\/?Date\((\-?\d+)/i,Bo=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Ho=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Uo=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Vo=function(){return Date.now?Date.now():+new Date},Wo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Dt("Z",":"),Dt("ZZ",""),$("Z",Zi),$("ZZ",Zi),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=It(Zi,e)});var qo=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Go=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ko=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Wt.fn=kt.prototype,Wt.invalid=Lt;var zo=zt(1,"add"),Qo=zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jo=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),In("gggg","weekYear"),In("ggggg","weekYear"),In("GGGG","isoWeekYear"),In("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),$("G",$i),$("g",$i),$("GG",Wi,Bi),$("gg",Wi,Bi),$("GGGG",zi,Ui),$("gggg",zi,Ui),$("GGGGG",Qi,Vi),$("ggggg",Qi,Vi),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),ne(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),P("quarter","Q"),F("quarter",7),$("Q",ji),te("Q",function(e,t){t[oo]=3*(b(e)-1)}),G("D",["DD",2],"Do","date"),P("date","D"),F("date",9),$("D",Wi),$("DD",Wi,Bi),$("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],ao),te("Do",function(e,t){t[ao]=b(e.match(Wi)[0],10)});var $o=B("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),F("dayOfYear",4),$("DDD",Ki),$("DDDD",Hi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),G("m",["mm",2],0,"minute"),P("minute","m"),F("minute",14),$("m",Wi),$("mm",Wi,Bi),te(["m","mm"],uo);var Xo=B("Minutes",!1);G("s",["ss",2],0,"second"),P("second","s"),F("second",15),$("s",Wi),$("ss",Wi,Bi),te(["s","ss"],co);var Zo=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),F("millisecond",16),$("S",Ki,ji),$("SS",Ki,Bi),$("SSS",Ki,Hi);var ea;for(ea="SSSS";ea.length<=9;ea+="S")$(ea,Ji);for(ea="S";ea.length<=9;ea+="S")te(ea,jn);var ta=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var na=y.prototype;na.add=zo,na.calendar=$t,na.clone=Xt,na.diff=an,na.endOf=_n,na.format=dn,na.from=hn,na.fromNow=pn,na.to=fn,na.toNow=mn,na.get=V,na.invalidAt=En,na.isAfter=Zt,na.isBefore=en,na.isBetween=tn,na.isSame=nn,na.isSameOrAfter=rn,na.isSameOrBefore=on,na.isValid=kn,na.lang=Jo,na.locale=gn,na.localeData=yn,na.max=Uo,na.min=Ho,na.parsingFlags=Cn,na.set=W,na.startOf=vn,na.subtract=Qo,na.toArray=Tn,na.toObject=Sn,na.toDate=Mn,na.toISOString=cn,na.inspect=ln,na.toJSON=Ln,na.toString=un,na.unix=wn,na.valueOf=bn,na.creationData=Dn,na.year=bo,na.isLeapYear=ye,na.weekYear=An,na.isoWeekYear=xn,na.quarter=na.quarters=Yn,na.month=le,na.daysInMonth=de,na.week=na.weeks=Ce,na.isoWeek=na.isoWeeks=Ee,na.weeksInYear=Nn,na.isoWeeksInYear=On,na.date=$o,na.day=na.days=Re,na.weekday=Ye,na.isoWeekday=Fe,na.dayOfYear=Fn,na.hour=na.hours=Io,na.minute=na.minutes=Xo,na.second=na.seconds=Zo,na.millisecond=na.milliseconds=ta,na.utcOffset=Ot,na.utc=Pt,na.local=Rt,na.parseZone=Yt,na.hasAlignedHourOffset=Ft,na.isDST=jt,na.isLocal=Ht,na.isUtcOffset=Ut,na.isUtc=Vt,na.isUTC=Vt,na.zoneAbbr=Bn,na.zoneName=Hn,na.dates=T("dates accessor is deprecated. Use date instead.",$o),na.months=T("months accessor is deprecated. Use month instead",le),na.years=T("years accessor is deprecated. Use year instead",bo),na.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Nt),na.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var ra=E.prototype;ra.calendar=D,ra.longDateFormat=I,ra.invalidDate=A,ra.ordinal=x,ra.preparse=Wn,ra.postformat=Wn,ra.relativeTime=O,ra.pastFuture=N,ra.set=k,ra.months=oe,ra.monthsShort=ae,ra.monthsParse=ue,ra.monthsRegex=pe,ra.monthsShortRegex=he,ra.week=Se,ra.firstDayOfYear=ke,ra.firstDayOfWeek=Le,ra.weekdays=Ae,ra.weekdaysMin=Oe,ra.weekdaysShort=xe,ra.weekdaysParse=Pe,ra.weekdaysRegex=je,ra.weekdaysShortRegex=Be,ra.weekdaysMinRegex=He,ra.isPM=Ke,ra.meridiem=ze,Xe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=T("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=T("moment.langData is deprecated. Use moment.localeData instead.",tt);var ia=Math.abs,oa=cr("ms"),aa=cr("s"),sa=cr("m"),ua=cr("h"),ca=cr("d"),la=cr("w"),da=cr("M"),ha=cr("y"),pa=dr("milliseconds"),fa=dr("seconds"),ma=dr("minutes"),ga=dr("hours"),ya=dr("days"),va=dr("months"),_a=dr("years"),ba=Math.round,wa={ss:44,s:45,m:45,h:22,d:26,M:11},Ma=Math.abs,Ta=kt.prototype;Ta.isValid=St,Ta.abs=Zn,Ta.add=tr,Ta.subtract=nr,Ta.as=sr,Ta.asMilliseconds=oa,Ta.asSeconds=aa,Ta.asMinutes=sa,Ta.asHours=ua,Ta.asDays=ca,Ta.asWeeks=la,Ta.asMonths=da,Ta.asYears=ha,Ta.valueOf=ur,Ta._bubble=ir,Ta.get=lr,Ta.milliseconds=pa,Ta.seconds=fa,Ta.minutes=ma,Ta.hours=ga,Ta.days=ya,Ta.weeks=hr,Ta.months=va,Ta.years=_a,Ta.humanize=yr,Ta.toISOString=vr,Ta.toString=vr,Ta.toJSON=vr,Ta.locale=gn,Ta.localeData=yn,Ta.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vr),Ta.lang=Jo,G("X",0,0,"unix"),G("x",0,0,"valueOf"),$("x",$i),$("X",eo),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(b(e))}),
//! moment.js
//! version : 2.18.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
e.version="2.18.1",t(_t),e.fn=na,e.min=wt,e.max=Mt,e.now=Vo,e.utc=d,e.unix=Un,e.months=zn,e.isDate=s,e.locale=Xe,e.invalid=m,e.duration=Wt,e.isMoment=v,e.weekdays=Jn,e.parseZone=Vn,e.localeData=tt,e.isDuration=Ct,e.monthsShort=Qn,e.weekdaysMin=Xn,e.defineLocale=Ze,e.updateLocale=et,e.locales=nt,e.weekdaysShort=$n,e.normalizeUnits=R,e.relativeTimeRounding=mr,e.relativeTimeThreshold=gr,e.calendarFormat=Jt,e.prototype=na,
//! moment.js locale configuration
//! locale : Afrikaans [af]
//! author : Werner Mollentze : https://github.com/wernerm
e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Arabic (Algeria) [ar-dz]
//! author : Noureddine LOUAHEDJ : https://github.com/noureddineme
e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}}),
//! moment.js locale configuration
//! locale : Arabic (Kuwait) [ar-kw]
//! author : Nusret Parlak: https://github.com/nusretparlak
e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});
//! moment.js locale configuration
//! locale : Arabic (Lybia) [ar-ly]
//! author : Ali Hmer: https://github.com/kikoanis
var Sa={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},La=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},ka={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Ca=function(e){return function(t,n,r,i){var o=La(t),a=ka[e][La(t)];return 2===o&&(a=a[n?0:1]),a.replace(/%d/i,t)}},Ea=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:Ea,monthsShort:Ea,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Ca("s"),m:Ca("m"),mm:Ca("m"),h:Ca("h"),hh:Ca("h"),d:Ca("d"),dd:Ca("d"),M:Ca("M"),MM:Ca("M"),y:Ca("y"),yy:Ca("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Sa[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),
//! moment.js locale configuration
//! locale : Arabic (Morocco) [ar-ma]
//! author : ElFadili Yassine : https://github.com/ElFadiliY
//! author : Abdel Said : https://github.com/abdelsaid
e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}});
//! moment.js locale configuration
//! locale : Arabic (Saudi Arabia) [ar-sa]
//! author : Suhail Alkowaileet : https://github.com/xsoh
var Da={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},Ia={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return Ia[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Da[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}}),
//! moment.js locale configuration
//! locale  :  Arabic (Tunisia) [ar-tn]
//! author : Nader Toukabri : https://github.com/naderio
e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Arabic [ar]
//! author : Abdel Said: https://github.com/abdelsaid
//! author : Ahmed Elkhatib
//! author : forabi https://github.com/forabi
var Aa={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},xa={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Oa=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},Na={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Pa=function(e){return function(t,n,r,i){var o=Oa(t),a=Na[e][Oa(t)];return 2===o&&(a=a[n?0:1]),a.replace(/%d/i,t)}},Ra=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];e.defineLocale("ar",{months:Ra,monthsShort:Ra,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Pa("s"),m:Pa("m"),mm:Pa("m"),h:Pa("h"),hh:Pa("h"),d:Pa("d"),dd:Pa("d"),M:Pa("M"),MM:Pa("M"),y:Pa("y"),yy:Pa("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return xa[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Aa[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});
//! moment.js locale configuration
//! locale : Azerbaijani [az]
//! author : topchiyev : https://github.com/topchiyev
var Ya={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var t=e%10,n=e%100-t,r=e>=100?100:null;return e+(Ya[t]||Ya[n]||Ya[r])},week:{dow:1,doy:7}}),e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:br,mm:br,h:br,hh:br,d:"дзень",dd:br,M:"месяц",MM:br,y:"год",yy:br},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Bulgarian [bg]
//! author : Krasen Borisov : https://github.com/kraz
e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Bengali [bn]
//! author : Kaushik Gandhi : https://github.com/kaushikgandhi
var Fa={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},ja={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return ja[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Fa[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}});
//! moment.js locale configuration
//! locale : Tibetan [bo]
//! author : Thupten N. Chakrishar : https://github.com/vajradog
var Ba={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},Ha={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return Ha[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ba[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}}),e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:wr,h:"un eur",hh:"%d eur",d:"un devezh",dd:wr,M:"ur miz",MM:wr,y:"ur bloaz",yy:Mr},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}}),e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:kr,mm:kr,h:kr,hh:kr,d:"dan",dd:kr,M:"mjesec",MM:kr,y:"godinu",yy:kr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Catalan [ca]
//! author : Juan G. Hurtado : https://github.com/juanghurtado
e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"[el] D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"[el] D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"[el] dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Czech [cs]
//! author : petrbela : https://github.com/petrbela
var Ua="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),Va="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.defineLocale("cs",{months:Ua,monthsShort:Va,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(Ua,Va),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(Va),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(Ua),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:Er,m:Er,mm:Er,h:Er,hh:Er,d:Er,dd:Er,M:Er,MM:Er,y:Er,yy:Er},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Chuvash [cv]
//! author : Anatoly Mironov : https://github.com/mirontoli
e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Welsh [cy]
//! author : Robert Allen : https://github.com/robgallen
//! author : https://github.com/ryangreaves
e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Danish [da]
//! author : Ulrik Nielsen : https://github.com/mrbase
e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Dr,mm:"%d Minuten",h:Dr,hh:"%d Stunden",d:Dr,dd:Dr,M:Dr,MM:Dr,y:Dr,yy:Dr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._März_April_Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Ir,mm:"%d Minuten",h:Ir,hh:"%d Stunden",d:Ir,dd:Ir,M:Ir,MM:Ir,y:Ir,yy:Ir},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Ar,mm:"%d Minuten",h:Ar,hh:"%d Stunden",d:Ar,dd:Ar,M:Ar,MM:Ar,y:Ar,yy:Ar},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Maldivian [dv]
//! author : Jawish Hameed : https://github.com/jawish
var Wa=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],qa=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:Wa,monthsShort:Wa,weekdays:qa,weekdaysShort:qa,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}}),
//! moment.js locale configuration
//! locale : Greek [el]
//! author : Aggelos Karalias : https://github.com/mehiel
e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return L(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : English (Australia) [en-au]
//! author : Jared Morse : https://github.com/jarcoal
e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : English (Canada) [en-ca]
//! author : Jonathan Abourbih : https://github.com/jonbca
e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),
//! moment.js locale configuration
//! locale : English (United Kingdom) [en-gb]
//! author : Chris Gedrim : https://github.com/chrisgedrim
e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : English (Ireland) [en-ie]
//! author : Chris Cartlidge : https://github.com/chriscartlidge
e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : English (New Zealand) [en-nz]
//! author : Luke McGregor : https://github.com/lukemcgregor
e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Esperanto [eo]
//! author : Colin Dean : https://github.com/colindean
//! author : Mia Nordentoft Imperatori : https://github.com/miestasmia
//! comment : miestasmia corrected the translation by colindean
e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Spanish (Dominican Republic) [es-do]
var Ga="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Ka="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ka[e.month()]:Ga[e.month()]:Ga},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Spanish [es]
//! author : Julio Napurí : https://github.com/julionc
var za="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Qa="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Qa[e.month()]:za[e.month()]:za},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:xr,m:xr,mm:xr,h:xr,hh:xr,d:xr,dd:"%d päeva",M:xr,MM:xr,y:xr,yy:xr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Basque [eu]
//! author : Eneko Illarramendi : https://github.com/eillarra
e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Persian [fa]
//! author : Ebrahim Byagowi : https://github.com/ebraminio
var Ja={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},$a={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return $a[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ja[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});
//! moment.js locale configuration
//! locale : Finnish [fi]
//! author : Tarmo Aidantausta : https://github.com/bleadof
var Xa="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),Za=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Xa[7],Xa[8],Xa[9]];e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:Or,m:Or,mm:Or,h:Or,hh:Or,d:Or,dd:Or,M:Or,MM:Or,y:Or,yy:Or},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Faroese [fo]
//! author : Ragnar Johannesen : https://github.com/ragnar123
e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : French (Canada) [fr-ca]
//! author : Jonathan Abourbih : https://github.com/jonbca
e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),
//! moment.js locale configuration
//! locale : French (Switzerland) [fr-ch]
//! author : Gaspard Bucher : https://github.com/gaspard
e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : French [fr]
//! author : John Fischer : https://github.com/jfroffice
e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Frisian [fy]
//! author : Robin van der Vliet : https://github.com/robin0van0der0v
var es="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),ts="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?ts[e.month()]:es[e.month()]:es},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Scottish Gaelic [gd]
//! author : Jon Ashdown : https://github.com/jonashdown
var ns=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],rs=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],is=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],os=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],as=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];e.defineLocale("gd",{months:ns,monthsShort:rs,monthsParseExact:!0,weekdays:is,weekdaysShort:os,weekdaysMin:as,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Galician [gl]
//! author : Juan G. Hurtado : https://github.com/juanghurtado
e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:Pr,m:Pr,mm:Pr,h:Pr,hh:Pr,d:Pr,dd:Pr,M:Pr,MM:Pr,y:Pr,yy:Pr},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}}),
//! moment.js locale configuration
//! locale : Hebrew [he]
//! author : Tomer Cohen : https://github.com/tomer
//! author : Moshe Simantov : https://github.com/DevelopmentIL
//! author : Tal Ater : https://github.com/TalAter
e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}});
//! moment.js locale configuration
//! locale : Hindi [hi]
//! author : Mayank Singhal : https://github.com/mayanksinghal
var ss={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},us={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return us[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ss[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}}),e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Rr,mm:Rr,h:Rr,hh:Rr,d:"dan",dd:Rr,M:"mjesec",MM:Rr,y:"godinu",yy:Rr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Hungarian [hu]
//! author : Adam Brunner : https://github.com/adambrunner
var cs="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Fr.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Fr.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:Yr,m:Yr,mm:Yr,h:Yr,hh:Yr,d:Yr,dd:Yr,M:Yr,MM:Yr,y:Yr,yy:Yr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Armenian [hy-am]
//! author : Armendarabyan : https://github.com/armendarabyan
e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Indonesian [id]
//! author : Mohammad Satrio Utomo : https://github.com/tyok
//! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan
e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:Br,m:Br,mm:Br,h:"klukkustund",hh:Br,d:Br,dd:Br,M:Br,MM:Br,y:Br,yy:Br},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Italian [it]
//! author : Lorenzo : https://github.com/aliem
//! author: Mattia Larentis: https://github.com/nostalgiaz
e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Japanese [ja]
//! author : LI Long : https://github.com/baryon
e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),
//! moment.js locale configuration
//! locale : Javanese [jv]
//! author : Rony Lantip : https://github.com/lantip
//! reference: http://jv.wikipedia.org/wiki/Basa_Jawa
e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Georgian [ka]
//! author : Irakli Janiashvili : https://github.com/irakli-janiashvili
e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის უკან"):/წელი/.test(e)?e.replace(/წელი$/,"წლის უკან"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Kazakh [kk]
//! authors : Nurlan Rakhimzhanov : https://github.com/nurlan
var ls={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(ls[e]||ls[t]||ls[n])},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Cambodian [km]
//! author : Kruy Vanna : https://github.com/kruyvanna
e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Kannada [kn]
//! author : Rajeev Naik : https://github.com/rajeevnaikte
var ds={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},hs={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬ_ಅಕ್ಟೋಬ_ನವೆಂಬ_ಡಿಸೆಂಬ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return hs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ds[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
//! locale : Korean [ko]
//! author : Kyungwook, Park : https://github.com/kyungw00k
//! author : Jeeeyul Lee <jeeeyul@gmail.com>
e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}});
//! moment.js locale configuration
//! locale : Kyrgyz [ky]
//! author : Chyngyz Arystan uulu : https://github.com/chyngyz
var ps={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(ps[e]||ps[t]||ps[n])},week:{dow:1,doy:7}}),e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:Ur,past:Vr,s:"e puer Sekonnen",m:Hr,mm:"%d Minutten",h:Hr,hh:"%d Stonnen",d:Hr,dd:"%d Deeg",M:Hr,MM:"%d Méint",y:Hr,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Lao [lo]
//! author : Ryan Hart : https://github.com/ryanhart2
e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});
//! moment.js locale configuration
//! locale : Lithuanian [lt]
//! author : Mindaugas Mozūras : https://github.com/mmozuras
var fs={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:qr,m:Gr,mm:Qr,h:Gr,hh:Qr,d:Gr,dd:Qr,M:Gr,MM:Qr,y:Gr,yy:Qr},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Latvian [lv]
//! author : Kristaps Karlsons : https://github.com/skakri
//! author : Jānis Elmeris : https://github.com/JanisE
var ms={m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:Zr,m:Xr,mm:$r,h:Xr,hh:$r,d:Xr,dd:$r,M:Xr,MM:$r,y:Xr,yy:$r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Montenegrin [me]
//! author : Miodrag Nikač <miodrag@restartit.me> : https://github.com/miodragnikac
var gs={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=gs.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+gs.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:gs.translate,mm:gs.translate,h:gs.translate,hh:gs.translate,d:"dan",dd:gs.translate,M:"mjesec",MM:gs.translate,y:"godinu",yy:gs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Maori [mi]
//! author : John Corrigan <robbiecloset@gmail.com> : https://github.com/johnideal
e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Macedonian [mk]
//! author : Borislav Mickov : https://github.com/B0k0
e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Malayalam [ml]
//! author : Floyd Pink : https://github.com/floydpink
e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}});
//! moment.js locale configuration
//! locale : Marathi [mr]
//! author : Harshad Kale : https://github.com/kalehv
//! author : Vivek Athalye : https://github.com/vnathalye
var ys={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},vs={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:ei,m:ei,mm:ei,h:ei,hh:ei,d:ei,dd:ei,M:ei,MM:ei,y:ei,yy:ei},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return vs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ys[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
//! locale : Malay [ms-my]
//! note : DEPRECATED, the correct one is [ms]
//! author : Weldan Jamili : https://github.com/weldan
e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Malay [ms]
//! author : Weldan Jamili : https://github.com/weldan
e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Burmese [my]
//! author : Squar team, mysquar.com
//! author : David Rossellat : https://github.com/gholadr
//! author : Tin Aung Lin : https://github.com/thanyawzinmin
var _s={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},bs={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return bs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return _s[e]})},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Norwegian Bokmål [nb]
//! authors : Espen Hovlandsdal : https://github.com/rexxars
//!           Sigurd Gartmann : https://github.com/sigurdga
e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Nepalese [ne]
//! author : suvash : https://github.com/suvash
var ws={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},Ms={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return Ms[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ws[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});
//! moment.js locale configuration
//! locale : Dutch (Belgium) [nl-be]
//! author : Joris Röling : https://github.com/jorisroling
//! author : Jacob Middag : https://github.com/middagj
var Ts="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ss="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ls=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ks=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ss[e.month()]:Ts[e.month()]:Ts},monthsRegex:ks,monthsShortRegex:ks,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ls,longMonthsParse:Ls,shortMonthsParse:Ls,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Dutch [nl]
//! author : Joris Röling : https://github.com/jorisroling
//! author : Jacob Middag : https://github.com/middagj
var Cs="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Es="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ds=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Is=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Es[e.month()]:Cs[e.month()]:Cs},monthsRegex:Is,monthsShortRegex:Is,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ds,longMonthsParse:Ds,shortMonthsParse:Ds,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Nynorsk [nn]
//! author : https://github.com/mechuwind
e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Punjabi (India) [pa-in]
//! author : Harpreet Singh : https://github.com/harpreetkhalsagtbit
var As={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},xs={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return xs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return As[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}});
//! moment.js locale configuration
//! locale : Polish [pl]
//! author : Rafal Hirsz : https://github.com/evoL
var Os="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),Ns="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+Ns[e.month()]+"|"+Os[e.month()]+")":/D MMMM/.test(t)?Ns[e.month()]:Os[e.month()]:Os},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:ni,mm:ni,h:ni,hh:ni,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:ni,y:"rok",yy:ni},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Portuguese (Brazil) [pt-br]
//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira
e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"}),
//! moment.js locale configuration
//! locale : Portuguese [pt]
//! author : Jefferson : https://github.com/jalex79
e.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:ri,h:"o oră",hh:ri,d:"o zi",dd:ri,M:"o lună",MM:ri,y:"un an",yy:ri},week:{dow:1,doy:7}});var Ps=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:Ps,longMonthsParse:Ps,shortMonthsParse:Ps,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:oi,mm:oi,h:"час",hh:oi,d:"день",dd:oi,M:"месяц",MM:oi,y:"год",yy:oi},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Sindhi [sd]
//! author : Narain Sagar : https://github.com/narainsagar
var Rs=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],Ys=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:Rs,monthsShort:Rs,weekdays:Ys,weekdaysShort:Ys,weekdaysMin:Ys,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Northern Sami [se]
//! authors : Bård Rolstad Henriksen : https://github.com/karamell
e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Sinhalese [si]
//! author : Sampath Sitinamaluwa : https://github.com/sampathsris
e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}});
//! moment.js locale configuration
//! locale : Slovak [sk]
//! author : Martin Minka : https://github.com/k2s
//! based on work of petrbela : https://github.com/petrbela
var Fs="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),js="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.defineLocale("sk",{months:Fs,monthsShort:js,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:si,m:si,mm:si,h:si,hh:si,d:si,dd:si,M:si,MM:si,y:si,yy:si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:ui,m:ui,mm:ui,h:ui,hh:ui,d:ui,dd:ui,M:ui,MM:ui,y:ui,yy:ui},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Albanian [sq]
//! author : Flakërim Ismani : https://github.com/flakerimi
//! author : Menelion Elensúle : https://github.com/Oire
//! author : Oerd Cukalla : https://github.com/oerd
e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Serbian Cyrillic [sr-cyrl]
//! author : Milan Janačković<milanjanackovic@gmail.com> : https://github.com/milan-j
var Bs={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=Bs.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+Bs.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:Bs.translate,mm:Bs.translate,h:Bs.translate,hh:Bs.translate,d:"дан",dd:Bs.translate,M:"месец",MM:Bs.translate,y:"годину",yy:Bs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Serbian [sr]
//! author : Milan Janačković<milanjanackovic@gmail.com> : https://github.com/milan-j
var Hs={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=Hs.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+Hs.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:Hs.translate,mm:Hs.translate,h:Hs.translate,hh:Hs.translate,d:"dan",dd:Hs.translate,M:"mesec",MM:Hs.translate,y:"godinu",yy:Hs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : siSwati [ss]
//! author : Nicolai Davies<mail@nicolai.io> : https://github.com/nicolaidavies
e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Swedish [sv]
//! author : Jens Alm : https://github.com/ulmus
e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Swahili [sw]
//! author : Fahad Kassim : https://github.com/fadsel
e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Tamil [ta]
//! author : Arjunkumar Krishnamoorthy : https://github.com/tk120404
var Us={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},Vs={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return Vs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Us[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}}),
//! moment.js locale configuration
//! locale : Telugu [te]
//! author : Krishna Chaitanya Thota : https://github.com/kcthota
e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
//! locale : Tetun Dili (East Timor) [tet]
//! author : Joshua Brooks : https://github.com/joshbrooks
//! author : Onorio De J. Afonso : https://github.com/marobo
e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Thai [th]
//! author : Kridsada Thanabulpong : https://github.com/sirn
e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}}),
//! moment.js locale configuration
//! locale : Tagalog (Philippines) [tl-ph]
//! author : Dan Hagman : https://github.com/hagmandan
e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Klingon [tlh]
//! author : Dominika Kruk : https://github.com/amaranthrose
var Ws="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:ci,past:li,s:"puS lup",m:"wa’ tup",mm:di,h:"wa’ rep",hh:di,d:"wa’ jaj",dd:di,M:"wa’ jar",MM:di,y:"wa’ DIS",yy:di},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
//! locale : Turkish [tr]
//! authors : Erhan Gundogan : https://github.com/erhangundogan,
//!           Burak Yiğit Kaya: https://github.com/BYK
var qs={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var t=e%10,n=e%100-t,r=e>=100?100:null;return e+(qs[t]||qs[n]||qs[r])},week:{dow:1,doy:7}}),
//! moment.js locale configuration
//! locale : Talossan [tzl]
//! author : Robin van der Vliet : https://github.com/robin0van0der0v
//! author : Iustì Canun
e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:pi,M:pi,MM:pi,y:pi,yy:pi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
//! locale : Central Atlas Tamazight Latin [tzm-latn]
//! author : Abdel Said : https://github.com/abdelsaid
e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),
//! moment.js locale configuration
//! locale : Central Atlas Tamazight [tzm]
//! author : Abdel Said : https://github.com/abdelsaid
e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:gi,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:yi("[Сьогодні "),nextDay:yi("[Завтра "),lastDay:yi("[Вчора "),nextWeek:yi("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return yi("[Минулої] dddd [").call(this);case 1:case 2:case 4:return yi("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:mi,mm:mi,h:"годину",hh:mi,d:"день",dd:mi,M:"місяць",MM:mi,y:"рік",yy:mi},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});
//! moment.js locale configuration
//! locale : Urdu [ur]
//! author : Sawood Alam : https://github.com/ibnesayeed
//! author : Zack : https://github.com/ZackVision
var Gs=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],Ks=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];
//! moment.js locale configuration
//! locale : Uzbek Latin [uz-latn]
//! author : Rasulbek Mirzayev : github.com/Rasulbeeek
//! moment.js locale configuration
//! locale : Uzbek [uz]
//! author : Sardor Muminov : https://github.com/muminoff
//! moment.js locale configuration
//! locale : Vietnamese [vi]
//! author : Bang Nguyen : https://github.com/bangnk
//! moment.js locale configuration
//! locale : Pseudo [x-pseudo]
//! author : Andrew Hood : https://github.com/andrewhood125
//! moment.js locale configuration
//! locale : Yoruba Nigeria [yo]
//! author : Atolagbe Abisoye : https://github.com/andela-batolagbe
//! moment.js locale configuration
//! locale : Chinese (China) [zh-cn]
//! author : suupic : https://github.com/suupic
//! author : Zeno Zeng : https://github.com/zenozeng
//! moment.js locale configuration
//! locale : Chinese (Hong Kong) [zh-hk]
//! author : Ben : https://github.com/ben-lin
//! author : Chris Lam : https://github.com/hehachris
//! author : Konstantin : https://github.com/skfd
//! moment.js locale configuration
//! locale : Chinese (Taiwan) [zh-tw]
//! author : Ben : https://github.com/ben-lin
//! author : Chris Lam : https://github.com/hehachris
return e.defineLocale("ur",{months:Gs,monthsShort:Gs,weekdays:Ks,weekdaysShort:Ks,weekdaysMin:Ks,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}}),e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),e.locale("en"),e}),define("m_moment",["moment"],function(e){function t(){return navigator.language||navigator.userLanguage}function n(e,t){return s(e)-s(t)}function r(e){"number"!=typeof e&&(e=0);return s(d())==s(e)}function i(e){var t=d(),n=s(t),r=o(t),i=n-(r-1),a=n+(7-r);return thisDayNumber=s(e),thisDayNumber>=i&&thisDayNumber<=a}function o(t){return e(t).day()}function a(e){return"number"!=typeof e&&(e=0),r(e)?u(e):i(e)?l():c(e)}function s(e){var t=new Date(e);return Math.floor(t.getTime()/864e5)}function u(t){return e(t).format("HH:mm")}function c(t){return e(t).format("DD/MM/YYYY")}function l(t){return e(t).format("dddd")}function d(){return e.now()}return e.locale(t()),e.prototype.getLocale=t,e.prototype.offsetDayBetweenTwoDays=n,e.prototype.isThisDay=r,e.prototype.isThisWeek=i,e.prototype.getWeekDay=o,e.prototype.getLightTime=a,e.prototype.getDayNumberByTime=s,e.prototype.getTimeMiniText=u,e.prototype.getFullText=c,e.prototype.getWeekDayText=l,e.prototype.getNowTime=d,window.moment=e,e}),function(e){function t(t){return e(t).filter(function(){return e(this).is(":appeared")})}function n(){a=!1;for(var e=0,n=i.length;e<n;e++){var r=t(i[e]);if(r.trigger("appear",[r]),c[e]){var o=c[e].not(r);o.trigger("disappear",[o])}c[e]=r}}function r(e){i.push(e),c.push()}var i=[],o=!1,a=!1,s={interval:250,force_process:!1},u=e("body"),c=[];e.expr[":"].appeared=function(t){var n=e(t),r=!1;if(!n.is(":visible"))return!1;e(t).attr("connect-appear-scroll-parent")&&(u=e(t).closest(e(t).attr("connect-appear-scroll-parent")),r=!0);var i=u.scrollLeft(),o=u.scrollTop();if(r)a=n.position();else var a=n.offset();var s=a.left,c=a.top;return c+n.height()<=u.height()&&c+n.height()>0&&c-(n.data("appear-top-offset")||0)<=o+u.height()&&s+n.width()>=i&&s-(n.data("appear-left-offset")||0)<=i+u.width()},e.fn.extend({appearByEach:function(t,n){var r=this.selector||this;e(r).each(function(){e(this).appear_once(t,n)})},appear_once:function(t,n){var r=this.selector||this,i=u,o=!1;if(e(r).attr("connect-appear-my-parent")&&(i=e(r).closest(e(r).attr("connect-appear-my-parent"))),i.length>0&&(u=e(r).closest(i).attr("connect-appear-scroll-parent")),e(r).attr("connect-appear-scroll-parent")&&(u=e(r).closest(e(r).attr("connect-appear-scroll-parent")),haveParentWithPostionRelative=!0),"object"==typeof n&&("string"==typeof n["scroll-parent"]?(u=e(r).closest(n["scroll-parent"]),i=u):"string"==typeof n["scroll-window"]&&(u=e(n["scroll-window"]),i=u),"string"==typeof n["my-filter-parent"]?i=e(r).closest(n["my-filter-parent"]):"string"==typeof n["my-filter-window"]&&(i=e(n["my-filter-window"]))),e(r).is(":appeared"))return t(r),("function"!=typeof n.checkForRemoveClass||n.checkForRemoveClass(r))&&e(r).removeClass("connect-appear"),e(r);("function"!=typeof n.checkForAddClass||n.checkForAddClass(r))&&e(r).addClass("connect-appear");var a=()=>{var a=e(i).children(".connect-appear"),s=a.length-1;if("function"==typeof n.onScrollParent&&n.onScrollParent(u),s<0||o)return!1;o=!0,a.each(function(i){e(this).is(":appeared")&&(("function"!=typeof n.checkForRemoveClass||n.checkForRemoveClass(r))&&e(r).removeClass("connect-appear"),t(this)),s==i&&(o=!1)})};return e(u).unbind("scroll").off("resize").scroll(a).resize(a),e(r)},scrollRight:function(t){var n=this.selector||this;if("number"!=typeof t)return e(n)[0].scrollWidth-e(n)[0].clientWidth-e(n).scrollLeft();{let r=e("#leftBlockInViewWindow")[0].scrollWidth-e("#leftBlockInViewWindow")[0].clientWidth;return e(n).scrollLeft(r-t),n}},scrollBot:function(t){var n=this.selector||this;if("number"!=typeof t)return e(n)[0].scrollHeight-e(n)[0].clientHeight-e(n).scrollTop();{let r=e("#leftBlockInViewWindow")[0].scrollHeight-e("#leftBlockInViewWindow")[0].clientHeight;return e(n).scrollTop(r-t),n}},appear:function(t){var i=e.extend({},s,t||{}),c=this.selector||this;if(e(c).attr("connect-appear-scroll-parent")&&(u=e(c).closest(e(c).attr("connect-appear-scroll-parent"))),!o){var l=function(){a||(a=!0,setTimeout(n,i.interval))};e(u).scroll(l).resize(l),o=!0}return i.force_process&&setTimeout(n,i.interval),r(c),e(c)}}),e.extend({force_appear:function(){return!!o&&(n(),!0)}})}(jQuery),define("jquery.appear",["jquery"],function(e){return function(){var t;return t||e.jQuery.fn.appear}}(this)),define("v_app-chat",["jquery","template7","v_app","dictionary","m_moment","jquery.appear"],function(e,t,n,r,i){function o(e){return t.compile(y.appTemplate)(e)}function a(e){var n=t.compile(y.chiefHeader_user);return r.withString(n(e))}function s(e,t){if("string"!=typeof t&&(t="end"),void 0!==e.online){var o=parseInt(e.online)||0;0==o?delete e.online:o>1&&(delete e.online,e.offlineTime=r.withString("[dictionary-was] "+i(o).calendar()))}var s={app:g.name,page:g.pageIndex};s.content=a(e),n.safeViewAppHeaderWithContent(s,t)}function u(){n.effScrollToButtom("#leftBlockInViewWindow",300)}function c(e){return t.compile(y.app)(e)}function l(t){e("#leftBlockInViewWindow ").prepend(f({chatId:t}))}function d(){e("#leftBlockInViewWindow .ChatViewInAppWindow").hide()}function h(t){e("#leftBlockInViewWindow .ChatViewInAppWindow[connect_chatid='"+t+"']").show()}function p(t){return e("#leftBlockInViewWindow .ChatViewInAppWindow[connect_chatid='"+t+"']").length}function f(e){return t.compile(y.chatContainer)(e)}const m={},g={name:"base",pageIndex:"index"},y={};return y.app='\n\t\t<div id="subViewInViewAndChatBlock">\n\t\t   <div id="menuWindowInSubView"></div>\n\t\t   <div id="viewWindow" class="appChiefWindow">\n\t\t      <div>\n\t\t         <div id="leftBlockInViewWindow"></div>\n\t\t      </div>\n\t\t   </div>\n\t\t</div>\n\t',y.chatContainer="\n\t\t<div class='ChatViewInAppWindow' connect_chatid='{{chatId}}'>{{content}}</div>\n\t",y.chiefHeader_user='\n\t\t    <div class="appBase_pIndexLeftBlockInChiefHeader" connect_chatid="{{chatId}}"  connect_uid="{{uid}}">\n\t\t       {{#if back}}\n\t\t\t   <div class="appBase_backButton"></div>\n\t\t\t   {{/if}}\n\t\t\t   <div class="appBase_iconChief">\n\t\t\t      <a href="#"><img src="{{icon}}" class="appBase_pIndexUserImg"></a>\n\t\t\t      {{#if servise}}\n\t\t\t      <div class="appBase_userTypeBlock"><a href="#" class="CML" cmlk="[dictionary-servise]">[dictionary-service]</a></div>\n\t\t\t      {{/if}}\n\t\t\t   </div>\n\t\t\t   <div class="appBase_infoBlock">\n\t\t\t      <div class="appBase_userNameBlock">\n\t\t\t         <a href="#" class="CML" cmlk="[dictionary-name]">{{name}}</a>\n\t\t\t      \t {{#if verified}}\n\t\t\t         <div class="appBase_iconUserVerified"></div>\n\t\t\t         {{/if}}\n\t\t\t      </div>\n\t\t\t      <div class="appBase_userStateBlock">\n\t\t        \t<span class="appBase_userStateOnline CML" cmlk="[dictionary-servise]" {{#if online}}{{else}}style=\'display:none\'{{/if}}>[dictionary-online]</span>\n\n\t\t\t\t\t\n\t\t\t        <span class="appBase_userStateOffline CML" {{#if online}}style=\'display:none\'{{/if}}>{{offlineTime}}</span>\n\t\t\t        {{#if offlineTime}}{{/if}}\n\t\t\t      </div>\n\t\t\t      <div class="appBase_chiefHeaderThirdLine">\n\t\t\t\t\t\n\t\t\t        <div class="appBase_onlineEyeIcon"></div>\n\t\t\t        {{#if watchNow}}{{/if}}\n\t\t\t      </div>\n\t\t\t   </div>\n\t\t\t</div>\n\t\t\t<div class="appBase_pIndexRightBlockInChiefHeader"></div>\n\t\t',y.appTemplate='\n\t\t<div class="aCpI_streamVideo">\n\t\t  <video class="aCpI_videoStreamElement" muted></video>\n\t\t  <div class="aCpI_videoStreamTimeCounter"></div>\n\t\t</div>\n\t\t<div class="chatBlockInViewBlock">\n\t\t   <div class="viewesFooterUnderWindow">\n\t\t      <div id="senderBlockInViewBlock">\n\t\t         <div class="boxInMessageSenderBlock">\n\t\t            <div class="counterInChatId"></div>\n\t\t            <div class="buttonChatToBottom"></div>\n\t\t         </div>\n\t\t         \n\t\t         <div class="effectsForCancelling _noneSelect">\n\t\t         \t<div class="cancellingAudio effectsFlag"></div>\n\t\t         \t<div class="cancellingVideo effectsFlag"></div>\n\t\t         </div>\n\n\t\t         <div class="cancelBtnInMsgSenderButton"></div>\n\n\n\t\t         <div class="timerInMsgSenderBlock">\n\t\t         \t<div class=\'audioTimerInMsgSenderBlock\'></div>\n\t\t         \t<div class=\'videoTimerInMsgSenderBlock\'></div>\n\t\t         \t<span></span>\n\t\t         </div>\n\t\t         <div id="bottomViewInMsgBlock">\n\t\t            <ul class="rawBlockInBottomView">\n\t\t               <li class="LineInBottomViewRawBlock">1</li>\n\t\t               <li class="LineInBottomViewRawBlock">2</li>\n\t\t            </ul>\n\t\t         </div>\n\t\t         <div id="sendTextButtonInSenderBlock" class="sendMsgButtons _noneSelect"></div>\n\t\t         <div id="sendLiveAudioButtonInSenderBlock" class="sendMsgButtons _noneSelect"></div>\n\t\t         <div id="sendLiveVideoButtonInSenderBlock" class="sendMsgButtons hideHalfSendMsgButton _noneSelect"></div>\n\t\t         <div id="forTextInputInSenderBlock">\n\t\t            <textarea ></textarea>\n\t\t         </div>\n\t\t         <div class="connectButtonInMsgSenderBlock"></div>\n\t\t      </div>\n\t\t   </div>\n\t\t</div>\n\t',m.templates=y,m.getChatSenderBlock=o,m.addUserHeaderInChief=s,m.effChatViewScrollToBot=u,m.getApp=c,m.createChatContainer=l,m.hideChatContainers=d,m.showChatContainerByChatId=h,m.getCountsOfChatContainers=p,m}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("progressbar",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ProgressBar=e()}}(function(){var e;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,r){(function(){var t=this||Function("return this")(),i=function(){"use strict";function i(){}function o(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function a(e,t){return o(t,function(n){e[n]=t[n]}),e}function s(e,t){o(t,function(n){void 0===e[n]&&(e[n]=t[n])})}function u(e,t,n,r,i,o,a){var s,u,l,d=e<o?0:(e-o)/i;for(s in t)t.hasOwnProperty(s)&&(u=a[s],l="function"==typeof u?u:f[u],t[s]=c(n[s],r[s],l,d));return t}function c(e,t,n,r){return e+(t-e)*n(r)}function l(e,t){var n=p.prototype.filter,r=e._filterArgs;o(n,function(i){void 0!==n[i][t]&&n[i][t].apply(e,r)})}function d(e,t,n,r,i,o,a,s,c,d,h){w=t+n+r,M=Math.min(h||b(),w),T=M>=w,S=r-(w-M),e.isPlaying()&&(T?(c(a,e._attachment,S),e.stop(!0)):(e._scheduleId=d(e._timeoutHandler,v),l(e,"beforeTween"),M<t+n?u(1,i,o,a,1,1,s):u(M,i,o,a,r,t+n,s),l(e,"afterTween"),c(i,e._attachment,S)))}function h(e,t){var n={},r=typeof t;return"string"===r||"function"===r?o(e,function(e){n[e]=t}):o(e,function(e){n[e]||(n[e]=t[e]||g)}),n}function p(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=m,void 0!==t&&this.setConfig(t)}var f,m,g="linear",y=500,v=1e3/60,_=Date.now?Date.now:function(){return+new Date},b="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:_;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var w,M,T,S;return p.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=b(),this._start(this.get(),this._attachment),this.resume())},p.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||i,this._step=e.step||i,this._finish=e.finish||i,this._duration=e.duration||y,this._currentState=a({},e.from||this.get()),this._originalState=this.get(),this._targetState=a({},e.to||this.get());var t=this;this._timeoutHandler=function(){d(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,r=this._targetState;return s(r,n),this._easing=h(n,e.easing||g),this._filterArgs=[n,this._originalState,r,this._easing],l(this,"tweenCreated"),this},p.prototype.get=function(){return a({},this._currentState)},p.prototype.set=function(e){this._currentState=e},p.prototype.pause=function(){return this._pausedAtTime=b(),this._isPaused=!0,this},p.prototype.resume=function(){return this._isPaused&&(this._timestamp+=b()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},p.prototype.seek=function(e){e=Math.max(e,0);var t=b();return this._timestamp+e===0?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,d(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},p.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=i,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(l(this,"beforeTween"),u(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),l(this,"afterTween"),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},p.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},p.prototype.filter={},p.prototype.formula={linear:function(e){return e}},f=p.prototype.formula,a(p,{now:b,each:o,tweenProps:u,tweenProp:c,applyFilter:l,shallowCopy:a,defaults:s,composeEasingObject:h}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=d),"object"==typeof r?n.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):void 0===t.Tweenable&&(t.Tweenable=p),p}();i.shallowCopy(i.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){function e(e,t,n,r,i,o){function a(e){return((p*e+f)*e+m)*e}function s(e){return((g*e+y)*e+v)*e}function u(e){return(3*p*e+2*f)*e+m}function c(e){return 1/(200*e)}function l(e,t){return s(h(e,t))}function d(e){return e>=0?e:0-e}function h(e,t){var n,r,i,o,s,c;for(i=e,c=0;c<8;c++){if(o=a(i)-e,d(o)<t)return i;if(s=u(i),d(s)<1e-6)break;i-=o/s}if(n=0,r=1,(i=e)<n)return n;if(i>r)return r;for(;n<r;){if(o=a(i),d(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i}var p=0,f=0,m=0,g=0,y=0,v=0;return m=3*t,f=3*(r-t)-m,p=1-m-f,v=3*n,y=3*(i-n)-v,g=1-v-y,l(e,c(o))}function t(t,n,r,i){return function(o){return e(o,t,n,r,i,1)}}i.setBezierFunction=function(e,n,r,o,a){var s=t(n,r,o,a);return s.displayName=e,s.x1=n,s.y1=r,s.x2=o,s.y2=a,i.prototype.formula[e]=s},i.unsetBezierFunction=function(e){delete i.prototype.formula[e]}}(),function(){function e(e,t,n,r,o,a){return i.tweenProps(r,t,e,n,1,a,o)}var t=new i;t._filterArgs=[],i.interpolate=function(n,r,o,a,s){var u=i.shallowCopy({},n),c=s||0,l=i.composeEasingObject(n,a||"linear");t.set({});var d=t._filterArgs;d.length=0,d[0]=u,d[1]=n,d[2]=r,d[3]=l,i.applyFilter(t,"tweenCreated"),i.applyFilter(t,"beforeTween");var h=e(n,u,r,o,l,c);return i.applyFilter(t,"afterTween"),h}}(),function(e){function t(e,t){var n,r=[],i=e.length;for(n=0;n<i;n++)r.push("_"+t+"_"+n);return r}function n(e){var t=e.match(w);return t?(1===t.length||e.charAt(0).match(b))&&t.unshift(""):t=["",""],t.join(k)}function r(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(L)&&(t[e]=i(n))})}function i(e){return u(L,e,o)}function o(e){var t=a(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function a(e){return 3===(e=e.replace(/#/,"")).length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),C[0]=s(e.substr(0,2)),C[1]=s(e.substr(2,2)),C[2]=s(e.substr(4,2)),C}function s(e){return parseInt(e,16)}function u(e,t,n){var r=t.match(e),i=t.replace(e,k);if(r)for(var o,a=r.length,s=0;s<a;s++)o=r.shift(),i=i.replace(k,n(o));return i}function c(e){return u(T,e,l)}function l(e){for(var t=e.match(M),n=t.length,r=e.match(S)[0],i=0;i<n;i++)r+=parseInt(t[i],10)+",";return r=r.slice(0,-1)+")"}function d(r){var i={};return e.each(r,function(e){var o=r[e];if("string"==typeof o){var a=y(o);i[e]={formatString:n(o),chunkNames:t(a,e)}}}),i}function h(t,n){e.each(n,function(e){for(var r=y(t[e]),i=r.length,o=0;o<i;o++)t[n[e].chunkNames[o]]=+r[o];delete t[e]})}function p(t,n){e.each(n,function(e){var r=t[e],i=m(f(t,n[e].chunkNames),n[e].chunkNames);r=g(n[e].formatString,i),t[e]=c(r)})}function f(e,t){for(var n,r={},i=t.length,o=0;o<i;o++)n=t[o],r[n]=e[n],delete e[n];return r}function m(e,t){E.length=0;for(var n=t.length,r=0;r<n;r++)E.push(e[t[r]]);return E}function g(e,t){for(var n=e,r=t.length,i=0;i<r;i++)n=n.replace(k,+t[i].toFixed(4));return n}function y(e){return e.match(M)}function v(t,n){e.each(n,function(e){var r,i=n[e].chunkNames,o=i.length,a=t[e];if("string"==typeof a){var s=a.split(" "),u=s[s.length-1];for(r=0;r<o;r++)t[i[r]]=s[r]||u}else for(r=0;r<o;r++)t[i[r]]=a;delete t[e]})}function _(t,n){e.each(n,function(e){var r=n[e].chunkNames,i=r.length,o=t[r[0]];if("string"===typeof o){for(var a="",s=0;s<i;s++)a+=" "+t[r[s]],delete t[r[s]];t[e]=a.substr(1)}else t[e]=o})}var b=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,M=/[0-9.\-]+/g,T=new RegExp("rgb\\("+M.source+/,\s*/.source+M.source+/,\s*/.source+M.source+"\\)","g"),S=/^.*\(/,L=/#([0-9]|[a-f]){3,6}/gi,k="VAL",C=[],E=[];e.prototype.filter.token={tweenCreated:function(e,t,n,i){r(e),r(t),r(n),this._tokenData=d(e)},beforeTween:function(e,t,n,r){v(r,this._tokenData),h(e,this._tokenData),h(t,this._tokenData),h(n,this._tokenData)},afterTween:function(e,t,n,r){p(e,this._tokenData),p(t,this._tokenData),p(n,this._tokenData),_(r,this._tokenData)}}}(i)}).call(null)},{}],2:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":7,"./utils":9}],3:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":7,"./utils":9}],4:[function(e,t,n){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(e,t,n){var r=e("shifty"),i=e("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");n=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n);var r;r=i.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var o=this.path.getTotalLength();this.path.style.strokeDasharray=o+" "+o,this.set(0)};a.prototype.value=function(){var e=1-this._getComputedDashOffset()/this.path.getTotalLength();return parseFloat(e.toFixed(6),10)},a.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(e,t,n){t=t||{},i.isFunction(t)&&(n=t,t={});var o=i.extend({},t),a=i.extend({},this._opts);t=i.extend(a,t);var s=this._easing(t.easing),u=this._resolveFromAndTo(e,s,o);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),l=this._progressToOffset(e),d=this;this._tweenable=new r,this._tweenable.tween({from:i.extend({offset:c},u.from),to:i.extend({offset:l},u.to),duration:t.duration,easing:s,step:function(e){d.path.style.strokeDashoffset=e.offset;var n=t.shape||d;t.step(e,n,t.attachment)},finish:function(e){i.isFunction(n)&&n()}})},a.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},a.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},a.prototype._calculateFrom=function(e){return r.interpolate(this._opts.from,this._opts.to,this.value(),e)},a.prototype._calculateTo=function(e,t){return r.interpolate(this._opts.from,this._opts.to,e,t)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},a.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},t.exports=a},{"./utils":9,shifty:1}],6:[function(e,t,n){var r=e("./shape"),i=e("./circle"),o=e("./utils"),a=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,r.apply(this,arguments)};a.prototype=new r,a.prototype.constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},a.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?o.setStyle(n,"transform","translate(-50%, 0)"):o.setStyle(n,"transform","translate(-50%, 50%)"))},a.prototype._pathString=i.prototype._pathString,a.prototype._trailString=i.prototype._trailString,t.exports=a},{"./circle":2,"./shape":7,"./utils":9}],7:[function(e,t,n){var r=e("./path"),i=e("./utils"),o="Object is destroyed",a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),i.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),i.isObject(n)&&i.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var o,a=this._createSvgView(this._opts);if(!(o=i.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=o,this._container.appendChild(a.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&i.setStyles(a.svg,this._opts.svgStyle),this.svg=a.svg,this.path=a.path,this.trail=a.trail,this.text=null;var s=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new r(a.path,s),i.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(e,t,n)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw new Error(o);this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),i.isObject(e)?(i.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},a.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},a.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),i.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},a.prototype._initializeTextContainer=function(e,t,n){},a.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);i.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=a},{"./path":5,"./utils":9}],8:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},o.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=o},{"./shape":7,"./utils":9}],9:[function(e,t,n){function r(e,t,n){e=e||{},t=t||{},n=n||!1;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];n&&d(o)&&d(a)?e[i]=r(o,a,n):e[i]=a}return e}function i(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o="\\{"+r+"\\}",a=new RegExp(o,"g");n=n.replace(a,i)}return n}function o(e,t,n){for(var r=e.style,i=0;i<m.length;++i){r[m[i]+s(t)]=n}r[t]=n}function a(e,t){h(t,function(t,n){null!==t&&void 0!==t&&(d(t)&&!0===t.prefix?o(e,n,t.value):e.style[n]=t)})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){return"string"==typeof e||e instanceof String}function c(e){return"function"==typeof e}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){if(l(e))return!1;return"object"===typeof e&&!!e}function h(e,t){for(var n in e)if(e.hasOwnProperty(n)){t(e[n],n)}}function p(e,t){return Math.abs(e-t)<g}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var m="Webkit Moz O ms".split(" "),g=.001;t.exports={extend:r,render:i,setStyle:o,setStyles:a,capitalize:s,isString:u,isFunction:c,isObject:d,forEachObject:h,floatEquals:p,removeChildren:f}},{}]},{},[4])(4)}),define("m_progressbar",["jquery","progressbar"],function(e,t){function n(n,r,i){function o(n,r,i){var o=e(n).get(0),c=i.color||"#000",l=i.duration||1e3,d=i.colorFrom||"#aaa",h=i.widthFrom||1,p=i.widthTo||4,f=i.colorTo||"#000",m=i.fontSize||"1rem",g=i.easing||"easeInOut",y=i.fontFamily||'"Raleway", Helvetica, sans-serif',v=r;return s=new t.Circle(o,{color:c,strokeWidth:4,trailWidth:1,easing:g,duration:l,text:{autoStyleContainer:!1},from:{color:d,width:h},to:{color:f,width:p},step:function(e,t){t.path.setAttribute("stroke",e.color),t.path.setAttribute("stroke-width",e.width);var n=Math.round(100*t.value());0===n?t.setText(""):t.setText(n)}}),s.text.style.fontFamily=y,s.text.style.fontSize=m,a(v),u}function a(e){"number"==typeof e&&s.animate(e)}var s,u={};return u.start=o,u.to=a,o(n,r,i)}console.log("PROGRESSBAR",t),window.ProgressBar=t;const r={};return r.init=n,r}),define("v_message",["dictionary","m_progressbar","template7","v_app","m_moment","jquery","jquery.appear","jquery.countdown"],function(e,t,n,r,i,o){function a(e){return n.compile(Rt.msg_commonTimeFromMeBlock)(e)}function s(e){return n.compile(Rt.msg_commonTimeToMeBlock)(e)}function u(e,t,n){console.log("msg_updateDomCommonTimeBlock iNchatId,iNmsgId,iNdata",e,t,n),n.timeSentText&&n.timeSent&&c(e,t,n),n.timeReadText&&n.timeRead&&l(e,t,n),n.timeDeliveredText&&n.timeDelivered&&d(e,t,n)}function c(e,t,n){console.log("msg_updateDomTimeSent iNchatId,iNmsgId,iNdata",e,t,n);let r=v(e,t);console.log("msg_updateDomTimeSent msgSelector",r),o(r).attr("time-sent",n.timeSent),o(r+" .topCircleInMessages").show(),o(r+" .timeTopInMessages").html(n.timeSentText).show()}function l(e,t,n){let r=v(e,t);o(r).attr("time-read",n.timeRead),o(r+" .timeBotInMessages").html(n.timeReadText).show()}function d(e,t,n){let r=v(e,t);o(r).attr("time-delivered",n.timeDelivered),o(r+" .botCircleInMessages").attr("title",n.timeDeliveredText).show()}function h(e){return o(e).parent().attr("connect_chatid")}function p(e){return o(e).attr("connect_msg")}function f(e){var t=parseInt(o(e).attr("time-sent"));return"number"==typeof t&&isFinite(t)||(t=0),t}function m(e){var t=parseInt(o(e).attr("time-read"));return"number"==typeof t&&isFinite(t)||(t=0),t}function g(e){var t=parseInt(o(e).attr("time-delivered"));return"number"==typeof t&&isFinite(t)||(t=0),t}function y(e){return n.compile(Rt.msg_boxForMessage)(e)}function v(e,t){return _(e)+" .messagesInChatView[connect_msg='"+t+"']"}function _(e){return"#leftBlockInViewWindow .ChatViewInAppWindow[connect_chatid='"+e+"']"}function b(e,t,n,r){switch(e){case 1:E(t,n,r);break;case 20:P(t,n,r);break;case 21:Q(t,n,r)}}function w(e,t,n,r){switch(console.log("msg_replaceMsgByItsType",e,t,n,r),e){case 1:D(t,n,r);break;case 20:P(t,n,r);break;case 21:Q(t,n,r)}}function M(e,t){var n=_(t);o(n).append(T(e))}function T(e){return n.compile(Rt.msgSimpleText_center)(e)}function S(e,t){return e.class="msgTypeSimpleText",e.uid==t?(e.fromMe=1,e.commonTimeBlock=a(e),e.boxContent=k(e)):(e.toMe=1,e.commonTimeBlock=s(e),e.boxContent=C(e)),y(e)}function L(e,t,n){var r=v(e,t.msgId);t.uid==n?o(r+" .contentTextInFromMeMessage").html(t.content):o(r+" .contentTextInToMeMessage").html(t.content)}function k(e){return n.compile(Rt.msgSimpleText_from)(e)}function C(e){return n.compile(Rt.msgSimpleText_to)(e)}function E(e,t,n){var r=_(n);o(r).append(S(e,t))}function D(e,t,n){we(e,n)>0&&I(e,t,n)}function I(e,t,n){u(n,e.msgId,e),L(n,e,t)}function A(e,t,n){var r=_(n);o(r).append(x(e,t))}function x(e,t){return e.class="msgTypeLiveAudio",e.uid==t?(e.fromMe=1,e.commonTimeBlock=a(e),e.boxContent=O(e)):(e.toMe=1,e.commonTimeBlock=s(e),e.boxContent=N(e)),y(e)}function O(e){return n.compile(Rt.msgLiveAudio_from)(e)}function N(e){return n.compile(Rt.msgLiveAudio_to)(e)}function P(e,t,n){var r=we(e,n);console.log("msgLiveAudio_safeReplace thisIssetLength",r),console.log("msgLiveAudio_safeReplace iNdata, iNmyUid, iNchatId",e,t,n),r>0?R(e,t,n):A(e,t,n)}function R(e,t,n){u(n,e.msgId,e)}function Y(e,t){let n=j(e,t);o(n).show()}function F(e,t){let n=j(e,t);o(n).hide()}function j(e,t){return v(e,t)+" .aCpI_msgLiveAudio_viewWhenUploadingLiveAudioMsg"}function B(e,t){let n=j(e,t);o(n).html()}function H(e,n){Y(e,n);let r=j(e,n);return V(e,n),t.init(r,0,{color:"#000"})}function U(e,t){let n=j(e,t);B(),Y(),o(n).addClass("aCpI_msg_iconUpload")}function V(e,t){let n=j(e,t);o(n).removeClass("aCpI_msg_iconUpload")}function W(e,t,n){let r=j(e,t);o(r).click(function(){o(this).hasClass("aCpI_msg_iconUpload")&&"function"==typeof n&&n()})}function q(e,t,n){var r=_(n);o(r).append(G(e,t))}function G(e,t){return e.class="msgTypeLiveVideo",e.uid==t?(e.fromMe=1,e.commonTimeBlock=a(e),e.boxContent=K(e)):(e.toMe=1,e.commonTimeBlock=s(e),e.boxContent=z(e)),y(e)}function K(e){return n.compile(Rt.msgLiveVideo_from)(e)}function z(e){return n.compile(Rt.msgLiveVideo_to)(e)}function Q(e,t,n){var r=we(e,n);console.log("msgLiveVideo_safeReplace thisIssetLength",r),console.log("msgLiveVideo_safeReplace iNdata, iNmyUid, iNchatId",e,t,n),r>0?J(e,t,n):q(e,t,n)}function J(e,t,n){u(n,e.msgId,e)}function $(e,t){let n=Z(e,t);o(n).show()}function X(e,t){let n=Z(e,t);o(n).hide()}function Z(e,t){return v(e,t)+" .aCpI_msgLiveVideo_viewWhenUploadingVideoLiveMsg"}function ee(e,t){let n=Z(e,t);o(n).html()}function te(e,n){$(e,n);let r=Z(e,n);return re(e,n),t.init(r,0,{color:"#000"})}function ne(e,t){let n=Z(e,t);ee(),$(),o(n).addClass("aCpI_msg_iconUpload")}function re(e,t){let n=Z(e,t);o(n).removeClass("aCpI_msg_iconUpload")}function ie(e,t,n){let r=Z(e,t);o(r).click(function(){o(this).hasClass("aCpI_msg_iconUpload")&&"function"==typeof n&&n()})}function oe(){o(".aCpI_streamVideo").css("display","flex")}function ae(e){o(".aCpI_videoStreamTimeCounter").show(),se(),o(".aCpI_videoStreamTimeCounter").countdown({until:5,description:"",onExpiry:function(){o(this).hide(),"function"==typeof e&&e()},layout:"{sn}"})}function se(e){o(".aCpI_videoStreamTimeCounter").countdown("destroy")}function ue(){o(".aCpI_streamVideo").css("display","none")}function ce(){o(".aCpI_streamVideo > video").remove()}function le(e){ce();var t=document.createElement("video"),n=o(".aCpI_streamVideo").get(0);(t=de(t,{class:"aCpI_videoStreamElement",muted:!0})).srcObject=e,t.play(),n.appendChild(t)}function de(e,t){for(var n in t)"function"!=typeof t[n]&&(e[n]=t[n]);return e}function he(e,t){"number"!=typeof t&&(t=1);let n=pe(e)+t;return fe(e,n),n}function pe(e){let t=Pt.domPathToMsgCounter;return parseInt(o(t).html())||0}function fe(e,t){let n=Pt.domPathToMsgCounter;o(n).attr("connect_chatid",e),o(n).html(t)}function me(){let e=Pt.domPathToMsgCounter;o(e).fadeIn(500)}function ge(){let e=Pt.domPathToMsgCounter;o(e).hide()}function ye(t){var n,r=t.lmsgType,i=t.lmsgText;t.lmsgTime,t.lmsgUid;switch(r){case 1:n=i;break;case 20:n=e.withString("[dictionary-audio]");break;case 21:n=e.withString("[dictionary-video]")}return n}function ve(e){return _(e)+" .messagesInChatView"}function _e(e,t){var n=ve(e);return"string"==typeof t&&(n+=t),o(n)}function be(e){return o(_(e))}function we(e,t){var n=v(t,e.msgId);return o(n).length}function Me(e){"function"==typeof e.simpleMsgText_onClickSendBtn&&(o("#sendTextButtonInSenderBlock").off(),o("#sendTextButtonInSenderBlock").click(function(t){if(""==o("#forTextInputInSenderBlock textarea").val())return!0;e.simpleMsgText_onClickSendBtn(t),o("#forTextInputInSenderBlock textarea").val(""),ot()})),o(".buttonChatToBottom").click(function(){o("#leftBlockInViewWindow").scrollBot(0)}),o("#forTextInputInSenderBlock textarea").keydown(function(e){13==e.which&&(e.preventDefault(),o("#sendTextButtonInSenderBlock").trigger("click"))}).keyup(function(t){if(13==t.which)t.preventDefault();else{nt()>0?We():Ye(),e.simpleMsgText_printing()}}),Te()}function Te(){o(".cancelBtnInMsgSenderButton").hover(function(){o(this).addClass("hover")},function(){o(this).removeClass("hover")})}function Se(e){ke(),Le(),"audio"==e?Ce():"video"==e&&De(),setTimeout(()=>{"audio"==e?Ee():"video"==e&&Ie()},750)}function Le(){o(".chatBlockInViewBlock .effectsForCancelling").show()}function ke(){o(".effectsForCancelling .effectsFlag").hide()}function Ce(){o(".effectsForCancelling .cancellingAudio").show()}function Ee(){o(".effectsForCancelling .cancellingAudio").hide()}function De(){o(".effectsForCancelling .cancellingVideo").show()}function Ie(){o(".effectsForCancelling .cancellingVideo").hide()}function Ae(){o(".chatBlockInViewBlock .cancelBtnInMsgSenderButton").show()}function xe(){o(".chatBlockInViewBlock .cancelBtnInMsgSenderButton").hide()}function Oe(e,t){var n=e,r={},a=!0;"boolean"==typeof t.defaultState&&(a=t.defaultState);var s=!1,u=null,c=!0,l=0;r.down=(()=>{a?(s=!1,c=!0,u=setTimeout(()=>{if(s=!0,"audio"==n)Ke("audio",t.onTimerTick),l=i().getNowTime(),"function"==typeof t.onStart&&t.onStart();else if("video"==n)return ae(()=>{Ke("video",t.onTimerTick),l=i().getNowTime(),"function"==typeof t.onStartVideoRecord&&t.onStartVideoRecord()}),void("function"==typeof t.onStart&&t.onStart())},150)):"function"==typeof t.onOff&&t.onOff()}),o(".cancelBtnInMsgSenderButton").mouseup(()=>{a?c=!1:"function"==typeof t.onOff&&t.onOff()}),r.up=(e=>{if(a)if(clearTimeout(u),se(),!0!==s)Re();else{var r=i().getNowTime()-l;ze(),0!=l&&r>500&&c?"function"==typeof t.onSend&&t.onSend():("audio"==n?Se(n):"video"==n&&Se(n),"function"==typeof t.onDelete&&t.onDelete()),Qe()}else"function"==typeof t.onOff&&t.onOff()}),"audio"==n?o("#sendLiveAudioButtonInSenderBlock").specialClick(r):"video"==n&&o("#sendLiveVideoButtonInSenderBlock").specialClick(r);return{on:()=>{a=!0},off:()=>{a=!1}}}function Ne(e){o("#sendLiveAudioButtonInSenderBlock").mousedown(e)}function Pe(e){o("#sendLiveVideoButtonInSenderBlock").mousedown(e)}function Re(){o("#sendLiveVideoButtonInSenderBlock").hasClass("hideHalfSendMsgButton")?He():je()}function Ye(){Ge(),Fe(),Be()}function Fe(){o("#sendLiveVideoButtonInSenderBlock").show()}function je(){Ue(),o("#sendLiveVideoButtonInSenderBlock").addClass("hideHalfSendMsgButton")}function Be(){o("#sendLiveAudioButtonInSenderBlock").show()}function He(){Ue(),o("#sendLiveAudioButtonInSenderBlock").addClass("hideHalfSendMsgButton")}function Ue(){o(".sendMsgButtons").removeClass("hideHalfSendMsgButton")}function Ve(){o(".sendMsgButtons").hide()}function We(){Ve(),qe()}function qe(){o("#sendTextButtonInSenderBlock").show()}function Ge(){o("#sendTextButtonInSenderBlock").hide()}function Ke(e,t){Je(),Xe(),"audio"==e?Ze():"video"==e&&et(),Ae(),ze(),o(".timerInMsgSenderBlock span").countdown({since:0,compact:!0,format:"MS",description:"",onTick:t})}function ze(){o(".timerInMsgSenderBlock span").countdown("destroy")}function Qe(){$e(),xe()}function Je(){o(".timerInMsgSenderBlock").show()}function $e(){o(".timerInMsgSenderBlock").hide(),xe()}function Xe(){o(".timerInMsgSenderBlock div").hide()}function Ze(){o(".audioTimerInMsgSenderBlock").show()}function et(){o(".videoTimerInMsgSenderBlock").show()}function tt(){return o("#forTextInputInSenderBlock textarea").val()}function nt(){return o("#forTextInputInSenderBlock textarea").val().length}function rt(e,t){_e(e,".toMeMessageInChatView").appearByEach(t.success,{"scroll-window":"#leftBlockInViewWindow","my-filter-window":_(e),checkForAddClass:e=>!o(e).attr("time-read"),checkForRemoveClass:e=>o(e).attr("time-read"),onScrollParent:n=>{o(n).scrollBot()>o(n).height()/2?(o(".buttonChatToBottom").show(),"function"==typeof t.onScrollParentTrue&&t.onScrollParentTrue()):(o(".buttonChatToBottom").hide(),"function"==typeof t.onScrollParentFalse&&t.onScrollParentFalse(e))}})}function it(e,t){clearTimeout(window.connectVarMenuScrollInMenuView),window.connectVarMenuScrollInMenuView=setTimeout(()=>{ot(e,t)},10)}function ot(e,t){if(o(".ChatViewInAppWindow:visible").length<1)return!1;var n=o("#leftBlockInViewWindow").height()/2+200;o("#leftBlockInViewWindow").scrollBot()>n&&0!=o("#leftBlockInViewWindow").scrollTop()?"function"==typeof t&&t():(r.delLoaderInAppView(),r.effScrollToButtom("#leftBlockInViewWindow",0),"function"==typeof e&&e())}function at(){o(".flagForSearchPlayingAudioOrVideo").each(function(e,t){o(this).get(0).pause()})}function st(e){let t=o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg");t.find(".aCpI_msgLiveAudio_viewWhenLoadingLiveAudioMsg").hide(),t.find(".aCpI_msgLiveAudio_controllPlayInAudioMessage").show(),ut(e),ct(e)}function ut(e){var t=moment(1e3*e.currentTime||0).format("mm:ss");o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg").find(".aCpI_msgLiveAudio_timeNowInAudioMessage").html(t)}function ct(e){var t=moment(1e3*e.duration||0).format("mm:ss");o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg").find(".aCpI_msgLiveAudio_timeAllInAudioMessage").html(t)}function lt(e,t){var n=moment(1e3*t||0).format("mm:ss");o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg").find(".aCpI_msgLiveAudio_timeNowInAudioMessage").html(n)}function dt(e,t){var n=pt(e,t).xPercent;Tt(o(t).children(".aCpI_msgLiveAudio_backgroundForAudioMsgOnHover"),n,0);var r=o(t).find(".aCpI_msgLiveAudio_hideAudioBlock audio").get(0);lt(r,mt(r,n))}function ht(e,t){var n=o(t).find(".aCpI_msgLiveAudio_blockInAudioMsg .aCpI_msgLiveAudio_controllPlayInAudioMessage"),r=pt(e,t).xPercent,i=o(t).find(".aCpI_msgLiveAudio_hideAudioBlock audio").get(0);gt(i,mt(i,r)),vt(n,e)}function pt(e,t){var n=e,r=t,i={},a=o(r).offset(),s=o(r).width(),u=o(r).height(),c=a.left,l=a.top;return i.xPx=n.pageX-c,i.yPx=n.pageY-l,i.xPercent=i.xPx/s*100,i.yPercent=i.yPx/u*100,i}function ft(e){Tt(o(e).children(".aCpI_msgLiveAudio_backgroundForAudioMsgOnHover"),0,500)}function mt(e,t){return t*e.duration/100}function gt(e,t){"number"==typeof t&&isFinite(t)&&(e.currentTime=t)}function yt(e){var t=o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg"),n=o(e).closest(".aCpI_msgLiveAudio_contentOfAudioMessage").find(".aCpI_msgLiveAudio_backgroundForAudioMsgOnHover"),r=o(e).closest(".aCpI_msgLiveAudio_contentOfAudioMessage").find(".aCpI_msgLiveAudio_backgroundForAudioMsg"),i=e.currentTime/e.duration*100;0==parseInt(o(n).css("width"))&&ut(e),ct(e),Tt(r,i),i>=100&&setTimeout(()=>{Tt(r,0),Lt(t)},500)}function vt(e,t){if(t){t.stopPropagation()}o(e).nextAll(".aCpI_msgLiveAudio_hideAudioBlock").children("audio").get(0).play()}function _t(e){o(e).addClass("flagForSearchPlayingAudioOrVideo").addClass("flagForSearchPlayingLiveAudio")}function bt(e,t){if(t){t.stopPropagation()}o(e).nextAll(".aCpI_msgLiveAudio_hideAudioBlock").children("audio").get(0).pause()}function wt(e){Mt(e);Lt(o(e).closest(".aCpI_msgLiveAudio_blockInAudioMsg"))}function Mt(e){o(e).removeClass("flagForSearchPlayingAudioOrVideo").removeClass("flagForSearchPlayingLiveAudio")}function Tt(e,t,n){var r=n||500;let i=t.toFixed(2)+"%";e.clearQueue().stop(),0==n?e.css("width",i):e.animate({width:i},r)}function St(e){o(e).children(".aCpI_msgLiveAudio_controllPlayInAudioMessage").hide(),o(e).children(".aCpI_msgLiveAudio_controllPauseInAudioMessage").show()}function Lt(e){o(e).children(".aCpI_msgLiveAudio_controllPauseInAudioMessage").hide(),o(e).children(".aCpI_msgLiveAudio_controllPlayInAudioMessage").show()}function kt(e){o(e).children(".aCpI_msgLiveVideo_backgroundVideoOnHover").show()}function Ct(e){o(e).children(".aCpI_msgLiveVideo_backgroundVideoOnHover").hide()}function Et(e){o(e).addClass("flagForSearchPlayingAudioOrVideo").addClass("flagForSearchPlayingLiveVideo")}function Dt(e){let t=o(e).closest(".aCpI_msgLiveVideo_videoMsgContent").find(".aCpI_msgLiveVideo_backgroundVideoOnHover");o(t).removeClass("aCpI_msgLiveVideo_backgroundPauseVideoOnHover").addClass("aCpI_msgLiveVideo_backgroundPlayVideoOnHover"),It(e)}function It(e){o(e).removeClass("flagForSearchPlayingAudioOrVideo").removeClass("flagForSearchPlayingLiveVideo")}function At(e){o(e).closest(".aCpI_msgLiveVideo_videoMsgContent").find(".aCpI_msgLiveVideo_viewWhenLoadingVideoLiveMsg").hide()}function xt(e){var t=1e3*e.currentTime||0,n=moment(t).format("mm:ss");o(e).closest(".aCpI_msgLiveVideo_videoMsgContent").find(".aCpI_msgLiveVideo_msgNowVideoTime").html(n)}function Ot(e){var t=o(e).hasClass("aCpI_msgLiveVideo_backgroundPauseVideoOnHover"),n=o(e).next().get(0);t?n.pause():n.play()}const Nt={},Pt={},Rt={};return o.fn.extend({specialClick:function(e){var t=this.selector||this,n=!1,r=e,i=()=>{o(window).unbind("mouseup").mouseup(()=>{"function"==typeof r.up&&r.up(n),o(window).unbind("mouseup"),o(this).unbind("mouseout"),o(this).unbind("mouseenter")}),o(t).mouseout(()=>{n=!1,"function"==typeof r.out&&r.out(n)}),o(t).mouseenter(()=>{n=!0,"function"==typeof r.enter&&r.enter(n)})};o(t).unbind("mousedown").mousedown(()=>{n=!0,"function"==typeof r.down&&r.down(n),i()})}}),Rt.msg_boxForMessage='\n\t\t\t<div id=\'msgId{{msgId}}\' class="messagesInChatView {{class}} {{#if appearClass}}connect-appear{{/if}} {{#if fromMe}}fromMeMessageInChatView{{/if}}{{#if toMe}}toMeMessageInChatView{{/if}} {{#if note}}noteMessage{{/if}}"  {{#if timeSent}}time-sent="{{timeSent}}"{{/if}}  {{#if timeRead}}time-read="{{timeRead}}"{{/if}} {{#if timeDelivered}}time-delivered="{{timeDelivered}}"{{/if}}  connect_msg="{{msgId}}" connect-appear-scroll-parent=\'#leftBlockInViewWindow\' connect-appear-my-parent=\'.ChatViewInAppWindow\'>\n\t\t\t\t{{boxContent}}\n\t\t\t</div>\n\t\t',Rt.msg_commonTimeFromMeBlock='\n\t\t\t\t<div class="lineInFromMeMessage">\n\t\t\t      <div class="lineInBoxInLine">\n\t\t\t         \n\t\t\t\t         <div class="topCircleInMessages" {{#if timeSentText}}{{else}}{{/if}}></div>\n\t\t\t\t         <div class="timeTopInMessages">{{timeSentText}}</div>\n\t\t\t         \n\n\t\t\t        <div class="botCircleInMessages" {{#if timeDeliveredText}}{{else}}style="display:none;"{{/if}}  {{#if timeDeliveredText}}title="{{timeDeliveredText}}"{{/if}}></div>\n\t\t         \t<div class="timeBotInMessages" {{#if timeReadText}}{{else}}style="display:none;"{{/if}}>{{#if timeReadText}}{{timeReadText}}{{/if}}</div>\n\n\t\t\t      </div>\n\t\t\t   </div>\n\t\t  \t',Rt.msg_commonTimeToMeBlock='\n\t\t\t\t<div class="lineInToMeMessage">\n\t\t\t   \t\t<div class="lineInBoxInLine">\n\t\t\t\t\t\t \n\t\t\t\t\t\t<div class="topCircleInMessages" {{#if timeSentText}}{{else}}style="display:none;"{{/if}}></div>\n\t\t\t\t\t\t<div class="timeTopInMessages" {{#if timeSentText}}{{else}}style="display:none;"{{/if}}>{{timeSentText}}</div>\n\t\t\t\t         \n\t\t\t\t        <div class="botCircleInMessages" {{#if timeDeliveredText}}{{else}}style="display:none;"{{/if}}  {{#if timeDeliveredText}}title="{{timeDeliveredText}}"{{/if}}></div>\n\t\t\t         \t<div class="timeBotInMessages" {{#if timeReadText}}{{else}}style="display:none;"{{/if}}>{{#if timeReadText}}{{timeReadText}}{{/if}}</div>\n\t\t\t\t  \t</div>\n\t\t\t  \t</div>\n\t\t  \t',Nt.msg_getDomAttrByNameChatId=h,Nt.msg_getDomAttrByNameMsgId=p,Nt.msg_getDomAttrByNameMessageTimeSent=f,Nt.msg_getDomAttrByNameMessageTimeRead=m,Nt.msg_getDomAttrByNameMessageTimeDelivered=g,Nt.msg_getTemplateByNameBoxForMsg=y,Nt.msg_getPathToDomForMsg=v,Nt.msg_getPathToDomForMsg=v,Nt.msg_createMsgByItsType=b,Nt.msg_replaceMsgByItsType=w,Rt.msgSimpleText_center='\n\t\t\t\t<div class="centerMsgInChatView">{{content}}</div>\n\t\t\t',Nt.msgSimpleText_addCenter=M,Nt.msgSimpleText_getTemplateByNameCenter=T,Rt.msgSimpleText_from='\n\t\t   {{commonTimeBlock}}\n\t\t   <div class="contentTextInFromMeMessage">{{content}}</div>\n\t\t',Rt.msgSimpleText_to='\n\t\t   {{commonTimeBlock}}\n\t\t   <div class="contentTextInToMeMessage">{{content}}</div>\n\t\t',Nt.msgSimpleText_getMsg=S,Nt.msgSimpleText_getTemplateByNameFrom=k,Nt.msgSimpleText_getTemplateByNameTo=C,Nt.msgSimpleText_createMsg=E,Nt.msgSimpleText_safeReplace=D,Nt.msgSimpleText_replace=I,Rt.msgLiveAudio_from='\n\t\t   {{commonTimeBlock}}\n\t\t   <div class="aCpI_msgLiveAudio_contentAudioInFromMeMessage aCpI_msgLiveAudio_contentOfAudioMessage" onmousemove="aCpI_msgLiveAudio_onHover(event, this)" onmouseout="aCpI_msgLiveAudio_onMouseOut(this)" onclick="aCpI_msgLiveAudio_onClick(event,this)">\n\t\t      <div class="aCpI_msgLiveAudio_audioMsgPlayedBlock">\n\t\t         <div class="aCpI_msgLiveAudio_playedSpritesInAudioMsg"></div>\n\t\t      </div>\n\t\t      <div class="aCpI_msgLiveAudio_backgroundForAudioMsg aCpI_msgLiveAudio_backgroundForAudioMsgFromMe"></div>\n\t\t      <div class="aCpI_msgLiveAudio_backgroundForAudioMsgOnHover"></div>\n\t\t      <div class="aCpI_msgLiveAudio_blockInAudioMsg">\n\t\t         <div class="aCpI_msgLiveAudio_iconInAudioMessage"></div>\n\t\t         <div class="aCpI_msgLiveAudio_viewWhenUploadingLiveAudioMsg aCpI_fromMeMessage"></div>\n\t\t         <div class="aCpI_msgLiveAudio_viewWhenLoadingLiveAudioMsg"></div>\n\t\t         <div class="aCpI_msgLiveAudio_controllPlayInAudioMessage" onclick="aCpI_msgLiveAudio_playAudioOnClickBtnPlay(this,event)"></div>\n\t\t         <div class="aCpI_msgLiveAudio_controllPauseInAudioMessage" onclick="aCpI_msgLiveAudio_pauseAudioOnClickBtnPause(this,event)"></div>\n\t\t         <div class="aCpI_msgLiveAudio_hideAudioBlock">\n\t\t            <audio class="audioSrc flagAudioOrVideoElement" onplay="aCpI_msgLiveAudio_onEventPlay(this)" onpause="aCpI_msgLiveAudio_onEventPause(this)" preload="auto" src="{{content}}" onloadeddata="aCpI_msgLiveAudio_onEventLoadedAudio(this)" ontimeupdate="aCpI_msgLiveAudio_onEventTimeUpdateForAuidioEl(this)"></audio>\n\t\t         </div>\n\t\t         <div class="aCpI_msgLiveAudio_timeNowInAudioMessage aCpI_msgLiveAudio_timeInAudioMsg"></div>\n\t\t         <div class="aCpI_msgLiveAudio_timeAllInAudioMessage aCpI_msgLiveAudio_timeInAudioMsg"></div>\n\t\t      </div>\n\t\t   </div>\n\t\t',Rt.msgLiveAudio_to='\n\t\t\t{{commonTimeBlock}}\n\t\t\t<div class="aCpI_msgLiveAudio_contentAudioInToMeMessage aCpI_msgLiveAudio_contentOfAudioMessage" onmousemove="aCpI_msgLiveAudio_onHover(event, this)" onmouseout="aCpI_msgLiveAudio_onMouseOut(this)" onclick="aCpI_msgLiveAudio_onClick(event,this)">\n\t\t      <div class="aCpI_msgLiveAudio_audioMsgPlayedBlock">\n\t\t         <div class="aCpI_msgLiveAudio_playedSpritesInAudioMsg"></div>\n\t\t      </div>\n\t\t      <div class="aCpI_msgLiveAudio_backgroundForAudioMsg aCpI_msgLiveAudio_backgroundForAudioMsgToMe"></div>\n\t\t      <div class="aCpI_msgLiveAudio_backgroundForAudioMsgOnHover"></div>\n\t\t      <div class="aCpI_msgLiveAudio_blockInAudioMsg">\n\t\t         <div class="aCpI_msgLiveAudio_iconInAudioMessage"></div>\n\t\t\t\t <div class="aCpI_msgLiveAudio_viewWhenUploadingLiveAudioMsg aCpI_toMeMessage"></div>\n\t\t         <div class="aCpI_msgLiveAudio_viewWhenLoadingLiveAudioMsg"></div>\n\t\t         <div class="aCpI_msgLiveAudio_controllPlayInAudioMessage" onclick="aCpI_msgLiveAudio_playAudioOnClickBtnPlay(this,event)"></div>\n\t\t         <div class="aCpI_msgLiveAudio_controllPauseInAudioMessage" onclick="aCpI_msgLiveAudio_pauseAudioOnClickBtnPause(this,event)"></div>\n\t\t         <div class="aCpI_msgLiveAudio_hideAudioBlock">\n\t\t            <audio class="audioSrc flagAudioOrVideoElement" onplay="aCpI_msgLiveAudio_onEventPlay(this)" onpause="aCpI_msgLiveAudio_onEventPause(this)" preload="auto" src="{{content}}" onloadeddata="aCpI_msgLiveAudio_onEventLoadedAudio(this)" ontimeupdate="aCpI_msgLiveAudio_onEventTimeUpdateForAuidioEl(this)"></audio>\n\t\t         </div>\n\t\t         <div class="aCpI_msgLiveAudio_timeNowInAudioMessage aCpI_msgLiveAudio_timeInAudioMsg"></div>\n\t\t         <div class="aCpI_msgLiveAudio_timeAllInAudioMessage aCpI_msgLiveAudio_timeInAudioMsg"></div>\n\t\t      </div>\n\t\t    </div>\n\t\t',Nt.msgLiveAudio_createMsg=A,Nt.msgLiveAudio_getMsg=x,Nt.msgLiveAudio_getTemplateByNameFrom=O,Nt.msgLiveAudio_getTemplateByNameTo=N,Nt.msgLiveAudio_safeReplace=P,Nt.msgLiveAudio_replace=R,Nt.msgLiveAudio_showUploadBlock=Y,Nt.msgLiveAudio_hideUploadBlock=F,Nt.msgLiveAudio_initLoader=H,Nt.msgLiveAudio_showUploadBtn=U,Nt.msgLiveAudio_setObserverForUploadBtn=W,Rt.msgLiveVideo_from='\n\t\t   {{commonTimeBlock}}\n\t\t   <div class="aCpI_msgLiveVideo_contentLiveVideoInFromMeMessage">\n\t\t      <div class="aCpI_msgLiveVideo_videoMsgContent" onmouseenter="aCpI_msgLiveVideo_onEventMouseEnter(this)" onmouseleave="aCpI_msgLiveVideo_onEventMouseLeave(this)">\n\t\t      \t <div class="aCpI_msgLiveVideo_viewWhenUploadingVideoLiveMsg aCpI_fromMeMessage aCpI_msg_iconUpload"></div>\n\t\t      \t <div class=\'aCpI_msgLiveVideo_viewWhenLoadingVideoLiveMsg\'></div>\n\t\t      \t <div class=\'aCpI_msgLiveVideo_msgNowVideoTime\'></div>\n\t\t         <div class="aCpI_msgLiveVideo_backgroundPlayVideoOnHover aCpI_msgLiveVideo_backgroundVideoOnHover" onclick=\'aCpI_msgLiveVideo_onEventClickForBackground(this)\'></div>\n\t\t         \x3c!-- <div class="aCpI_msgLiveVideo_backgroundPauseVideoOnHover aCpI_msgLiveVideo_backgroundVideoOnHover"></div> --\x3e\n\t\t         <video ontimeupdate=\'aCpI_msgLiveVideo_onEventTimeUpdateVideo(this)\' onloadeddata=\'aCpI_msgLiveVideo_onEventLoadedDataVideo(this)\' onplay=\'aCpI_msgLiveVideo_onEventPlayVideo(this)\' onpause=\'aCpI_msgLiveVideo_onEventPauseVideo(this)\' src="{{content}}" class="liveVideoSrc"></video>\n\t\t      </div>\n\t\t   </div>\n\t\t',Rt.msgLiveVideo_to='\n\t\t   {{commonTimeBlock}}\n\t\t   <div class="aCpI_msgLiveVideo_contentLiveVideoInToMeMessage">\n\t\t      <div class="aCpI_msgLiveVideo_videoMsgContent" onmouseenter="aCpI_msgLiveVideo_onEventMouseEnter(this)" onmouseleave="aCpI_msgLiveVideo_onEventMouseLeave(this)">\n\t\t      \t <div class="aCpI_msgLiveVideo_viewWhenUploadingVideoLiveMsg aCpI_toMeMessage aCpI_msg_iconUpload"></div>\n\t\t      \t <div class=\'aCpI_msgLiveVideo_viewWhenLoadingVideoLiveMsg\'></div>\n\t\t      \t <div class=\'aCpI_msgLiveVideo_msgNowVideoTime\'></div>\n\t\t         <div class="aCpI_msgLiveVideo_backgroundPlayVideoOnHover aCpI_msgLiveVideo_backgroundVideoOnHover" onclick=\'aCpI_msgLiveVideo_onEventClickForBackground(this)\'></div>\n\t\t         \x3c!-- <div class="aCpI_msgLiveVideo_backgroundPauseVideoOnHover aCpI_msgLiveVideo_backgroundVideoOnHover"></div> --\x3e\n\t\t         <video ontimeupdate=\'aCpI_msgLiveVideo_onEventTimeUpdateVideo(this)\' onloadeddata=\'aCpI_msgLiveVideo_onEventLoadedDataVideo(this)\' onplay=\'aCpI_msgLiveVideo_onEventPlayVideo(this)\' onpause=\'aCpI_msgLiveVideo_onEventPauseVideo(this)\' src="{{content}}" class="liveVideoSrc"></video>\n\t\t      </div>\n\t\t   </div>\n\t\t',Nt.msgLiveVideo_createMsg=q,Nt.msgLiveVideo_getMsg=G,Nt.msgLiveVideo_getTemplateByNameFrom=K,Nt.msgLiveVideo_getTemplateByNameTo=z,Nt.msgLiveVideo_safeReplace=Q,Nt.msgLiveVideo_replace=J,Nt.msgLiveVideo_showUploadBlock=$,Nt.msgLiveVideo_hideUploadBlock=X,Nt.msgLiveVideo_initLoader=te,Nt.msgLiveVideo_showUploadBtn=ne,Nt.msgLiveVideo_setObserverForUploadBtn=ie,Nt.msgLiveVideo_record_showStreamVideoViewer=oe,Nt.msgLiveVideo_record_startStreamVideoCountdownTimer=ae,Nt.msgLiveVideo_record_clearStreamVideoCountdownTimer=se,Nt.msgLiveVideo_record_hideStreamVideoViewer=ue,Nt.msgLiveVideo_record_setStreamVideoElement=le,Pt.domPathToMsgCounter="#senderBlockInViewBlock .counterInChatId",Nt.plusNewMsgCounter=he,Nt.getNewMsgCounter=pe,Nt.changeNewMsgCounter=fe,Nt.showNewMsgCounter=me,Nt.hideNewMsgCounter=ge,Nt.msg_getLastMsg=ye,Nt.msg_getPathToDomForMessages=ve,Nt.getMessagesDomObjectByChatId=_e,Nt.msg_getDomElForChat=be,Nt.msg_getLength=we,Nt.initApp=Me,Nt.onSpecialClickForSendLiveAudioOrVideo=Oe,Nt.onceMouseDownForAudioLiveRecord=Ne,Nt.onceMouseDownForVideoLiveRecord=Pe,Nt.getContentFromMsgSenderBlock=tt,Nt.getContentLengthFromMsgSenderBlock=nt,Nt.msgSimpleText_setObserverForViewMsgInVisualScrollByChatId=rt,Nt.effChatViewScrollToBotWithTimeOut=it,Nt.effChatViewScrollToBotSafe=ot,window.aCpI_msg_pauseAllOtherPlayingAudioOrVideoEl=at,Nt.msg_pauseAllOtherPlayingAudioOrVideoEl=at,window.aCpI_msgLiveAudio_onEventLoadedAudio=st,window.aCpI_msgLiveAudio_onHover=dt,window.aCpI_msgLiveAudio_onClick=ht,window.aCpI_msgLiveAudio_onMouseOut=ft,window.aCpI_msgLiveAudio_onEventTimeUpdateForAuidioEl=yt,window.aCpI_msgLiveAudio_playAudioOnClickBtnPlay=vt,Nt.msgLiveAudio_addPlayingFlags=_t,window.aCpI_msgLiveAudio_pauseAudioOnClickBtnPause=bt,window.aCpI_msgLiveAudio_onEventPause=wt,Nt.msgLiveAudio_smartViewBtnPauseAudio=St,window.aCpI_msgLiveVideo_onEventMouseEnter=kt,window.aCpI_msgLiveVideo_onEventMouseLeave=Ct,Nt.msgLiveVideo_addPlayingFlags=Et,window.aCpI_msgLiveVideo_onEventPauseVideo=Dt,window.aCpI_msgLiveVideo_onEventLoadedDataVideo=At,window.aCpI_msgLiveVideo_onEventTimeUpdateVideo=xt,window.aCpI_msgLiveVideo_onEventClickForBackground=Ot,Nt}),function(e){"use strict";var t=null,n=null,r=null;!function(){var t=["webkit","moz","o","ms"],n=e.document.createElement("div"),r=-1;for(r=0;r<t.length&&!e.requestAnimationFrame;r++)e.requestAnimationFrame=e[t[r]+"RequestAnimationFrame"];void 0===n.nextElementSibling&&Object.defineProperty(e.Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e;){if(1===e.nodeType)return e;e=e.nextSibling}return null}}),function(e){e.matches=e.matches||e.machesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){return Array.prototype.indexOf.call(this.parentElement.querySelectorAll(e),this)>-1}}(e.Element.prototype),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!1,n=[],r=-1;return t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length,function(i){var o=[],a="",s=-1;if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");for(a in i)e.call(i,a)&&o.push(a);if(t)for(s=0;s<r;s++)e.call(i,n[s])&&o.push(n[s]);return o}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.create&&(Object.create=function(e){var t=function(){};return function(n,r){if(n!==Object(n)&&null!==n)throw TypeError("Argument must be an object, or null");t.prototype=n||{};var i=new t;return t.prototype=null,r!==e&&Object.defineProperties(i,r),null===n&&(i.__proto__=null),i}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t,n,r,i;if(null===this)throw new TypeError;if(r=Object(this),0===(i=r.length>>>0))return-1;if(t=0,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=i)return-1;for(n=t>=0?t:Math.max(i-Math.abs(t),0);n<i;n++)if(n in r&&r[n]===e)return n;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){var t,n,r,i;if("function"!=typeof this)throw new TypeError;return t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))},this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),e.Element.prototype.dispatchEvent||(e.Element.prototype.dispatchEvent=function(e){try{return this.fireEvent("on"+e.type,e)}catch(e){}})}(),(t=function(r,i,o){var a=null,s=!1,u=null,c=null,l=null,d=[],h="",p=[],f=-1;if(l=o||e.document,(s=arguments[3])&&(s="boolean"==typeof s),"string"==typeof r)p=l.querySelectorAll(r);else if(r&&"object"==typeof r&&n.isElement(r,l))p=[r];else{if(!r||"object"!=typeof r||!r.length)throw new Error(t.messages.errorFactoryInvalidContainer());p=r}if(p.length<1)throw new Error(t.messages.errorFactoryContainerNotFound());for(f=0;(a=p[f])&&(!(f>0)||s);f++)a.id?h=a.id:(h="MixItUp"+n.randomHex(),a.id=h),t.instances[h]instanceof t.Mixer?(u=t.instances[h],(!i||i&&i.debug&&!1!==i.debug.showWarnings)&&console.warn(t.messages.warningFactoryPreexistingInstance())):((u=new t.Mixer).attach(a,l,h,i),t.instances[h]=u),c=new t.Facade(u),i&&i.debug&&i.debug.enable?d.push(u):d.push(c);return s?new t.Collection(d):d[0]}).use=function(e){t.Base.prototype.callActions.call(t,"beforeUse",arguments),"function"==typeof e&&"mixitup-extension"===e.TYPE?void 0===t.extensions[e.NAME]&&(e(t),t.extensions[e.NAME]=e):e.fn&&e.fn.jquery&&(t.libraries.$=e,t.registerJqPlugin(e)),t.Base.prototype.callActions.call(t,"afterUse",arguments)},t.registerJqPlugin=function(e){e.fn.mixItUp=function(){var e=arguments[0],n=arguments[1],r=Array.prototype.slice.call(arguments,1),i=[],o=[];return o=this.each(function(){var o=null,a=null;e&&"string"==typeof e?(o=t.instances[this.id],void 0!==(a=o[e].apply(o,r))&&null!==a&&"function"!=typeof a.then&&i.push(a)):t(this,n)}),i.length?i.length>1?i:i[0]:o}},t.instances={},t.extensions={},t.libraries={},n={hasClass:function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){this.hasClass(e,t)||(e.className+=e.className?" "+t:t)},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},extend:function(e,t,n,r){var i=[],o="",a=-1;n=n||!1,r=r||!1;try{if(Array.isArray(t))for(a=0;a<t.length;a++)i.push(a);else t&&(i=Object.keys(t));for(a=0;a<i.length;a++)o=i[a],!n||"object"!=typeof t[o]||this.isElement(t[o])?e[o]=t[o]:Array.isArray(t[o])?(e[o]||(e[o]=[]),this.extend(e[o],t[o],n,r)):(e[o]||(e[o]={}),this.extend(e[o],t[o],n,r))}catch(t){if(!r)throw t;this.handleExtendError(t,e)}return e},handleExtendError:function(e,n){var r=/property "?(\w*)"?[,:] object/i,i=null,o="",a="",s="",u="",c="",l=-1,d=-1;if(e instanceof TypeError&&(i=r.exec(e.message))){o=i[1];for(c in n){for(d=0;d<o.length&&o.charAt(d)===c.charAt(d);)d++;d>l&&(l=d,u=c)}throw l>1&&(s=t.messages.errorConfigInvalidPropertySuggestion({probableMatch:u})),a=t.messages.errorConfigInvalidProperty({erroneous:o,suggestion:s}),new TypeError(a)}throw e},template:function(e){for(var t=/\${([\w]*)}/g,n={},r=null;r=t.exec(e);)n[r[1]]=new RegExp("\\${"+r[1]+"}","g");return function(t){var r="",i=e;t=t||{};for(r in n)i=i.replace(n[r],void 0!==t[r]?t[r]:"");return i}},on:function(t,n,r,i){t&&(t.addEventListener?t.addEventListener(n,r,i):t.attachEvent&&(t["e"+n+r]=r,t[n+r]=function(){t["e"+n+r](e.event)},t.attachEvent("on"+n,t[n+r])))},off:function(e,t,n){e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+n]),e[t+n]=null))},getCustomEvent:function(t,n,r){var i=null;return r=r||e.document,"function"==typeof e.CustomEvent?i=new e.CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):"function"==typeof r.createEvent?(i=r.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n):(i=r.createEventObject(),i.type=t,i.returnValue=!1,i.cancelBubble=!1,i.detail=n),i},getOriginalEvent:function(e){return e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e},index:function(e,t){for(var n=0;null!==(e=e.previousElementSibling);)t&&!e.matches(t)||++n;return n},camelCase:function(e){return e.toLowerCase().replace(/([_-][a-z])/g,function(e){return e.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(e){return(e=this.camelCase(e)).charAt(0).toUpperCase()+e.slice(1)},dashCase:function(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(t,n){return n=n||e.document,!!(e.HTMLElement&&t instanceof e.HTMLElement)||!!(n.defaultView&&n.defaultView.HTMLElement&&t instanceof n.defaultView.HTMLElement)||null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},createElement:function(t,n){var r=null,i=null;for(r=(n=n||e.document).createDocumentFragment(),(i=n.createElement("div")).innerHTML=t;i.firstChild;)r.appendChild(i.firstChild);return r},removeWhitespace:function(e){for(var t;e&&"#text"===e.nodeName;)t=e,e=e.previousSibling,t.parentElement&&t.parentElement.removeChild(t)},isEqualArray:function(e,t){var n=e.length;if(n!==t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0},deepEquals:function(e,t){var n;if("object"==typeof e&&e&&"object"==typeof t&&t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(n in e)if(!t.hasOwnProperty(n)||!this.deepEquals(e[n],t[n]))return!1}else if(e!==t)return!1;return!0},arrayShuffle:function(e){for(var t=e.slice(),n=t.length,r=n,i=-1,o=[];r--;)i=~~(Math.random()*n),o=t[r],t[r]=t[i],t[i]=o;return t},arrayFromList:function(e){var t,n;try{return Array.prototype.slice.call(e)}catch(r){for(t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},debounce:function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r,s=null;s=function(){r=null,n||e.apply(i,o)},clearTimeout(r),r=setTimeout(s,t),a&&e.apply(i,o)}},position:function(e){for(var t=0,n=0,r=e;e;)t-=e.scrollLeft,n-=e.scrollTop,e===r&&(t+=e.offsetLeft,n+=e.offsetTop,r=e.offsetParent),e=e.parentElement;return{x:t,y:n}},getHypotenuse:function(e,t){var n=e.x-t.x,r=e.y-t.y;return n=n<0?-1*n:n,r=r<0?-1*r:r,Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},getIntersectionRatio:function(e,t){var n=e.width*e.height,r=-1,i=-1,o=-1;return r=Math.max(0,Math.min(e.left+e.width,t.left+t.width)-Math.max(e.left,t.left)),i=Math.max(0,Math.min(e.top+e.height,t.top+t.height)-Math.max(e.top,t.top)),o=i*r,o/n},closestParent:function(t,n,r,i){var o=t.parentNode;if(i=i||e.document,r&&t.matches(n))return t;for(;o&&o!=i.body;){if(o.matches&&o.matches(n))return o;if(!o.parentNode)return null;o=o.parentNode}return null},children:function(t,n,r){var i=[],o="";return r=r||e.doc,t&&(t.id||(o="Temp"+this.randomHexKey(),t.id=o),i=r.querySelectorAll("#"+t.id+" > "+n),o&&t.removeAttribute("id")),i},clean:function(e){var t=[],n=-1;for(n=0;n<e.length;n++)""!==e[n]&&t.push(e[n]);return t},defer:function(n){var r=null,i=null,o=null;return i=new this.Deferred,t.features.has.promises?i.promise=new Promise(function(e,t){i.resolve=e,i.reject=t}):(o=e.jQuery||n.$)&&"function"==typeof o.Deferred?(r=o.Deferred(),i.promise=r.promise(),i.resolve=r.resolve,i.reject=r.reject):e.console&&console.warn(t.messages.warningNoPromiseImplementation()),i},all:function(n,r){var i=null;return t.features.has.promises?Promise.all(n):(i=e.jQuery||r.$)&&"function"==typeof i.when?i.when.apply(i,n).done(function(){return arguments}):(e.console&&console.warn(t.messages.warningNoPromiseImplementation()),[])},getPrefix:function(e,t,r){var i=-1,o="";if(n.dashCase(t)in e.style)return"";for(i=0;o=r[i];i++)if(o+t in e.style)return o.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(t){return t="object"==typeof t.body?t:e.document,{scrollTop:e.pageYOffset,scrollLeft:e.pageXOffset,docHeight:t.documentElement.scrollHeight,docWidth:t.documentElement.scrollWidth,viewportHeight:t.documentElement.clientHeight,viewportWidth:t.documentElement.clientWidth}},bind:function(e,t){return function(){return t.apply(e,arguments)}},isVisible:function(t){var n=null;return!!t.offsetParent||"fixed"===(n=e.getComputedStyle(t)).position&&"hidden"!==n.visibility&&"0"!==n.opacity},seal:function(e){"function"==typeof Object.seal&&Object.seal(e)},freeze:function(e){"function"==typeof Object.freeze&&Object.freeze(e)},compareVersions:function(e,t){var n=e.split("."),r=t.split("."),i=-1,o=-1,a=-1;for(a=0;a<n.length;a++){if(i=parseInt(n[a].replace(/[^\d.]/g,"")),(o=parseInt(r[a].replace(/[^\d.]/g,"")||0))<i)return!1;if(o>i)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=n.randomHex()},isEmptyObject:function(e){var t="";if("function"==typeof Object.keys)return 0===Object.keys(e).length;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},getClassname:function(e,t,n){var r="";return(r+=e.block).length&&(r+=e.delineatorElement),r+=e["element"+this.pascalCase(t)],n?(r.length&&(r+=e.delineatorModifier),r+=n):r},getProperty:function(e,t){var n=t.split("."),r=null,i="",o=0;if(!t)return e;for(r=function(e){return e?e[i]:null};o<n.length;)i=n[o],e=r(e),o++;return void 0!==e?e:null}},t.h=n,t.Base=function(){},t.Base.prototype={constructor:t.Base,callActions:function(e,t){var r=this,i=r.constructor.actions[e],o="";if(i&&!n.isEmptyObject(i))for(o in i)i[o].apply(r,t)},callFilters:function(e,t,r){var i=this,o=i.constructor.filters[e],a=t,s="";if(!o||n.isEmptyObject(o))return a;r=r||[];for(s in o)(r=n.arrayFromList(r)).unshift(a),a=o[s].apply(i,r);return a}},t.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(e){n.extend(this.prototype,e)},this.registerAction=function(e,t,n){(this.actions[e]=this.actions[e]||{})[t]=n},this.registerFilter=function(e,t,n){(this.filters[e]=this.filters[e]||{})[t]=n}},t.Features=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new t.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")},t.BaseStatic.call(t.Features),t.Features.prototype=Object.create(t.Base.prototype),n.extend(t.Features.prototype,{constructor:t.Features,init:function(){var e=this;e.callActions("beforeInit",arguments),e.canary=document.createElement("div"),e.setPrefixes(),e.runTests(),e.callActions("beforeInit",arguments)},runTests:function(){var t=this;t.callActions("beforeRunTests",arguments),t.has.promises="function"==typeof e.Promise,t.has.transitions="unsupported"!==t.transitionPrefix,t.callActions("afterRunTests",arguments),n.freeze(t.has)},setPrefixes:function(){var e=this;e.callActions("beforeSetPrefixes",arguments),e.transitionPrefix=n.getPrefix(e.canary,"Transition",e.VENDORS),e.transformPrefix=n.getPrefix(e.canary,"Transform",e.VENDORS),e.boxSizingPrefix=n.getPrefix(e.canary,"BoxSizing",e.VENDORS),e.boxSizingProp=e.boxSizingPrefix?e.boxSizingPrefix+n.pascalCase(e.BOX_SIZING_PROP):e.BOX_SIZING_PROP,e.transitionProp=e.transitionPrefix?e.transitionPrefix+n.pascalCase(e.TRANSITION_PROP):e.TRANSITION_PROP,e.transformProp=e.transformPrefix?e.transformPrefix+n.pascalCase(e.TRANSFORM_PROP):e.TRANSFORM_PROP,e.transformRule=e.transformPrefix?"-"+e.transformPrefix+"-"+e.TRANSFORM_PROP:e.TRANSFORM_PROP,e.perspectiveProp=e.transformPrefix?e.transformPrefix+n.pascalCase(e.PERSPECTIVE_PROP):e.PERSPECTIVE_PROP,e.perspectiveOriginProp=e.transformPrefix?e.transformPrefix+n.pascalCase(e.PERSPECTIVE_ORIGIN_PROP):e.PERSPECTIVE_ORIGIN_PROP,e.callActions("afterSetPrefixes",arguments)}}),t.Has=function(){this.transitions=!1,this.promises=!1,n.seal(this)},t.features=new t.Features,t.features.init(),t.ConfigAnimation=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigAnimation),t.ConfigAnimation.prototype=Object.create(t.Base.prototype),t.ConfigAnimation.prototype.constructor=t.ConfigAnimation,t.ConfigBehavior=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigBehavior),t.ConfigBehavior.prototype=Object.create(t.Base.prototype),t.ConfigBehavior.prototype.constructor=t.ConfigBehavior,t.ConfigCallbacks=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigCallbacks),t.ConfigCallbacks.prototype=Object.create(t.Base.prototype),t.ConfigCallbacks.prototype.constructor=t.ConfigCallbacks,t.ConfigControls=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigControls),t.ConfigControls.prototype=Object.create(t.Base.prototype),t.ConfigControls.prototype.constructor=t.ConfigControls,t.ConfigClassNames=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigClassNames),t.ConfigClassNames.prototype=Object.create(t.Base.prototype),t.ConfigClassNames.prototype.constructor=t.ConfigClassNames,t.ConfigData=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigData),t.ConfigData.prototype=Object.create(t.Base.prototype),t.ConfigData.prototype.constructor=t.ConfigData,t.ConfigDebug=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigDebug),t.ConfigDebug.prototype=Object.create(t.Base.prototype),t.ConfigDebug.prototype.constructor=t.ConfigDebug,t.ConfigLayout=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigLayout),t.ConfigLayout.prototype=Object.create(t.Base.prototype),t.ConfigLayout.prototype.constructor=t.ConfigLayout,t.ConfigLoad=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigLoad),t.ConfigLoad.prototype=Object.create(t.Base.prototype),t.ConfigLoad.prototype.constructor=t.ConfigLoad,t.ConfigSelectors=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigSelectors),t.ConfigSelectors.prototype=Object.create(t.Base.prototype),t.ConfigSelectors.prototype.constructor=t.ConfigSelectors,t.ConfigRender=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigRender),t.ConfigRender.prototype=Object.create(t.Base.prototype),t.ConfigRender.prototype.constructor=t.ConfigRender,t.ConfigTemplates=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.ConfigTemplates),t.ConfigTemplates.prototype=Object.create(t.Base.prototype),t.ConfigTemplates.prototype.constructor=t.ConfigTemplates,t.Config=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.animation=new t.ConfigAnimation,this.behavior=new t.ConfigBehavior,this.callbacks=new t.ConfigCallbacks,this.controls=new t.ConfigControls,this.classNames=new t.ConfigClassNames,this.data=new t.ConfigData,this.debug=new t.ConfigDebug,this.layout=new t.ConfigLayout,this.load=new t.ConfigLoad,this.selectors=new t.ConfigSelectors,this.render=new t.ConfigRender,this.templates=new t.ConfigTemplates,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Config),t.Config.prototype=Object.create(t.Base.prototype),t.Config.prototype.constructor=t.Config,t.MixerDom=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.MixerDom),t.MixerDom.prototype=Object.create(t.Base.prototype),t.MixerDom.prototype.constructor=t.MixerDom,t.UiClassNames=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.UiClassNames),t.UiClassNames.prototype=Object.create(t.Base.prototype),t.UiClassNames.prototype.constructor=t.UiClassNames,t.CommandDataset=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandDataset),t.CommandDataset.prototype=Object.create(t.Base.prototype),t.CommandDataset.prototype.constructor=t.CommandDataset,t.CommandMultimix=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandMultimix),t.CommandMultimix.prototype=Object.create(t.Base.prototype),t.CommandMultimix.prototype.constructor=t.CommandMultimix,t.CommandFilter=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandFilter),t.CommandFilter.prototype=Object.create(t.Base.prototype),t.CommandFilter.prototype.constructor=t.CommandFilter,t.CommandSort=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandSort),t.CommandSort.prototype=Object.create(t.Base.prototype),t.CommandSort.prototype.constructor=t.CommandSort,t.CommandInsert=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandInsert),t.CommandInsert.prototype=Object.create(t.Base.prototype),t.CommandInsert.prototype.constructor=t.CommandInsert,t.CommandRemove=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandRemove),t.CommandRemove.prototype=Object.create(t.Base.prototype),t.CommandRemove.prototype.constructor=t.CommandRemove,t.CommandChangeLayout=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.CommandChangeLayout),t.CommandChangeLayout.prototype=Object.create(t.Base.prototype),t.CommandChangeLayout.prototype.constructor=t.CommandChangeLayout,t.ControlDefinition=function(e,r,i,o){t.Base.call(this),this.callActions("beforeConstruct"),this.type=e,this.selector=r,this.live=i||!1,this.parent=o||"",this.callActions("afterConstruct"),n.freeze(this),n.seal(this)},t.BaseStatic.call(t.ControlDefinition),t.ControlDefinition.prototype=Object.create(t.Base.prototype),t.ControlDefinition.prototype.constructor=t.ControlDefinition,t.controlDefinitions=[],t.controlDefinitions.push(new t.ControlDefinition("multimix","[data-filter][data-sort]")),t.controlDefinitions.push(new t.ControlDefinition("filter","[data-filter]")),t.controlDefinitions.push(new t.ControlDefinition("sort","[data-sort]")),t.controlDefinitions.push(new t.ControlDefinition("toggle","[data-toggle]")),t.Control=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new t.UiClassNames,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Control),t.Control.prototype=Object.create(t.Base.prototype),n.extend(t.Control.prototype,{constructor:t.Control,init:function(e,n,r){var i=this;if(this.callActions("beforeInit",arguments),i.el=e,i.type=n,i.selector=r,i.selector)i.status="live";else switch(i.canDisable="boolean"==typeof i.el.disable,i.type){case"filter":i.filter=i.el.getAttribute("data-filter");break;case"toggle":i.filter=i.el.getAttribute("data-toggle");break;case"sort":i.sort=i.el.getAttribute("data-sort");break;case"multimix":i.filter=i.el.getAttribute("data-filter"),i.sort=i.el.getAttribute("data-sort")}i.bindClick(),t.controls.push(i),this.callActions("afterInit",arguments)},isBound:function(e){var t=this,n=!1;return this.callActions("beforeIsBound",arguments),n=t.bound.indexOf(e)>-1,t.callFilters("afterIsBound",n,arguments)},addBinding:function(e){var t=this;this.callActions("beforeAddBinding",arguments),t.isBound()||t.bound.push(e),this.callActions("afterAddBinding",arguments)},removeBinding:function(e){var n=this,r=-1;this.callActions("beforeRemoveBinding",arguments),(r=n.bound.indexOf(e))>-1&&n.bound.splice(r,1),n.bound.length<1&&(n.unbindClick(),r=t.controls.indexOf(n),t.controls.splice(r,1),"active"===n.status&&n.renderStatus(n.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var e=this;this.callActions("beforeBindClick",arguments),e.handler=function(t){e.handleClick(t)},n.on(e.el,"click",e.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){var e=this;this.callActions("beforeUnbindClick",arguments),n.off(e.el,"click",e.handler),e.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(e){var r=this,i=null,o=null,a=!1,s={},u=null,c=[],l=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,o=r.bound[0],i=r.selector?n.closestParent(e.target,o.config.selectors.control+r.selector,!0,o.dom.document):r.el){switch(r.type){case"filter":s.filter=r.filter||i.getAttribute("data-filter");break;case"sort":s.sort=r.sort||i.getAttribute("data-sort");break;case"multimix":s.filter=r.filter||i.getAttribute("data-filter"),s.sort=r.sort||i.getAttribute("data-sort");break;case"toggle":s.filter=r.filter||i.getAttribute("data-toggle"),a="live"===r.status?n.hasClass(i,r.classNames.active):"active"===r.status}for(l=0;l<r.bound.length;l++)u=new t.CommandMultimix,n.extend(u,s),c.push(u);for(c=r.callFilters("commandsHandleClick",c,arguments),r.pending=r.bound.length,l=0;o=r.bound[l];l++)(s=c[l])&&(o.lastClicked||(o.lastClicked=i),t.events.fire("mixClick",o.dom.container,{state:o.state,instance:o,originalEvent:e,control:o.lastClicked},o.dom.document),"function"==typeof o.config.callbacks.onMixClick&&!1===o.config.callbacks.onMixClick.call(o.lastClicked,o.state,e,o)||("toggle"===r.type?a?o.toggleOff(s.filter):o.toggleOn(s.filter):o.multimix(s)));this.callActions("afterHandleClick",arguments)}else r.callActions("afterHandleClick",arguments)},update:function(e,n){var r=this,i=new t.CommandMultimix;r.callActions("beforeUpdate",arguments),r.pending--,r.pending=Math.max(0,r.pending),r.pending>0||("live"===r.status?r.updateLive(e,n):(i.sort=r.sort,i.filter=r.filter,r.callFilters("actionsUpdate",i,arguments),r.parseStatusChange(r.el,e,i,n)),r.callActions("afterUpdate",arguments))},updateLive:function(e,n){var r=this,i=null,o=null,a=null,s=-1;if(r.callActions("beforeUpdateLive",arguments),r.el){for(i=r.el.querySelectorAll(r.selector),s=0;a=i[s];s++){switch(o=new t.CommandMultimix,r.type){case"filter":o.filter=a.getAttribute("data-filter");break;case"sort":o.sort=a.getAttribute("data-sort");break;case"multimix":o.filter=a.getAttribute("data-filter"),o.sort=a.getAttribute("data-sort");break;case"toggle":o.filter=a.getAttribute("data-toggle")}o=r.callFilters("actionsUpdateLive",o,arguments),r.parseStatusChange(a,e,o,n)}r.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(e,t,n,r){var i=this,o="",a=-1;switch(i.callActions("beforeParseStatusChange",arguments),i.type){case"filter":t.filter===n.filter?i.renderStatus(e,"active"):i.renderStatus(e,"inactive");break;case"multimix":t.sort===n.sort&&t.filter===n.filter?i.renderStatus(e,"active"):i.renderStatus(e,"inactive");break;case"sort":t.sort.match(/:asc/g)&&(o=t.sort.replace(/:asc/g,"")),t.sort===n.sort||o===n.sort?i.renderStatus(e,"active"):i.renderStatus(e,"inactive");break;case"toggle":for(r.length<1&&i.renderStatus(e,"inactive"),t.filter===n.filter&&i.renderStatus(e,"active"),a=0;a<r.length;a++){if(r[a]===n.filter){i.renderStatus(e,"active");break}i.renderStatus(e,"inactive")}}i.callActions("afterParseStatusChange",arguments)},renderStatus:function(e,t){var r=this;switch(r.callActions("beforeRenderStatus",arguments),t){case"active":n.addClass(e,r.classNames.active),n.removeClass(e,r.classNames.disabled),r.canDisable&&(r.el.disabled=!1);break;case"inactive":n.removeClass(e,r.classNames.active),n.removeClass(e,r.classNames.disabled),r.canDisable&&(r.el.disabled=!1);break;case"disabled":r.canDisable&&(r.el.disabled=!0),n.addClass(e,r.classNames.disabled),n.removeClass(e,r.classNames.active)}"live"!==r.status&&(r.status=t),r.callActions("afterRenderStatus",arguments)}}),t.controls=[],t.StyleData=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new t.TransformData,this.translateX=new t.TransformData,this.translateY=new t.TransformData,this.translateZ=new t.TransformData,this.rotateX=new t.TransformData,this.rotateY=new t.TransformData,this.rotateZ=new t.TransformData,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.StyleData),t.StyleData.prototype=Object.create(t.Base.prototype),t.StyleData.prototype.constructor=t.StyleData,t.TransformData=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.TransformData),t.TransformData.prototype=Object.create(t.Base.prototype),t.TransformData.prototype.constructor=t.TransformData,t.TransformDefaults=function(){t.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.TransformDefaults),t.TransformDefaults.prototype=Object.create(t.StyleData.prototype),t.TransformDefaults.prototype.constructor=t.TransformDefaults,t.transformDefaults=new t.TransformDefaults,t.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},t.Events=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Events),t.Events.prototype=Object.create(t.Base.prototype),t.Events.prototype.constructor=t.Events,t.Events.prototype.fire=function(e,r,i,o){var a=this,s=null,u=new t.EventDetail;if(a.callActions("beforeFire",arguments),void 0===a[e])throw new Error('Event type "'+e+'" not found.');u.state=new t.State,n.extend(u.state,i.state),i.futureState&&(u.futureState=new t.State,n.extend(u.futureState,i.futureState)),u.instance=i.instance,i.originalEvent&&(u.originalEvent=i.originalEvent),s=n.getCustomEvent(e,u,o),a.callFilters("eventFire",s,arguments),r.dispatchEvent(s)},t.events=new t.Events,t.QueueItem=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.QueueItem),t.QueueItem.prototype=Object.create(t.Base.prototype),t.QueueItem.prototype.constructor=t.QueueItem,t.Mixer=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.config=new t.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new t.MixerDom,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Mixer),t.Mixer.prototype=Object.create(t.Base.prototype),n.extend(t.Mixer.prototype,{constructor:t.Mixer,attach:function(r,i,o,a){var s=this,u=null,c=-1;for(s.callActions("beforeAttach",arguments),s.id=o,a&&n.extend(s.config,a,!0,!0),s.sanitizeConfig(),s.cacheDom(r,i),s.config.layout.containerClassName&&n.addClass(s.dom.container,s.config.layout.containerClassName),t.features.has.transitions||(s.config.animation.enable=!1),void 0===e.console&&(s.config.debug.showWarnings=!1),s.config.data.uidKey&&(s.config.controls.enable=!1),s.indexTargets(),s.state=s.getInitialState(),c=0;u=s.lastOperation.toHide[c];c++)u.hide();s.config.controls.enable&&(s.initControls(),s.updateControls({filter:s.state.activeFilter,sort:s.state.activeSort}),s.buildToggleArray(null,s.state)),s.parseEffects(),s.callActions("afterAttach",arguments)},sanitizeConfig:function(){var e=this;e.callActions("beforeSanitizeConfig",arguments),e.config.controls.scope=e.config.controls.scope.toLowerCase().trim(),e.config.controls.toggleLogic=e.config.controls.toggleLogic.toLowerCase().trim(),e.config.controls.toggleDefault=e.config.controls.toggleDefault.toLowerCase().trim(),e.config.animation.effects=e.config.animation.effects.trim(),e.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var e=this,n=new t.State,r=new t.Operation;if(e.callActions("beforeGetInitialState",arguments),n.activeContainerClassName=e.config.layout.containerClassName,e.config.load.dataset){if(!e.config.data.uidKey||"string"!=typeof e.config.data.uidKey)throw new TypeError(t.messages.errorConfigDataUidKeyNotSet());r.startDataset=r.newDataset=n.activeDataset=e.config.load.dataset.slice(),r.startContainerClassName=r.newContainerClassName=n.activeContainerClassName,r.show=e.targets.slice(),n=e.callFilters("stateGetInitialState",n,arguments)}else n.activeFilter=e.parseFilterArgs([e.config.load.filter]).command,n.activeSort=e.parseSortArgs([e.config.load.sort]).command,n.totalTargets=e.targets.length,(n=e.callFilters("stateGetInitialState",n,arguments)).activeSort.collection||n.activeSort.attribute||"random"===n.activeSort.order||"desc"===n.activeSort.order?(r.newSort=n.activeSort,e.sortOperation(r),e.printSort(!1,r),e.targets=r.newOrder):r.startOrder=r.newOrder=e.targets,r.startFilter=r.newFilter=n.activeFilter,r.startSort=r.newSort=n.activeSort,r.startContainerClassName=r.newContainerClassName=n.activeContainerClassName,"all"===r.newFilter.selector?r.newFilter.selector=e.config.selectors.target:"none"===r.newFilter.selector&&(r.newFilter.selector="");return r=e.callFilters("operationGetInitialState",r,[n]),e.lastOperation=r,r.newFilter&&e.filterOperation(r),n=e.buildState(r)},cacheDom:function(e,t){var n=this;n.callActions("beforeCacheDom",arguments),n.dom.document=t,n.dom.body=n.dom.document.querySelector("body"),n.dom.container=e,n.dom.parent=e,n.callActions("afterCacheDom",arguments)},indexTargets:function(){var e=this,r=null,i=null,o=null,a=-1;if(e.callActions("beforeIndexTargets",arguments),e.dom.targets=e.config.layout.allowNestedTargets?e.dom.container.querySelectorAll(e.config.selectors.target):n.children(e.dom.container,e.config.selectors.target,e.dom.document),e.dom.targets=n.arrayFromList(e.dom.targets),e.targets=[],(o=e.config.load.dataset)&&o.length!==e.dom.targets.length)throw new Error(t.messages.errorDatasetPrerenderedMismatch());if(e.dom.targets.length){for(a=0;i=e.dom.targets[a];a++)(r=new t.Target).init(i,e,o?o[a]:void 0),r.isInDom=!0,e.targets.push(r);e.dom.parent=e.dom.targets[0].parentElement===e.dom.container?e.dom.container:e.dom.targets[0].parentElement}e.origOrder=e.targets,e.callActions("afterIndexTargets",arguments)},initControls:function(){var e=this,n="",r=null,i=null,o=null,a=null,s=null,u=-1,c=-1;switch(e.callActions("beforeInitControls",arguments),e.config.controls.scope){case"local":o=e.dom.container;break;case"global":o=e.dom.document;break;default:throw new Error(t.messages.errorConfigInvalidControlsScope())}for(u=0;n=t.controlDefinitions[u];u++)if(e.config.controls.live||n.live){if(n.parent){if(!(a=e.dom[n.parent])||a.length<0)continue;"number"!=typeof a.length&&(a=[a])}else a=[o];for(c=0;i=a[c];c++)s=e.getControl(i,n.type,n.selector),e.controls.push(s)}else for(r=o.querySelectorAll(e.config.selectors.control+n.selector),c=0;i=r[c];c++)(s=e.getControl(i,n.type,""))&&e.controls.push(s);e.callActions("afterInitControls",arguments)},getControl:function(e,r,i){var o=this,a=null,s=-1;if(o.callActions("beforeGetControl",arguments),!i)for(s=0;a=t.controls[s];s++){if(a.el===e&&a.isBound(o))return o.callFilters("controlGetControl",null,arguments);if(a.el===e&&a.type===r&&a.selector===i)return a.addBinding(o),o.callFilters("controlGetControl",a,arguments)}return(a=new t.Control).init(e,r,i),a.classNames.base=n.getClassname(o.config.classNames,r),a.classNames.active=n.getClassname(o.config.classNames,r,o.config.classNames.modifierActive),a.classNames.disabled=n.getClassname(o.config.classNames,r,o.config.classNames.modifierDisabled),a.addBinding(o),o.callFilters("controlGetControl",a,arguments)},getToggleSelector:function(){var e=this,t="or"===e.config.controls.toggleLogic?", ":"",r="";return e.callActions("beforeGetToggleSelector",arguments),e.toggleArray=n.clean(e.toggleArray),""===(r=e.toggleArray.join(t))&&(r=e.config.controls.toggleDefault),e.callFilters("selectorGetToggleSelector",r,arguments)},buildToggleArray:function(e,t){var r=this,i="";if(r.callActions("beforeBuildToggleArray",arguments),e&&e.filter)i=e.filter.selector.replace(/\s/g,"");else{if(!t)return;i=t.activeFilter.selector.replace(/\s/g,"")}i!==r.config.selectors.target&&"all"!==i||(i=""),"or"===r.config.controls.toggleLogic?r.toggleArray=i.split(","):r.toggleArray=r.splitCompoundSelector(i),r.toggleArray=n.clean(r.toggleArray),r.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(e){var t=e.split(/([\.\[])/g),n=[],r="",i=-1;for(""===t[0]&&t.shift(),i=0;i<t.length;i++)i%2==0&&(r=""),r+=t[i],i%2!=0&&n.push(r);return n},updateControls:function(e){var r=this,i=null,o=new t.CommandMultimix,a=-1;for(r.callActions("beforeUpdateControls",arguments),e.filter?o.filter=e.filter.selector:o.filter=r.state.activeFilter.selector,e.sort?o.sort=r.buildSortString(e.sort):o.sort=r.buildSortString(r.state.activeSort),o.filter===r.config.selectors.target&&(o.filter="all"),""===o.filter&&(o.filter="none"),n.freeze(o),a=0;i=r.controls[a];a++)i.update(o,r.toggleArray);r.callActions("afterUpdateControls",arguments)},buildSortString:function(e){var t=this,n="";return n+=e.sortString,e.next&&(n+=" "+t.buildSortString(e.next)),n},insertTargets:function(e,r){var i=this,o=null,a=-1,s=null,u=null,c=null,l=-1;if(i.callActions("beforeInsertTargets",arguments),void 0===e.index&&(e.index=0),o=i.getNextSibling(e.index,e.sibling,e.position),s=i.dom.document.createDocumentFragment(),a=o?n.index(o,i.config.selectors.target):i.targets.length,e.collection){for(l=0;c=e.collection[l];l++){if(i.dom.targets.indexOf(c)>-1)throw new Error(t.messages.errorInsertPreexistingElement());c.style.display="none",s.appendChild(c),s.appendChild(i.dom.document.createTextNode(" ")),n.isElement(c,i.dom.document)&&c.matches(i.config.selectors.target)&&((u=new t.Target).init(c,i),u.isInDom=!0,i.targets.splice(a,0,u),a++)}i.dom.parent.insertBefore(s,o)}r.startOrder=i.origOrder=i.targets,i.callActions("afterInsertTargets",arguments)},getNextSibling:function(e,t,n){var r=this,i=null;return e=Math.max(e,0),t&&"before"===n?i=t:t&&"after"===n?i=t.nextElementSibling||null:r.targets.length>0&&void 0!==e?i=e<r.targets.length||!r.targets.length?r.targets[e].dom.el:r.targets[r.targets.length-1].dom.el.nextElementSibling:0===r.targets.length&&r.dom.parent.children.length>0&&(r.config.layout.siblingAfter?i=r.config.layout.siblingAfter:r.config.layout.siblingBefore?i=r.config.layout.siblingBefore.nextElementSibling:r.dom.parent.children[0]),r.callFilters("elementGetNextSibling",i,arguments)},filterOperation:function(e){var t=this,n=!1,r=-1,i="",o=null,a=-1;for(t.callActions("beforeFilterOperation",arguments),i=e.newFilter.action,a=0;o=e.newOrder[a];a++)n=e.newFilter.collection?e.newFilter.collection.indexOf(o.dom.el)>-1:""!==e.newFilter.selector&&o.dom.el.matches(e.newFilter.selector),t.evaluateHideShow(n,o,i,e);if(e.toRemove.length)for(a=0;o=e.show[a];a++)e.toRemove.indexOf(o)>-1&&(e.show.splice(a,1),(r=e.toShow.indexOf(o))>-1&&e.toShow.splice(r,1),e.toHide.push(o),e.hide.push(o),a--);e.matching=e.show.slice(),0===e.show.length&&""!==e.newFilter.selector&&0!==t.targets.length&&(e.hasFailed=!0),t.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(e,t,n,r){var i=this;i.callActions("beforeEvaluateHideShow",arguments),!0===e&&"show"===n||!1===e&&"hide"===n?(r.show.push(t),!t.isShown&&r.toShow.push(t)):(r.hide.push(t),t.isShown&&r.toHide.push(t)),i.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(e){var t=this;t.callActions("beforeSortOperation",arguments),e.startOrder=t.targets,e.newSort.collection?e.newOrder=e.newSort.collection:"random"===e.newSort.order?e.newOrder=n.arrayShuffle(e.startOrder):""===e.newSort.attribute?(e.newOrder=t.origOrder.slice(),"desc"===e.newSort.order&&e.newOrder.reverse()):(e.newOrder=e.startOrder.slice(),e.newOrder.sort(function(n,r){return t.compare(n,r,e.newSort)})),n.isEqualArray(e.newOrder,e.startOrder)&&(e.willSort=!1),t.callActions("afterSortOperation",arguments)},compare:function(e,t,n){var r=this,i=n.order,o=r.getAttributeValue(e,n.attribute),a=r.getAttributeValue(t,n.attribute);return isNaN(1*o)||isNaN(1*a)?(o=o.toLowerCase(),a=a.toLowerCase()):(o*=1,a*=1),o<a?"asc"===i?-1:1:o>a?"asc"===i?1:-1:o===a&&n.next?r.compare(e,t,n.next):0},getAttributeValue:function(e,n){var r=this,i="";return null===(i=e.dom.el.getAttribute("data-"+n))&&r.config.debug.showWarnings&&console.warn(t.messages.warningInconsistentSortingAttributes({attribute:"data-"+n})),r.callFilters("valueGetAttributeValue",i||0,arguments)},printSort:function(t,r){var i=this,o=t?r.newOrder:r.startOrder,a=t?r.startOrder:r.newOrder,s=o.length?o[o.length-1].dom.el.nextElementSibling:null,u=e.document.createDocumentFragment(),c=null,l=null,d=null,h=-1;for(i.callActions("beforePrintSort",arguments),h=0;l=o[h];h++)"absolute"!==(d=l.dom.el).style.position&&(n.removeWhitespace(d.previousSibling),d.parentElement.removeChild(d));for((c=s?s.previousSibling:i.dom.parent.lastChild)&&"#text"===c.nodeName&&n.removeWhitespace(c),h=0;l=a[h];h++)d=l.dom.el,n.isElement(u.lastChild)&&u.appendChild(e.document.createTextNode(" ")),u.appendChild(d);i.dom.parent.firstChild&&i.dom.parent.firstChild!==s&&u.insertBefore(e.document.createTextNode(" "),u.childNodes[0]),s?(u.appendChild(e.document.createTextNode(" ")),i.dom.parent.insertBefore(u,s)):i.dom.parent.appendChild(u),i.callActions("afterPrintSort",arguments)},parseSortString:function(e,r){var i=this,o=e.split(" "),a=r,s=[],u=-1;for(u=0;u<o.length;u++){switch(s=o[u].split(":"),a.sortString=o[u],a.attribute=n.dashCase(s[0]),a.order=s[1]||"asc",a.attribute){case"default":a.attribute="";break;case"random":a.attribute="",a.order="random"}if(!a.attribute||"random"===a.order)break;u<o.length-1&&(a.next=new t.CommandSort,n.freeze(a),a=a.next)}return i.callFilters("commandsParseSort",r,arguments)},parseEffects:function(){var e=this,n="",r=e.config.animation.effectsIn||e.config.animation.effects,i=e.config.animation.effectsOut||e.config.animation.effects;e.callActions("beforeParseEffects",arguments),e.effectsIn=new t.StyleData,e.effectsOut=new t.StyleData,e.transformIn=[],e.transformOut=[],e.effectsIn.opacity=e.effectsOut.opacity=1,e.parseEffect("fade",r,e.effectsIn,e.transformIn),e.parseEffect("fade",i,e.effectsOut,e.transformOut,!0);for(n in t.transformDefaults)t.transformDefaults[n]instanceof t.TransformData&&(e.parseEffect(n,r,e.effectsIn,e.transformIn),e.parseEffect(n,i,e.effectsOut,e.transformOut,!0));e.parseEffect("stagger",r,e.effectsIn,e.transformIn),e.parseEffect("stagger",i,e.effectsOut,e.transformOut,!0),e.callActions("afterParseEffects",arguments)},parseEffect:function(e,n,r,i,o){var a=this,s=/\(([^)]+)\)/,u=-1,c="",l=[],d="",h=["%","px","em","rem","vh","vw","deg"],p="",f=-1;if(a.callActions("beforeParseEffect",arguments),"string"!=typeof n)throw new TypeError(t.messages.errorConfigInvalidAnimationEffects());if(n.indexOf(e)<0)"stagger"===e&&(a.staggerDuration=0);else{switch((u=n.indexOf(e+"("))>-1&&(c=n.substring(u),l=s.exec(c),d=l[1]),e){case"fade":r.opacity=d?parseFloat(d):0;break;case"stagger":a.staggerDuration=d?parseFloat(d):100;break;default:if(o&&a.config.animation.reverseOut&&"scale"!==e?r[e].value=-1*(d?parseFloat(d):t.transformDefaults[e].value):r[e].value=d?parseFloat(d):t.transformDefaults[e].value,d){for(f=0;p=h[f];f++)if(d.indexOf(p)>-1){r[e].unit=p;break}}else r[e].unit=t.transformDefaults[e].unit;i.push(e+"("+r[e].value+r[e].unit+")")}a.callActions("afterParseEffect",arguments)}},buildState:function(e){var n=this,r=new t.State,i=null,o=-1;for(n.callActions("beforeBuildState",arguments),o=0;i=n.targets[o];o++)(!e.toRemove.length||e.toRemove.indexOf(i)<0)&&r.targets.push(i.dom.el);for(o=0;i=e.matching[o];o++)r.matching.push(i.dom.el);for(o=0;i=e.show[o];o++)r.show.push(i.dom.el);for(o=0;i=e.hide[o];o++)(!e.toRemove.length||e.toRemove.indexOf(i)<0)&&r.hide.push(i.dom.el);return r.id=n.id,r.container=n.dom.container,r.activeFilter=e.newFilter,r.activeSort=e.newSort,r.activeDataset=e.newDataset,r.activeContainerClassName=e.newContainerClassName,r.hasFailed=e.hasFailed,r.totalTargets=n.targets.length,r.totalShow=e.show.length,r.totalHide=e.hide.length,r.totalMatching=e.matching.length,r.triggerElement=e.triggerElement,n.callFilters("stateBuildState",r,arguments)},goMix:function(r,i){var o=this,a=null;return o.callActions("beforeGoMix",arguments),o.config.animation.duration&&o.config.animation.effects&&n.isVisible(o.dom.container)||(r=!1),i.toShow.length||i.toHide.length||i.willSort||i.willChangeLayout||(r=!1),i.startState.show.length||i.show.length||(r=!1),t.events.fire("mixStart",o.dom.container,{state:i.startState,futureState:i.newState,instance:o},o.dom.document),"function"==typeof o.config.callbacks.onMixStart&&o.config.callbacks.onMixStart.call(o.dom.container,i.startState,i.newState,o),n.removeClass(o.dom.container,n.getClassname(o.config.classNames,"container",o.config.classNames.modifierFailed)),a=o.userDeferred?o.userDeferred:o.userDeferred=n.defer(t.libraries),o.isBusy=!0,r&&t.features.has.transitions?(e.pageYOffset!==i.docState.scrollTop&&e.scrollTo(i.docState.scrollLeft,i.docState.scrollTop),o.config.animation.applyPerspective&&(o.dom.parent.style[t.features.perspectiveProp]=o.config.animation.perspectiveDistance,o.dom.parent.style[t.features.perspectiveOriginProp]=o.config.animation.perspectiveOrigin),o.config.animation.animateResizeContainer&&i.startHeight!==i.newHeight&&i.viewportDeltaY!==i.startHeight-i.newHeight&&(o.dom.parent.style.height=i.startHeight+"px"),o.config.animation.animateResizeContainer&&i.startWidth!==i.newWidth&&i.viewportDeltaX!==i.startWidth-i.newWidth&&(o.dom.parent.style.width=i.startWidth+"px"),i.startHeight===i.newHeight&&(o.dom.parent.style.height=i.startHeight+"px"),i.startWidth===i.newWidth&&(o.dom.parent.style.width=i.startWidth+"px"),i.startHeight===i.newHeight&&i.startWidth===i.newWidth&&(o.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){o.moveTargets(i)}),o.callFilters("promiseGoMix",a.promise,arguments)):(o.config.debug.fauxAsync?setTimeout(function(){o.cleanUp(i)},o.config.animation.duration):o.cleanUp(i),o.callFilters("promiseGoMix",a.promise,arguments))},getStartMixData:function(n){var r=this,i=e.getComputedStyle(r.dom.parent),o=r.dom.parent.getBoundingClientRect(),a=null,s={},u=-1,c=i[t.features.boxSizingProp];for(r.incPadding="border-box"===c,r.callActions("beforeGetStartMixData",arguments),u=0;a=n.show[u];u++)s=a.getPosData(),n.showPosData[u]={startPosData:s};for(u=0;a=n.toHide[u];u++)s=a.getPosData(),n.toHidePosData[u]={startPosData:s};n.startX=o.left,n.startY=o.top,n.startHeight=r.incPadding?o.height:o.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),n.startWidth=r.incPadding?o.width:o.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),r.callActions("afterGetStartMixData",arguments)},setInter:function(e){var t=this,r=null,i=-1;for(t.callActions("beforeSetInter",arguments),t.config.animation.clampHeight&&(t.dom.parent.style.height=e.startHeight+"px",t.dom.parent.style.overflow="hidden"),t.config.animation.clampWidth&&(t.dom.parent.style.width=e.startWidth+"px",t.dom.parent.style.overflow="hidden"),i=0;r=e.toShow[i];i++)r.show();e.willChangeLayout&&(n.removeClass(t.dom.container,e.startContainerClassName),n.addClass(t.dom.container,e.newContainerClassName)),t.callActions("afterSetInter",arguments)},getInterMixData:function(e){var t=this,n=null,r=-1;for(t.callActions("beforeGetInterMixData",arguments),r=0;n=e.show[r];r++)e.showPosData[r].interPosData=n.getPosData();for(r=0;n=e.toHide[r];r++)e.toHidePosData[r].interPosData=n.getPosData();t.callActions("afterGetInterMixData",arguments)},setFinal:function(e){var t=this,n=null,r=-1;for(t.callActions("beforeSetFinal",arguments),e.willSort&&t.printSort(!1,e),r=0;n=e.toHide[r];r++)n.hide();t.callActions("afterSetFinal",arguments)},getFinalMixData:function(t){var r=this,i=null,o=null,a=null,s=-1;for(r.callActions("beforeGetFinalMixData",arguments),s=0;a=t.show[s];s++)t.showPosData[s].finalPosData=a.getPosData();for(s=0;a=t.toHide[s];s++)t.toHidePosData[s].finalPosData=a.getPosData();for((r.config.animation.clampHeight||r.config.animation.clampWidth)&&(r.dom.parent.style.height=r.dom.parent.style.width=r.dom.parent.style.overflow=""),r.incPadding||(i=e.getComputedStyle(r.dom.parent)),o=r.dom.parent.getBoundingClientRect(),t.newX=o.left,t.newY=o.top,t.newHeight=r.incPadding?o.height:o.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),t.newWidth=r.incPadding?o.width:o.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),t.viewportDeltaX=t.docState.viewportWidth-this.dom.document.documentElement.clientWidth,t.viewportDeltaY=t.docState.viewportHeight-this.dom.document.documentElement.clientHeight,t.willSort&&r.printSort(!0,t),s=0;a=t.toShow[s];s++)a.hide();for(s=0;a=t.toHide[s];s++)a.show();t.willChangeLayout&&(n.removeClass(r.dom.container,t.newContainerClassName),n.addClass(r.dom.container,r.config.layout.containerClassName)),r.callActions("afterGetFinalMixData",arguments)},getTweenData:function(e){var n=this,r=null,i=null,o=Object.getOwnPropertyNames(n.effectsIn),a="",s=null,u=-1,c=-1,l=-1,d=-1;for(n.callActions("beforeGetTweenData",arguments),l=0;r=e.show[l];l++)for(i=e.showPosData[l],i.posIn=new t.StyleData,i.posOut=new t.StyleData,i.tweenData=new t.StyleData,r.isShown?(i.posIn.x=i.startPosData.x-i.interPosData.x,i.posIn.y=i.startPosData.y-i.interPosData.y):i.posIn.x=i.posIn.y=0,i.posOut.x=i.finalPosData.x-i.interPosData.x,i.posOut.y=i.finalPosData.y-i.interPosData.y,i.posIn.opacity=r.isShown?1:n.effectsIn.opacity,i.posOut.opacity=1,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,r.isShown||n.config.animation.nudge||(i.posIn.x=i.posOut.x,i.posIn.y=i.posOut.y),i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,n.config.animation.animateResizeTargets&&(i.posIn.width=i.startPosData.width,i.posIn.height=i.startPosData.height,u=(i.startPosData.width||i.finalPosData.width)-i.interPosData.width,i.posIn.marginRight=i.startPosData.marginRight-u,c=(i.startPosData.height||i.finalPosData.height)-i.interPosData.height,i.posIn.marginBottom=i.startPosData.marginBottom-c,i.posOut.width=i.finalPosData.width,i.posOut.height=i.finalPosData.height,u=(i.finalPosData.width||i.startPosData.width)-i.interPosData.width,i.posOut.marginRight=i.finalPosData.marginRight-u,c=(i.finalPosData.height||i.startPosData.height)-i.interPosData.height,i.posOut.marginBottom=i.finalPosData.marginBottom-c,i.tweenData.width=i.posOut.width-i.posIn.width,i.tweenData.height=i.posOut.height-i.posIn.height,i.tweenData.marginRight=i.posOut.marginRight-i.posIn.marginRight,i.tweenData.marginBottom=i.posOut.marginBottom-i.posIn.marginBottom),d=0;a=o[d];d++)(s=n.effectsIn[a])instanceof t.TransformData&&s.value&&(i.posIn[a].value=s.value,i.posOut[a].value=0,i.tweenData[a].value=i.posOut[a].value-i.posIn[a].value,i.posIn[a].unit=i.posOut[a].unit=i.tweenData[a].unit=s.unit);for(l=0;r=e.toHide[l];l++)for(i=e.toHidePosData[l],i.posIn=new t.StyleData,i.posOut=new t.StyleData,i.tweenData=new t.StyleData,i.posIn.x=r.isShown?i.startPosData.x-i.interPosData.x:0,i.posIn.y=r.isShown?i.startPosData.y-i.interPosData.y:0,i.posOut.x=n.config.animation.nudge?0:i.posIn.x,i.posOut.y=n.config.animation.nudge?0:i.posIn.y,i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,n.config.animation.animateResizeTargets&&(i.posIn.width=i.startPosData.width,i.posIn.height=i.startPosData.height,u=i.startPosData.width-i.interPosData.width,i.posIn.marginRight=i.startPosData.marginRight-u,c=i.startPosData.height-i.interPosData.height,i.posIn.marginBottom=i.startPosData.marginBottom-c),i.posIn.opacity=1,i.posOut.opacity=n.effectsOut.opacity,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,d=0;a=o[d];d++)(s=n.effectsOut[a])instanceof t.TransformData&&s.value&&(i.posIn[a].value=0,i.posOut[a].value=s.value,i.tweenData[a].value=i.posOut[a].value-i.posIn[a].value,i.posIn[a].unit=i.posOut[a].unit=i.tweenData[a].unit=s.unit);n.callActions("afterGetTweenData",arguments)},moveTargets:function(e){var r=this,i=null,o=null,a=null,s="",u=!1,c=-1,l=-1,d=r.checkProgress.bind(r);for(r.callActions("beforeMoveTargets",arguments),l=0;i=e.show[l];l++)o=new t.IMoveData,a=e.showPosData[l],s=i.isShown?"none":"show",(u=r.willTransition(s,e.hasEffect,a.posIn,a.posOut))&&c++,i.show(),o.posIn=a.posIn,o.posOut=a.posOut,o.statusChange=s,o.staggerIndex=c,o.operation=e,o.callback=u?d:null,i.move(o);for(l=0;i=e.toHide[l];l++)a=e.toHidePosData[l],o=new t.IMoveData,s="hide",u=r.willTransition(s,a.posIn,a.posOut),o.posIn=a.posIn,o.posOut=a.posOut,o.statusChange=s,o.staggerIndex=l,o.operation=e,o.callback=u?d:null,i.move(o);r.config.animation.animateResizeContainer&&(r.dom.parent.style[t.features.transitionProp]="height "+r.config.animation.duration+"ms ease, width "+r.config.animation.duration+"ms ease ",requestAnimationFrame(function(){e.startHeight!==e.newHeight&&e.viewportDeltaY!==e.startHeight-e.newHeight&&(r.dom.parent.style.height=e.newHeight+"px"),e.startWidth!==e.newWidth&&e.viewportDeltaX!==e.startWidth-e.newWidth&&(r.dom.parent.style.width=e.newWidth+"px")})),e.willChangeLayout&&(n.removeClass(r.dom.container,r.config.layout.ContainerClassName),n.addClass(r.dom.container,e.newContainerClassName)),r.callActions("afterMoveTargets",arguments)},hasEffect:function(){var e=this,t=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],n="",r=null,i=!1,o=-1;if(1!==e.effectsIn.opacity)return e.callFilters("resultHasEffect",!0,arguments);for(o=0;n=t[o];o++)if(r=e.effectsIn[n],0!==("undefined"!==r.value?r.value:r)){i=!0;break}return e.callFilters("resultHasEffect",i,arguments)},willTransition:function(e,t,r,i){var o=this,a=!1;return a=!(!n.isVisible(o.dom.container)||!("none"!==e&&t||r.x!==i.x||r.y!==i.y)&&(!o.config.animation.animateResizeTargets||r.width===i.width&&r.height===i.height&&r.marginRight===i.marginRight&&r.marginTop===i.marginTop)),o.callFilters("resultWillTransition",a,arguments)},checkProgress:function(e){var t=this;t.targetsDone++,t.targetsBound===t.targetsDone&&t.cleanUp(e)},cleanUp:function(e){var r=this,i=null,o=null,a=null,s=null,u=-1;for(r.callActions("beforeCleanUp",arguments),r.targetsMoved=r.targetsImmovable=r.targetsBound=r.targetsDone=0,u=0;i=e.show[u];u++)i.cleanUp(),i.show();for(u=0;i=e.toHide[u];u++)i.cleanUp(),i.hide();if(e.willSort&&r.printSort(!1,e),r.dom.parent.style[t.features.transitionProp]=r.dom.parent.style.height=r.dom.parent.style.width=r.dom.parent.style.overflow=r.dom.parent.style[t.features.perspectiveProp]=r.dom.parent.style[t.features.perspectiveOriginProp]="",e.willChangeLayout&&(n.removeClass(r.dom.container,e.startContainerClassName),n.addClass(r.dom.container,e.newContainerClassName)),e.toRemove.length){for(u=0;i=r.targets[u];u++)e.toRemove.indexOf(i)>-1&&((o=i.dom.el.previousSibling)&&"#text"===o.nodeName&&(a=i.dom.el.nextSibling)&&"#text"===a.nodeName&&n.removeWhitespace(o),e.willSort||r.dom.parent.removeChild(i.dom.el),r.targets.splice(u,1),i.isInDom=!1,u--);r.origOrder=r.targets}e.willSort&&(r.targets=e.newOrder),r.state=e.newState,r.lastOperation=e,r.dom.targets=r.state.targets,t.events.fire("mixEnd",r.dom.container,{state:r.state,instance:r},r.dom.document),"function"==typeof r.config.callbacks.onMixEnd&&r.config.callbacks.onMixEnd.call(r.dom.container,r.state,r),e.hasFailed&&(t.events.fire("mixFail",r.dom.container,{state:r.state,instance:r},r.dom.document),"function"==typeof r.config.callbacks.onMixFail&&r.config.callbacks.onMixFail.call(r.dom.container,r.state,r),n.addClass(r.dom.container,n.getClassname(r.config.classNames,"container",r.config.classNames.modifierFailed))),"function"==typeof r.userCallback&&r.userCallback.call(r.dom.container,r.state,r),"function"==typeof r.userDeferred.resolve&&r.userDeferred.resolve(r.state),r.userCallback=null,r.userDeferred=null,r.lastClicked=null,r.isToggling=!1,r.isBusy=!1,r.queue.length&&(r.callActions("beforeReadQueueCleanUp",arguments),s=r.queue.shift(),r.userDeferred=s.deferred,r.isToggling=s.isToggling,r.lastClicked=s.triggerElement,s.instruction.command instanceof t.CommandMultimix?r.multimix.apply(r,s.args):r.dataset.apply(r,s.args)),r.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandMultimix,a=0;a<e.length;a++)null!==(o=e[a])&&("object"==typeof o?n.extend(i.command,o):"boolean"==typeof o?i.animate=o:"function"==typeof o&&(i.callback=o));return!i.command.insert||i.command.insert instanceof t.CommandInsert||(i.command.insert=r.parseInsertArgs([i.command.insert]).command),!i.command.remove||i.command.remove instanceof t.CommandRemove||(i.command.remove=r.parseRemoveArgs([i.command.remove]).command),!i.command.filter||i.command.filter instanceof t.CommandFilter||(i.command.filter=r.parseFilterArgs([i.command.filter]).command),!i.command.sort||i.command.sort instanceof t.CommandSort||(i.command.sort=r.parseSortArgs([i.command.sort]).command),!i.command.changeLayout||i.command.changeLayout instanceof t.CommandChangeLayout||(i.command.changeLayout=r.parseChangeLayoutArgs([i.command.changeLayout]).command),i=r.callFilters("instructionParseMultimixArgs",i,arguments),n.freeze(i),i},parseFilterArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandFilter,a=0;a<e.length;a++)"string"==typeof(o=e[a])?i.command.selector=o:null===o?i.command.collection=[]:"object"==typeof o&&n.isElement(o,r.dom.document)?i.command.collection=[o]:"object"==typeof o&&void 0!==o.length?i.command.collection=n.arrayFromList(o):"object"==typeof o?n.extend(i.command,o):"boolean"==typeof o?i.animate=o:"function"==typeof o&&(i.callback=o);if(i.command.selector&&i.command.collection)throw new Error(t.messages.errorFilterInvalidArguments());return i=r.callFilters("instructionParseFilterArgs",i,arguments),n.freeze(i),i},parseSortArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a="",s=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandSort,s=0;s<e.length;s++)if(null!==(o=e[s]))switch(typeof o){case"string":a=o;break;case"object":o.length&&(i.command.collection=n.arrayFromList(o));break;case"boolean":i.animate=o;break;case"function":i.callback=o}return a&&(i.command=r.parseSortString(a,i.command)),i=r.callFilters("instructionParseSortArgs",i,arguments),n.freeze(i),i},parseInsertArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandInsert,a=0;a<e.length;a++)null!==(o=e[a])&&("number"==typeof o?i.command.index=o:"string"==typeof o&&["before","after"].indexOf(o)>-1?i.command.position=o:"string"==typeof o?i.command.collection=n.arrayFromList(n.createElement(o).childNodes):"object"==typeof o&&n.isElement(o,r.dom.document)?i.command.collection.length?i.command.sibling=o:i.command.collection=[o]:"object"==typeof o&&o.length?i.command.collection.length?i.command.sibling=o[0]:i.command.collection=o:"object"==typeof o&&o.childNodes&&o.childNodes.length?i.command.collection.length?i.command.sibling=o.childNodes[0]:i.command.collection=n.arrayFromList(o.childNodes):"object"==typeof o?n.extend(i.command,o):"boolean"==typeof o?i.animate=o:"function"==typeof o&&(i.callback=o));if(i.command.index&&i.command.sibling)throw new Error(t.messages.errorInsertInvalidArguments());return!i.command.collection.length&&r.config.debug.showWarnings&&console.warn(t.messages.warningInsertNoElements()),i=r.callFilters("instructionParseInsertArgs",i,arguments),n.freeze(i),i},parseRemoveArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=null,s=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandRemove,s=0;s<e.length;s++)if(null!==(a=e[s]))switch(typeof a){case"number":r.targets[a]&&(i.command.targets[0]=r.targets[a]);break;case"string":i.command.collection=n.arrayFromList(r.dom.parent.querySelectorAll(a));break;case"object":a&&a.length?i.command.collection=a:n.isElement(a,r.dom.document)?i.command.collection=[a]:n.extend(i.command,a);break;case"boolean":i.animate=a;break;case"function":i.callback=a}if(i.command.collection.length)for(s=0;o=r.targets[s];s++)i.command.collection.indexOf(o.dom.el)>-1&&i.command.targets.push(o);return!i.command.targets.length&&r.config.debug.showWarnings&&console.warn(t.messages.warningRemoveNoElements()),n.freeze(i),i},parseDatasetArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandDataset,a=0;a<e.length;a++)if(null!==(o=e[a]))switch(typeof o){case"object":Array.isArray(o)||"number"==typeof o.length?i.command.dataset=o:n.extend(i.command,o);break;case"boolean":i.animate=o;break;case"function":i.callback=o}return n.freeze(i),i},parseChangeLayoutArgs:function(e){var r=this,i=new t.UserInstruction,o=null,a=-1;for(i.animate=r.config.animation.enable,i.command=new t.CommandChangeLayout,a=0;a<e.length;a++)if(null!==(o=e[a]))switch(typeof o){case"string":i.command.containerClassName=o;break;case"object":n.extend(i.command,o);break;case"boolean":i.animate=o;break;case"function":i.callback=o}return n.freeze(i),i},queueMix:function(e){var r=this,i=null,o="";return r.callActions("beforeQueueMix",arguments),i=n.defer(t.libraries),r.config.animation.queue&&r.queue.length<r.config.animation.queueLimit?(e.deferred=i,r.queue.push(e),r.config.controls.enable&&(r.isToggling?(r.buildToggleArray(e.instruction.command),o=r.getToggleSelector(),r.updateControls({filter:{selector:o}})):r.updateControls(e.instruction.command))):(r.config.debug.showWarnings&&console.warn(t.messages.warningMultimixInstanceQueueFull()),i.resolve(r.state),t.events.fire("mixBusy",r.dom.container,{state:r.state,instance:r},r.dom.document),"function"==typeof r.config.callbacks.onMixBusy&&r.config.callbacks.onMixBusy.call(r.dom.container,r.state,r)),r.callFilters("promiseQueueMix",i.promise,arguments)},getDataOperation:function(e){var r=this,i=new t.Operation,o=[];if(i=r.callFilters("operationUnmappedGetDataOperation",i,arguments),r.dom.targets.length&&!(o=r.state.activeDataset||[]).length)throw new Error(t.messages.errorDatasetNotSet());return i.id=n.randomHex(),i.startState=r.state,i.startDataset=o,i.newDataset=e.slice(),r.diffDatasets(i),i.startOrder=r.targets,i.newOrder=i.show,r.config.animation.enable&&(r.getStartMixData(i),r.setInter(i),i.docState=n.getDocumentState(r.dom.document),r.getInterMixData(i),r.setFinal(i),r.getFinalMixData(i),r.parseEffects(),i.hasEffect=r.hasEffect(),r.getTweenData(i)),r.targets=i.show.slice(),i.newState=r.buildState(i),Array.prototype.push.apply(r.targets,i.toRemove),i=r.callFilters("operationMappedGetDataOperation",i,arguments)},diffDatasets:function(e){var r=this,i=[],o=[],a=[],s=null,u=null,c=null,l=null,d=null,h={},p="",f=-1;for(r.callActions("beforeDiffDatasets",arguments),f=0;s=e.newDataset[f];f++){if(void 0===(p=s[r.config.data.uidKey])||p.toString().length<1)throw new TypeError(t.messages.errorDatasetInvalidUidKey({uidKey:r.config.data.uidKey}));if(h[p])throw new Error(t.messages.errorDatasetDuplicateUid({uid:p}));h[p]=!0,(u=r.cache[p])instanceof t.Target?(r.config.data.dirtyCheck&&!n.deepEquals(s,u.data)&&(c=u.render(s),u.data=s,c!==u.dom.el&&(u.isInDom&&(u.unbindEvents(),r.dom.parent.replaceChild(c,u.dom.el)),u.isShown||(c.style.display="none"),u.dom.el=c,u.isInDom&&u.bindEvents())),c=u.dom.el):((u=new t.Target).init(null,r,s),u.hide()),u.isInDom?(d=u.dom.el.nextElementSibling,o.push(p),l&&(l.lastElementChild&&l.appendChild(r.dom.document.createTextNode(" ")),r.insertDatasetFrag(l,u.dom.el,r.targets.indexOf(u),a),l=null)):(l||(l=r.dom.document.createDocumentFragment()),l.lastElementChild&&l.appendChild(r.dom.document.createTextNode(" ")),l.appendChild(u.dom.el),u.isInDom=!0,u.unbindEvents(),u.bindEvents(),u.hide(),e.toShow.push(u),a.push(u)),e.show.push(u)}for(l&&((d=d||r.config.layout.siblingAfter)&&l.appendChild(r.dom.document.createTextNode(" ")),r.insertDatasetFrag(l,d,r.dom.targets.length,a)),f=0;s=e.startDataset[f];f++)p=s[r.config.data.uidKey],u=r.cache[p],e.show.indexOf(u)<0?(e.hide.push(u),e.toHide.push(u),e.toRemove.push(u)):i.push(p);n.isEqualArray(i,o)||(e.willSort=!0),r.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(e,t,n,r){var i=this;for(i.dom.parent.insertBefore(e,t);r.length;)i.targets.splice(n,0,r.shift()),n++},willSort:function(e,t){var n=this,r=!1;return r=!!(n.config.behavior.liveSort||"random"===e.order||e.attribute!==t.attribute||e.order!==t.order||e.collection!==t.collection||null===e.next&&t.next||e.next&&null===t.next)||!(!e.next||!t.next)&&n.willSort(e.next,t.next),n.callFilters("resultWillSort",r,arguments)},show:function(){return this.filter("all")},hide:function(){return this.filter("none")},isMixing:function(){return this.isBusy},filter:function(){var e=this,t=e.parseFilterArgs(arguments);return e.multimix({filter:t.command},t.animate,t.callback)},toggleOn:function(){var e=this,t=e.parseFilterArgs(arguments),n=t.command.selector,r="";return e.isToggling=!0,e.toggleArray.indexOf(n)<0&&e.toggleArray.push(n),r=e.getToggleSelector(),e.multimix({filter:r},t.animate,t.callback)},toggleOff:function(){var e=this,t=e.parseFilterArgs(arguments),n=t.command.selector,r="";return e.isToggling=!0,e.toggleArray.splice(e.toggleArray.indexOf(n),1),r=e.getToggleSelector(),e.multimix({filter:r},t.animate,t.callback)},sort:function(){var e=this,t=e.parseSortArgs(arguments);return e.multimix({sort:t.command},t.animate,t.callback)},changeLayout:function(){var e=this,t=e.parseChangeLayoutArgs(arguments);return e.multimix({changeLayout:t.command},t.animate,t.callback)},dataset:function(){var e=this,n=e.parseDatasetArgs(arguments),r=null,i=null,o=!1;return e.callActions("beforeDataset",arguments),e.isBusy?(i=new t.QueueItem,i.args=arguments,i.instruction=n,e.queueMix(i)):(n.callback&&(e.userCallback=n.callback),o=n.animate^e.config.animation.enable?n.animate:e.config.animation.enable,r=e.getDataOperation(n.command.dataset),e.goMix(o,r))},multimix:function(){var e=this,n=null,r=!1,i=null,o=e.parseMultimixArgs(arguments);return e.callActions("beforeMultimix",arguments),e.isBusy?(i=new t.QueueItem,i.args=arguments,i.instruction=o,i.triggerElement=e.lastClicked,i.isToggling=e.isToggling,e.queueMix(i)):(n=e.getOperation(o.command),e.config.controls.enable&&(o.command.filter&&!e.isToggling&&(e.toggleArray.length=0,e.buildToggleArray(n.command)),e.queue.length<1&&e.updateControls(n.command)),o.callback&&(e.userCallback=o.callback),r=o.animate^e.config.animation.enable?o.animate:e.config.animation.enable,e.callFilters("operationMultimix",n,arguments),e.goMix(r,n))},getOperation:function(e){var r=this,i=e.sort,o=e.filter,a=e.changeLayout,s=e.remove,u=e.insert,c=new t.Operation;return c=r.callFilters("operationUnmappedGetOperation",c,arguments),c.id=n.randomHex(),c.command=e,c.startState=r.state,c.triggerElement=r.lastClicked,r.isBusy?(r.config.debug.showWarnings&&console.warn(t.messages.warningGetOperationInstanceBusy()),null):(u&&r.insertTargets(u,c),s&&(c.toRemove=s.targets),c.startSort=c.newSort=c.startState.activeSort,c.startOrder=c.newOrder=r.targets,i&&(c.startSort=c.startState.activeSort,c.newSort=i,c.willSort=r.willSort(i,c.startState.activeSort),c.willSort&&r.sortOperation(c)),c.startFilter=c.startState.activeFilter,c.newFilter=o||n.extend(new t.CommandFilter,c.startFilter),"all"===c.newFilter.selector?c.newFilter.selector=r.config.selectors.target:"none"===c.newFilter.selector&&(c.newFilter.selector=""),r.filterOperation(c),c.startContainerClassName=c.startState.activeContainerClassName,a?(c.newContainerClassName=a.containerClassName,c.newContainerClassName!==c.startContainerClassName&&(c.willChangeLayout=!0)):c.newContainerClassName=c.startContainerClassName,r.config.animation.enable&&(r.getStartMixData(c),r.setInter(c),c.docState=n.getDocumentState(r.dom.document),r.getInterMixData(c),r.setFinal(c),r.getFinalMixData(c),r.parseEffects(),c.hasEffect=r.hasEffect(),r.getTweenData(c)),c.willSort&&(r.targets=c.newOrder),c.newState=r.buildState(c),r.callFilters("operationMappedGetOperation",c,arguments))},tween:function(e,t){var n=null,r=null,i=-1,o=-1;for(t=Math.min(t,1),t=Math.max(t,0),o=0;n=e.show[o];o++)r=e.showPosData[o],n.applyTween(r,t);for(o=0;n=e.hide[o];o++)n.isShown&&n.hide(),(i=e.toHide.indexOf(n))>-1&&(r=e.toHidePosData[i],n.isShown||n.show(),n.applyTween(r,t))},insert:function(){var e=this,t=e.parseInsertArgs(arguments);return e.multimix({insert:t.command},t.animate,t.callback)},insertBefore:function(){var e=this,t=e.parseInsertArgs(arguments);return e.insert(t.command.collection,"before",t.command.sibling,t.animate,t.callback)},insertAfter:function(){var e=this,t=e.parseInsertArgs(arguments);return e.insert(t.command.collection,"after",t.command.sibling,t.animate,t.callback)},prepend:function(){var e=this,t=e.parseInsertArgs(arguments);return e.insert(0,t.command.collection,t.animate,t.callback)},append:function(){var e=this,t=e.parseInsertArgs(arguments);return e.insert(e.state.totalTargets,t.command.collection,t.animate,t.callback)},remove:function(){var e=this,t=e.parseRemoveArgs(arguments);return e.multimix({remove:t.command},t.animate,t.callback)},getConfig:function(e){var t=this,r=null;return r=e?n.getProperty(t.config,e):t.config,t.callFilters("valueGetConfig",r,arguments)},configure:function(e){var t=this;t.callActions("beforeConfigure",arguments),n.extend(t.config,e,!0,!0),t.callActions("afterConfigure",arguments)},getState:function(){var e=this,r=null;return r=new t.State,n.extend(r,e.state),n.freeze(r),e.callFilters("stateGetState",r,arguments)},forceRefresh:function(){this.indexTargets()},destroy:function(e){var n=this,r=null,i=null,o=0;for(n.callActions("beforeDestroy",arguments),o=0;r=n.controls[o];o++)r.removeBinding(n);for(o=0;i=n.targets[o];o++)e&&i.show(),i.unbindEvents();n.dom.container.id.match(/^MixItUp/)&&n.dom.container.removeAttribute("id"),delete t.instances[n.id],n.callActions("afterDestroy",arguments)}}),t.IMoveData=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.IMoveData),t.IMoveData.prototype=Object.create(t.Base.prototype),t.IMoveData.prototype.constructor=t.IMoveData,t.TargetDom=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.TargetDom),t.TargetDom.prototype=Object.create(t.Base.prototype),t.TargetDom.prototype.constructor=t.TargetDom,t.Target=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new t.TargetDom,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Target),t.Target.prototype=Object.create(t.Base.prototype),n.extend(t.Target.prototype,{constructor:t.Target,init:function(e,n,r){var i=this,o="";if(i.callActions("beforeInit",arguments),i.mixer=n,e||(e=i.render(r)),i.cacheDom(e),i.bindEvents(),"none"!==i.dom.el.style.display&&(i.isShown=!0),r&&n.config.data.uidKey){if(void 0===(o=r[n.config.data.uidKey])||o.toString().length<1)throw new TypeError(t.messages.errorDatasetInvalidUidKey({uidKey:n.config.data.uidKey}));i.id=o,i.data=r,n.cache[o]=i}i.callActions("afterInit",arguments)},render:function(e){var r=this,i=null,o=null,a=null,s="";if(r.callActions("beforeRender",arguments),"function"!=typeof(i=r.callFilters("renderRender",r.mixer.config.render.target,arguments)))throw new TypeError(t.messages.errorDatasetRendererNotSet());return(s=i(e))&&"object"==typeof s&&n.isElement(s)?o=s:"string"==typeof s&&(a=document.createElement("div"),a.innerHTML=s,o=a.firstElementChild),r.callFilters("elRender",o,arguments)},cacheDom:function(e){var t=this;t.callActions("beforeCacheDom",arguments),t.dom.el=e,t.callActions("afterCacheDom",arguments)},getSortString:function(e){var t=this,n=t.dom.el.getAttribute("data-"+e)||"";t.callActions("beforeGetSortString",arguments),n=isNaN(1*n)?n.toLowerCase():1*n,t.sortString=n,t.callActions("afterGetSortString",arguments)},show:function(){var e=this;e.callActions("beforeShow",arguments),e.isShown||(e.dom.el.style.display="",e.isShown=!0),e.callActions("afterShow",arguments)},hide:function(){var e=this;e.callActions("beforeHide",arguments),e.isShown&&(e.dom.el.style.display="none",e.isShown=!1),e.callActions("afterHide",arguments)},move:function(e){var t=this;t.callActions("beforeMove",arguments),t.isExcluded||t.mixer.targetsMoved++,t.applyStylesIn(e),requestAnimationFrame(function(){t.applyStylesOut(e)}),t.callActions("afterMove",arguments)},applyTween:function(e,n){var r=this,i="",o=null,a=e.posIn,s=[],u=new t.StyleData,c=-1;for(r.callActions("beforeApplyTween",arguments),u.x=a.x,u.y=a.y,0===n?r.hide():r.isShown||r.show(),c=0;i=t.features.TWEENABLE[c];c++)if(o=e.tweenData[i],"x"===i){if(!o)continue;u.x=a.x+o*n}else if("y"===i){if(!o)continue;u.y=a.y+o*n}else if(o instanceof t.TransformData){if(!o.value)continue;u[i].value=a[i].value+o.value*n,u[i].unit=o.unit,s.push(i+"("+u[i].value+o.unit+")")}else{if(!o)continue;u[i]=a[i]+o*n,r.dom.el.style[i]=u[i]}(u.x||u.y)&&s.unshift("translate("+u.x+"px, "+u.y+"px)"),s.length&&(r.dom.el.style[t.features.transformProp]=s.join(" ")),r.callActions("afterApplyTween",arguments)},applyStylesIn:function(e){var n=this,r=e.posIn,i=1!==n.mixer.effectsIn.opacity,o=[];n.callActions("beforeApplyStylesIn",arguments),o.push("translate("+r.x+"px, "+r.y+"px)"),n.mixer.config.animation.animateResizeTargets&&("show"!==e.statusChange&&(n.dom.el.style.width=r.width+"px",n.dom.el.style.height=r.height+"px"),n.dom.el.style.marginRight=r.marginRight+"px",n.dom.el.style.marginBottom=r.marginBottom+"px"),i&&(n.dom.el.style.opacity=r.opacity),"show"===e.statusChange&&(o=o.concat(n.mixer.transformIn)),n.dom.el.style[t.features.transformProp]=o.join(" "),n.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(e){var n=this,r=[],i=[],o=n.mixer.config.animation.animateResizeTargets,a=void 0!==n.mixer.effectsIn.opacity;if(n.callActions("beforeApplyStylesOut",arguments),r.push(n.writeTransitionRule(t.features.transformRule,e.staggerIndex)),"none"!==e.statusChange&&r.push(n.writeTransitionRule("opacity",e.staggerIndex,e.duration)),o&&(r.push(n.writeTransitionRule("width",e.staggerIndex,e.duration)),r.push(n.writeTransitionRule("height",e.staggerIndex,e.duration)),r.push(n.writeTransitionRule("margin",e.staggerIndex,e.duration))),!e.callback)return n.mixer.targetsImmovable++,void(n.mixer.targetsMoved===n.mixer.targetsImmovable&&n.mixer.cleanUp(e.operation));switch(n.operation=e.operation,n.callback=e.callback,!n.isExcluded&&n.mixer.targetsBound++,n.isBound=!0,n.applyTransition(r),o&&e.posOut.width>0&&e.posOut.height>0&&(n.dom.el.style.width=e.posOut.width+"px",n.dom.el.style.height=e.posOut.height+"px",n.dom.el.style.marginRight=e.posOut.marginRight+"px",n.dom.el.style.marginBottom=e.posOut.marginBottom+"px"),n.mixer.config.animation.nudge||"hide"!==e.statusChange||i.push("translate("+e.posOut.x+"px, "+e.posOut.y+"px)"),e.statusChange){case"hide":a&&(n.dom.el.style.opacity=n.mixer.effectsOut.opacity),i=i.concat(n.mixer.transformOut);break;case"show":a&&(n.dom.el.style.opacity=1)}(n.mixer.config.animation.nudge||!n.mixer.config.animation.nudge&&"hide"!==e.statusChange)&&i.push("translate("+e.posOut.x+"px, "+e.posOut.y+"px)"),n.dom.el.style[t.features.transformProp]=i.join(" "),n.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(e,t,n){var r=this,i=r.getDelay(t),o="";return o=e+" "+(n>0?n:r.mixer.config.animation.duration)+"ms "+i+"ms "+("opacity"===e?"linear":r.mixer.config.animation.easing),r.callFilters("ruleWriteTransitionRule",o,arguments)},getDelay:function(e){var t=this,n=-1;return"function"==typeof t.mixer.config.animation.staggerSequence&&(e=t.mixer.config.animation.staggerSequence.call(t,e,t.state)),n=t.mixer.staggerDuration?e*t.mixer.staggerDuration:0,t.callFilters("delayGetDelay",n,arguments)},applyTransition:function(e){var n=this,r=e.join(", ");n.callActions("beforeApplyTransition",arguments),n.dom.el.style[t.features.transitionProp]=r,n.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(e){var t=this,n=e.propertyName,r=t.mixer.config.animation.animateResizeTargets;t.callActions("beforeHandleTransitionEnd",arguments),t.isBound&&e.target.matches(t.mixer.config.selectors.target)&&(n.indexOf("transform")>-1||n.indexOf("opacity")>-1||r&&n.indexOf("height")>-1||r&&n.indexOf("width")>-1||r&&n.indexOf("margin")>-1)&&(t.callback.call(t,t.operation),t.isBound=!1,t.callback=null,t.operation=null),t.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(e){var t=this;switch(t.callActions("beforeEventBus",arguments),e.type){case"webkitTransitionEnd":case"transitionend":t.handleTransitionEnd(e)}t.callActions("afterEventBus",arguments)},unbindEvents:function(){var e=this;e.callActions("beforeUnbindEvents",arguments),n.off(e.dom.el,"webkitTransitionEnd",e.handler),n.off(e.dom.el,"transitionend",e.handler),e.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var e=this,r="";e.callActions("beforeBindEvents",arguments),r="webkit"===t.features.transitionPrefix?"webkitTransitionEnd":"transitionend",e.handler=function(t){return e.eventBus(t)},n.on(e.dom.el,r,e.handler),e.callActions("afterBindEvents",arguments)},getPosData:function(n){var r=this,i={},o=null,a=new t.StyleData;return r.callActions("beforeGetPosData",arguments),a.x=r.dom.el.offsetLeft,a.y=r.dom.el.offsetTop,(r.mixer.config.animation.animateResizeTargets||n)&&(o=r.dom.el.getBoundingClientRect(),a.top=o.top,a.right=o.right,a.bottom=o.bottom,a.left=o.left,a.width=o.width,a.height=o.height),r.mixer.config.animation.animateResizeTargets&&(i=e.getComputedStyle(r.dom.el),a.marginBottom=parseFloat(i.marginBottom),a.marginRight=parseFloat(i.marginRight)),r.callFilters("posDataGetPosData",a,arguments)},cleanUp:function(){var e=this;e.callActions("beforeCleanUp",arguments),e.dom.el.style[t.features.transformProp]="",e.dom.el.style[t.features.transitionProp]="",e.dom.el.style.opacity="",e.mixer.config.animation.animateResizeTargets&&(e.dom.el.style.width="",e.dom.el.style.height="",e.dom.el.style.marginRight="",e.dom.el.style.marginBottom=""),e.callActions("afterCleanUp",arguments)}}),t.Collection=function(e){var t=null,r=-1;for(this.callActions("beforeConstruct"),r=0;t=e[r];r++)this[r]=t;this.length=e.length,this.callActions("afterConstruct"),n.freeze(this)},t.BaseStatic.call(t.Collection),t.Collection.prototype=Object.create(t.Base.prototype),n.extend(t.Collection.prototype,{constructor:t.Collection,mixitup:function(e){var r=this,i=null,o=Array.prototype.slice.call(arguments),a=[],s=-1;for(this.callActions("beforeMixitup"),o.shift(),s=0;i=r[s];s++)a.push(i[e].apply(i,o));return r.callFilters("promiseMixitup",n.all(a,t.libraries),arguments)}}),t.Operation=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.Operation),t.Operation.prototype=Object.create(t.Base.prototype),t.Operation.prototype.constructor=t.Operation,t.State=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.State),t.State.prototype=Object.create(t.Base.prototype),t.State.prototype.constructor=t.State,t.UserInstruction=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),n.seal(this)},t.BaseStatic.call(t.UserInstruction),t.UserInstruction.prototype=Object.create(t.Base.prototype),t.UserInstruction.prototype.constructor=t.UserInstruction,t.Messages=function(){t.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),n.seal(this)},t.BaseStatic.call(t.Messages),t.Messages.prototype=Object.create(t.Base.prototype),t.Messages.prototype.constructor=t.Messages,t.Messages.prototype.compileTemplates=function(){var e="",t="";for(e in this)"string"==typeof(t=this[e])&&(this[n.camelCase(e)]=n.template(t))},t.messages=new t.Messages,t.Facade=function(e){t.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=e.configure.bind(e),this.show=e.show.bind(e),this.hide=e.hide.bind(e),this.filter=e.filter.bind(e),this.toggleOn=e.toggleOn.bind(e),this.toggleOff=e.toggleOff.bind(e),this.sort=e.sort.bind(e),this.changeLayout=e.changeLayout.bind(e),this.multimix=e.multimix.bind(e),this.multiMix=e.multimix.bind(e),this.dataset=e.dataset.bind(e),this.tween=e.tween.bind(e),this.insert=e.insert.bind(e),this.insertBefore=e.insertBefore.bind(e),this.insertAfter=e.insertAfter.bind(e),this.prepend=e.prepend.bind(e),this.append=e.append.bind(e),this.remove=e.remove.bind(e),this.destroy=e.destroy.bind(e),this.forceRefresh=e.forceRefresh.bind(e),this.isMixing=e.isMixing.bind(e),this.getOperation=e.getOperation.bind(e),this.getConfig=e.getConfig.bind(e),this.getState=e.getState.bind(e),this.callActions("afterConstruct",arguments),n.freeze(this),n.seal(this)},t.BaseStatic.call(t.Facade),t.Facade.prototype=Object.create(t.Base.prototype),t.Facade.prototype.constructor=t.Facade,"object"==typeof exports&&"object"==typeof module?module.exports=t:"function"==typeof define&&define.amd?define("mixitup",[],function(){return t}):void 0!==e.mixitup&&"function"==typeof e.mixitup||(e.mixitup=e.mixItUp=t),(r=e.$||e.jQuery)&&r.fn.jquery&&t.registerJqPlugin(r),t.BaseStatic.call(t.constructor),t.NAME="mixitup",t.CORE_VERSION="3.1.12"}(window),function(e){"use strict";function t(t){return/In/.test(t)||e.inArray(t,e.fn.textillate.defaults.inEffects)>=0}function n(t){return/Out/.test(t)||e.inArray(t,e.fn.textillate.defaults.outEffects)>=0}function r(e){return"true"!==e&&"false"!==e?e:"true"===e}function i(t){var n=t.attributes||[],i={};return n.length?(e.each(n,function(e,t){var n=t.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(n)?(i.in=i.in||{},i.in[n.replace(/data-in-/,"")]=r(t.nodeValue)):/^data-out-*/.test(n)?(i.out=i.out||{},i.out[n.replace(/data-out-/,"")]=r(t.nodeValue)):/^data-*/.test(n)&&(i[n.replace(/data-/,"")]=r(t.nodeValue))}),i):i}function o(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function a(e,t,n){e.addClass("animated "+t).css("visibility","visible").show(),e.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.removeClass("animated "+t),n&&n()})}function s(r,i,s){var u=r.length;u?(i.shuffle&&(r=o(r)),i.reverse&&(r=r.toArray().reverse()),e.each(r,function(r,o){function c(){t(i.effect)?l.css("visibility","visible"):n(i.effect)&&l.css("visibility","hidden"),!(u-=1)&&s&&s()}var l=e(o),d=i.sync?i.delay:i.delay*r*i.delayScale;l.text()?setTimeout(function(){a(l,i.effect,c)},d):c()})):s&&s()}var u=function(r,o){var a=this,u=e(r);a.init=function(){a.$texts=u.find(o.selector),a.$texts.length||(a.$texts=e('<ul class="texts"><li>'+u.html()+"</li></ul>"),u.html(a.$texts)),a.$texts.hide(),a.$current=e("<span>").html(a.$texts.find(":first-child").html()).prependTo(u),t(o.in.effect)?a.$current.css("visibility","hidden"):n(o.out.effect)&&a.$current.css("visibility","visible"),a.setOptions(o),a.timeoutRun=null,setTimeout(function(){a.options.autoStart&&a.start()},a.options.initialDelay)},a.setOptions=function(e){a.options=e},a.triggerEvent=function(t){var n=e.Event(t+".tlt");return u.trigger(n,a),n},a.in=function(r,o){r=r||0;var c,l=a.$texts.find(":nth-child("+((r||0)+1)+")"),d=e.extend(!0,{},a.options,l.length?i(l[0]):{});l.addClass("current"),a.triggerEvent("inAnimationBegin"),u.attr("data-active",l.data("id")),a.$current.html(l.html()).lettering("words"),"char"==a.options.type&&a.$current.find('[class^="word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){e(this).lettering()}),c=a.$current.find('[class^="'+a.options.type+'"]').css("display","inline-block"),t(d.in.effect)?c.css("visibility","hidden"):n(d.in.effect)&&c.css("visibility","visible"),a.currentIndex=r,s(c,d.in,function(){a.triggerEvent("inAnimationEnd"),d.in.callback&&d.in.callback(),o&&o(a)})},a.out=function(t){var n=a.$texts.find(":nth-child("+((a.currentIndex||0)+1)+")"),r=a.$current.find('[class^="'+a.options.type+'"]'),o=e.extend(!0,{},a.options,n.length?i(n[0]):{});a.triggerEvent("outAnimationBegin"),s(r,o.out,function(){n.removeClass("current"),a.triggerEvent("outAnimationEnd"),u.removeAttr("data-active"),o.out.callback&&o.out.callback(),t&&t(a)})},a.start=function(e){setTimeout(function(){a.triggerEvent("start"),function e(t){a.in(t,function(){var n=a.$texts.children().length;t+=1,!a.options.loop&&t>=n?(a.options.callback&&a.options.callback(),a.triggerEvent("end")):(t%=n,a.timeoutRun=setTimeout(function(){a.out(function(){e(t)})},a.options.minDisplayTime))})}(e||0)},a.options.initialDelay)},a.stop=function(){a.timeoutRun&&(clearInterval(a.timeoutRun),a.timeoutRun=null)},a.init()};e.fn.textillate=function(t,n){return this.each(function(){var r=e(this),o=r.data("textillate"),a=e.extend(!0,{},e.fn.textillate.defaults,i(this),"object"==typeof t&&t);o?"string"==typeof t?o[t].apply(o,[].concat(n)):o.setOptions.call(o,a):r.data("textillate",o=new u(this,a))})},e.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2e3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}}(jQuery),define("jquery.textillate",["jquery"],function(e){return function(){var t;return t||e.jQuery.fn.textillate}}(this)),/*!    
* Lettering.JS 0.6.1
*
* Copyright 2010, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*
* Thanks to Paul Irish - http://paulirish.com - for the feedback.
*
* Date: Mon Sep 20 17:14:00 2010 -0600
*/
function(e){function t(t,n,r,i){var o=t.text().split(n),a="";o.length&&(e(o).each(function(e,t){a+='<span class="'+r+(e+1)+'">'+t+"</span>"+i}),t.empty().append(a))}var n={init:function(){return this.each(function(){t(e(this),"","char","")})},words:function(){return this.each(function(){t(e(this)," ","word"," ")})},lines:function(){return this.each(function(){var n="eefec303079ad17405c889e092e105b0";t(e(this).children("br").replaceWith(n).end(),n,"line","")})}};e.fn.lettering=function(t){return t&&n[t]?n[t].apply(this,[].slice.call(arguments,1)):"letters"!==t&&t?(e.error("Method "+t+" does not exist on jQuery.lettering"),this):n.init.apply(this,[].slice.call(arguments,0))}}(jQuery),define("jquery.lettering",["jquery"],function(e){return function(){var t;return t||e.jQuery.fn.lettering}}(this)),define("v_category",["sweetalert2","m_app","v_message","v_view","jquery","mixitup","dictionary","m_moment","jquery.textillate","jquery.lettering"],function(e,t,n,r,i,o,a,s){function u(e,t){var n=A(e);i(n+" .iconInUserBlock img, "+n+" .userNameInChatList").off(),i(n+" .iconInUserBlock img, "+n+" .userNameInChatList").click(function(n){n.preventDefault();var r={};let o=e;r.chatId=o,r.userType=i(this).closest(".mix.usersBlockInMenusBlock").attr("connect_userType"),r.login=i(this).closest(".mix.usersBlockInMenusBlock").attr("connect_userLogin"),r.uid=i(this).closest(".mix.usersBlockInMenusBlock").attr("connect_uid"),r.chatIcon=P(o),r.chatName=R(o),"function"==typeof t&&t(r,this)})}function c(e,t){var n=l(e);if(t.push(n),"object"==typeof e.children&&Array.isArray(e.children)&&e.children.length>0)for(var r in e.children)e.children[r].thisSubMenu=1,e.children[r].parent=e.id,"object"==typeof e.parentBox?e.children[r].parentBox=e.parentBox.concat(["UMP"+e.id]):e.children[r].parentBox=["UMP"+e.id],c(e.children[r],t)}function l(e){return Template7.compile(de.UserMenuChildN)(e)}function d(e,t){var n=[];if("object"==typeof e.children&&Array.isArray(e.children)&&e.children.length>0){var r=e.children;for(var i in r)r[i].parent=e.id,r[i].parentBox=["UMP"+e.id],c(r[i],n);e.sub=n.join(" ")}t.push(h(e))}function h(e){return Template7.compile(de.UserMenuChildOne)(e)}function p(e,t){M(T(e),t),f()}function f(){i(".appUserMenu.flagMenuLevel1 > a, .appUserMenu.flagMenuLevel1 > div.userMenuParentButton").click(g),i(".appUserMenu.flagMenuLevel2 > a, .appUserMenu.flagMenuLevel2 > div.userMenuParentButton").click(y),i(".appUserMenu.flagMenuLevelN > a, .appUserMenu.flagMenuLevelN > div.userMenuParentButton").click(v),i(".appUserMenu.flagMenuLevel1 > a.viewError, .appUserMenu.flagMenuLevel2 > a.viewError, .appUserMenu.flagMenuLevelN > a.viewError").off("click"),i(".appUserMenu.flagMenuLevel1 > a.viewError, .appUserMenu.flagMenuLevel2 > a.viewError, .appUserMenu.flagMenuLevelN > a.viewError").click(m)}function m(t){t.preventDefault();var n=i(this).attr("errorText");e(a.withString("[error-value]")+"!",a.withString(n),"error")}function g(e){e.preventDefault();var n=i(this).parent().attr("menuid");_(),i("li.appUserMenu.flagMenuLevelN").hide(150),i("ul.subMenusForUid").hide(250),i(this).parent().hasClass("flagMenuHasChildren")&&i(this).parent().children("ul.subMenusForUid").show(350).children('li.flagMenuLevel2[menuparent="'+n+'"]').show();const r=i(this).attr("href");if(i(this).is("a")&&r){const e=i(this).parent().attr("appName"),n=i(this).parent().attr("pageName");t.getGlobalVar("engine").passToApp({app:e,page:n,data:r})}}function y(e){e.preventDefault();var n=i(this).parent().attr("menuid"),r=i(this).parent().attr("menuparent");_(),i("li.appUserMenu.flagMenuLevelN").hide(250),i(this).parent().hasClass("flagMenuHasChildren")&&(b(r,this),i(this).closest("ul.subMenusForUid").children('li.appUserMenu.flagMenuLevelN[menuparent="'+n+'"]').show(350));var o=i(this).attr("href");if(i(this).is("a")&&o){var a=i(this).parent().attr("appName"),s=i(this).parent().attr("pageName");t.getGlobalVar("engine").passToApp({app:a,page:s,data:o})}}function v(e){e.preventDefault();var n=i(this).parent().attr("menuid"),r=i(this).parent().attr("menuparent");i("li.appUserMenu.flagMenuLevelN, li.appUserMenu.flagMenuLevel2").hide(150),_(),i(this).parent().hasClass("flagMenuHasChildren")&&(i(this).parent().addClass("flagMenuNoOffset"),b(r,this),i(this).parent().show(150),i(this).closest("ul.subMenusForUid").children('li.appUserMenu.flagMenuLevelN[menuparent="'+n+'"]').show(250));var o=i(this).attr("href");if(i(this).is("a")&&o){var a=i(this).parent().attr("appName"),s=i(this).parent().attr("pageName");t.getGlobalVar("engine").passToApp({app:a,page:s,data:o})}}function _(){i(".userMenuBackButton").remove(),i("li.appUserMenu.flagMenuLevelN").removeClass("flagMenuNoOffset")}function b(e,t){i(t).parent().show(),i(t).parent().prepend("<div class='userMenuBackButton' menuparent='"+e+"'></div>"),i('.userMenuBackButton[menuparent="'+e+'"]').click(w)}function w(e){e.preventDefault();var t=i(this).attr("menuparent");i('li.appUserMenu[menuid="'+t+'"]'+" > div.userMenuParentButton").trigger("click")}function M(e,t){var n=".usersBlockInMenusBlock[connect_uid='"+t+"'] .menusInUsersBlock";r.d_addDataToViewEl(n,e,"change")}function T(e){var t=e.categories,n={},r={categories:n},i=["chat","market","dock","sharepay","onepay","page"];for(var o in i){var a=i[o];if(t[a]){n[a]=t[a];var s=[];for(var u in n[a]){d(n[a][u],s)}n[a].sub=s.join(" ")}}return S(r).replace(/[  \n\t\r]+/g," ")}function S(e){return Template7.compile(de.UserMenuContainer)(e)}function L(e){var t=k(e);i(he.pathToChatList).prepend(t)}function k(e){return Template7.compile(de.UserList)(e)}function C(e){B(e),H(e),U(e),V(e)}function E(e){I(e.chatId)<1&&(L(e),C(e.chatId))}function D(e){return'.appBase_pIndexLeftBlockInChiefHeader[connect_chatid="'+e+'"]'}function I(e){return i(A(e)).length}function A(e){return'.usersBlockInMenusBlock[connect_chatid="'+e+'"]'}function x(e){return i('.usersBlockInMenusBlock[connect_uid="'+e+'"]').attr("connect_chatid")}function O(){i(".usersBlockInMenusBlock").hide()}function N(e){i('.usersBlockInMenusBlock[connect_chatid="'+e+'"]').show()}function P(e){var t=A(e)+" .iconBlockInUserBlock img";return i(t).attr("src")}function R(e){var t=A(e)+" .userNameInChatList";return i(t).text()}function Y(e){A(e);return i(pathToIcon).attr("connect_userLogin")}function F(e){A(e);return i(pathToIcon).attr("connect_userType")}function j(e){void 0!==pe.sortMixitUpObject&&pe.sortMixitUpObject.destroy(),pe.sortMixitUpObject=o(he.pathToChatList);var t={};void 0===e&&(e={}),void 0===e.filter&&(t.filter=".usersBlockInMenusBlock"),void 0===e.sort&&(t.sort="lastmsgtime:desc"),pe.sortMixitUpObject.multimix(t)}function B(e){var t=A(e);i(t+" "+he.pathForFlashMsgSimpleText).textillate({autoStart:!1,in:{effect:"wobble",delay:10}})}function H(e){var t=A(e);i(t+" "+he.pathForFlashMsgLiveAudio).textillate({autoStart:!1,in:{effect:"wobble",delay:10}})}function U(e){var t=A(e);i(t+" "+he.pathForFlashMsgLiveVideo).textillate({autoStart:!1,in:{effect:"wobble",delay:10}})}function V(e){var t=A(e);i(t+" "+he.pathForEffectsLastMsg).textillate({autoStart:!1,in:{effect:"fadeInLeftBig",delay:30},out:{effect:"fadeOutRightBig",delay:15,callback:function(){i(t+" .lastMessageInThirdLine").textillate("start")}},minDisplayTime:150}).textillate("start")}function W(e,t){"number"!=typeof t&&(t=2500),void 0!==pe.objectTimeoutForHideLiveInChatsList&&clearTimeout(pe.objectTimeoutForHideLiveInChatsList),pe.objectTimeoutForHideLiveInChatsList=setTimeout(function(){var t=A(e);i(t+" .aCpAll_flashBLocks").hide()},t)}function q(e,t){var n=A(e);i(n+" .newMsgInSecondLine").html(t)}function G(e,t){K(e,t),z(e)}function K(e,t){var n=A(e);i(n+" .newMsgInSecondLine").html(t)}function z(e){var t=A(e);i(t+" .newMsgInSecondLine").css("display","inline-block")}function Q(e){var t=A(e);i(t+" .newMsgInSecondLine").hide()}function J(e){var t=D(e);i(t+" .appBase_userStateOffline").hide(),i(t+" .appBase_userStateOnline").fadeIn(500)}function $(e,t){var n=D(e);i(n+" .appBase_userStateOffline").fadeIn().html(a.withString("[dictionary-was] "+s(t).calendar())),i(n+" .appBase_userStateOnline").hide(500)}function X(e){var t=A(e)+" .chatDataInUsersBlock";i(t).addClass("flagUserOnline"),i(t).attr("connect_online",1)}function Z(e,t){var n=A(e)+" .chatDataInUsersBlock";i(n).removeClass("flagUserOnline"),i(n).attr("connect_online",t)}function ee(e,t){var n=A(e);i(n+" .iconInUserBlock img").attr("src",t)}function te(e,t){var n=A(e);i(n+" .userNameInChatList").text(t)}function ne(e,t){var n=A(e);i(n).attr("cLogin",t)}function re(e,t){var r=A(e),o=n.msg_getLastMsg(t);if(i(r+" .lastMessageInThirdLine .current").text()!=o){var a=ie(t.lmsgTime);i(r+" .lastMessageInThirdLine").find(".texts li:first").text(o),i(r+" .lastMessageInThirdLine").textillate("out"),i(r+" .timelastMsgInThirdLine").text(a),i(r).attr("data-lastmsgtime",t.lmsgTime),j()}}function ie(e){return new Date(e).getHours()+":"+new Date(e).getMinutes()}function oe(e){var t=A(e);i(t+" .aCpAll_flashBLocks").hide()}function ae(e,t){var n=A(e);i(n+" .aCpAll_msgSimpleText_animateContainer .current").text()!=t.liveData&&(oe(e),1==t.liveType&&i(n+" .aCpAll_msgSimpleText_flashBlock").show(),i(n+" .aCpAll_msgSimpleText_animateContainer").find(".texts li:first").text(t.liveData),i(n+" .aCpAll_msgSimpleText_animateContainer").textillate("start"))}function se(e,t){var n=A(e);i(n+" .aCpAll_msgLiveAudio_animateContainer .current").text()!=t.liveData&&(oe(e),20==t.liveType&&(i(n+" .aCpAll_msgLiveAudio_flashBlock").show(),i(n+" .aCpAll_msgLiveAudio_flashIcon").show()),i(n+" .aCpAll_msgLiveAudio_animateContainer").find(".texts li:first").text(t.liveData),i(n+" .aCpAll_msgLiveAudio_animateContainer").textillate("start"))}function ue(e,t){var n=A(e);i(n+" .aCpAll_msgLiveVideo_animateContainer .current").text()!=t.liveData&&(oe(e),21==t.liveType&&(i(n+" .aCpAll_msgLiveVideo_flashBlock").show(),i(n+" .aCpAll_msgLiveVideo_flashIcon").show()),i(n+" .aCpAll_msgLiveVideo_animateContainer").find(".texts li:first").text(t.liveData),i(n+" .aCpAll_msgLiveVideo_animateContainer").textillate("start"))}function ce(e){i(e+" .usersNameInUserBlock").append('<span class="isVerificateinUserBlock"></span>')}const le={},de={};le.templates=de,de.UserMenuChildN="\n  \t<li menuid='{{id}}' menuparent='{{parent}}' {{a}} appName='{{app}}' pageName='{{page}}' class='appUserMenu {{#if children}}flagMenuHasChildren{{/if}}  flagSubMenu {{#if thisSubMenu}}flagMenuLevelN{{else}}flagMenuLevel2{{/if}}{{#if parentBox}} {{join parentBox delimiter=\" \"}}{{/if}}' >\n      <a href=\"{{data}}\" class='{{classForATeg}}' {{attrForATeg}} >{{name}}</a>\n      {{#if children}}\n    \t\t<div class=\"userMenuParentButton\"></div>\n      {{/if}}\n    </li>\n  ",de.UserMenuChildOne="\n  \t<li menuid='{{id}}' class='appUserMenu {{#if sub}}flagMenuHasChildren{{/if}} flagMenuLevel1' appName='{{app}}' pageName='{{page}}'>\n        <a href=\"{{data}}\" class='menuLink flagMenuLevel1 {{classForATeg}}' {{attrForATeg}}>{{name}}</a>\n\t\t{{#if sub}}\n\t\t\t<div class=\"userMenuParentButton\"></div>\n\t\t\t<ul class=\"subMenusForUid\">\n\t\t\t\t {{sub}}\n\t\t\t</ul>\n\t\t{{/if}}\n\t</li>\n    ",de.UserMenuContainer='\n     {{#each categories}}\n\t\t  \t<div class="menuListForUsers">\n\t\t  \t\t<div class="appMenusForUsers"  app-name="{{@key}}">\n\t\t\t\t\t<div class="appNameInMenuList app-{{@key}}">\n\t\t\t\t\t  <span class=\'CML\'>[app-{{@key}}]</span>\n\t\t\t\t\t</div>\n          \n\t\t\t\t\t{{#if sub}}\n\t\t\t\t\t  <ul class="menusForUid">\n\t\t\t\t\t\t\t{{sub}}\n\t\t\t\t\t\t  </ul>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t</div>\n\t\t  \t</div>\n\t  \t{{/each}}\n    ',de.UserList='\n\t\t<div class="mix usersBlockInMenusBlock" connect_uid="{{userId}}" connect_chatid="{{chatId}}" data-lastmsgtime="{{lmsgTime}}" connect_userType=\'{{userType}}\' connect_userLogin=\'{{login}}\'>\n\t\t\t<div class=\'chatDataInUsersBlock\'>\n\t\t\t\t<div class="iconBlockInUserBlock">\n\t\t\t      <div class="iconInUserBlock">\n\t\t\t      \t<img class="lazy" data-original="{{icon}}" src="{{icon}}">\n\t\t\t      </div>\n\t\t\t      <div class="typeInUserBlock"></div>\n\t\t\t    </div>\n\n\t\t   \t\t<div class="firstLineInUserBlock">\n\t\t\t      <div class="usersNameInUserBlock">\n\t\t\t         <div class="userNameInChatList">{{chatName}}</div>\n\t\t\t      </div>\n\t\t\t      <div class="toCallBlockInUserNameBlock">\n\t\t\t         <div class="btnToVoiceCallInFirstLine"></div>\n\t\t\t         <div class="btnToVideoCallInFirstLine"></div>\n\t\t\t      </div>\n\t\t\t    </div>\n\n\t\t\t    <div class="secondLineInUserBlock">\n\t\t\t      <div class="leftBlockInSecondLine">\n\t\t\t         <div class="aCpAll_msgSimpleText_flashBlock aCpAll_flashBLocks">\n\t\t\t            <div class="aCpAll_msgSimpleText_flashIcon aCpAll_flashBLocks_icon"></div>\n\t\t\t            <div class="valueInLiveBlocks">\n\t\t\t               <span class="aCpAll_msgSimpleText_animateContainer">\n\t\t\t                  <span style="visibility: visible;"></span>\n\t\t\t                  <ul class="texts" style="display: none;">\n\t\t\t                     <li></li>\n\t\t\t                  </ul>\n\t\t\t               </span>\n\t\t\t            </div>\n\t\t\t         </div>\n\t\t\t         <div class="aCpAll_msgLiveAudio_flashBlock aCpAll_flashBLocks">\n\t\t\t            <div class="aCpAll_msgLiveAudio_flashIcon aCpAll_flashBLocks_icon"></div>\n\t\t\t            <div class="valueInLiveBlocks">\n\t\t\t               <span class="aCpAll_msgLiveAudio_animateContainer">\n\t\t\t                  <span style="visibility: visible;"></span>\n\t\t\t                  <ul class="texts" style="display: none;">\n\t\t\t                     <li></li>\n\t\t\t                  </ul>\n\t\t\t               </span>\n\t\t\t            </div>\n\t\t\t         </div>\n\t\t\t         <div class="aCpAll_msgLiveVideo_flashBlock aCpAll_flashBLocks">\n\t\t\t            <div class="aCpAll_msgLiveVideo_flashIcon aCpAll_flashBLocks_icon"></div>\n\t\t\t            <div class="valueInLiveBlocks">\n\t\t\t               <span class="aCpAll_msgLiveVideo_animateContainer">\n\t\t\t                  <span style="visibility: visible;"></span>\n\t\t\t                  <ul class="texts" style="display: none;">\n\t\t\t                     <li></li>\n\t\t\t                  </ul>\n\t\t\t               </span>\n\t\t\t            </div>\n\t\t\t         </div>\n\n\t\t\t      </div>\n\t\t\t      <div class="rightBlockInSecondLine"> <span class="newMsgInSecondLine"></span> </div>\n\t\t\t    </div>\n\n\t\t\t    <div class="thirdLineInUserBlock">\n\t\t\t      <div class="leftBlockInThirdLine">\n\t\t\t         <div class="lastMessageInThirdLine">{{lmsgText}}</div>\n\t\t\t      </div>\n\t\t\t      <div class="rightBlockInThirdLine">\n\t\t\t         <div class="timelastMsgInThirdLine">{{lmsgText}}</div>\n\t\t\t      </div>\n\t\t\t    </div>\n\n\t\t\t</div>  \n\t\t\t<div class=\'menusInUsersBlock\'></div> \n\t\t</div>\n\t';const he={};le.vars=he,he.pathToChatList='.usersBlockContainerInMenusBlock .app[app-name="base"] .view[view-name="index"] .scrolBlockForChat',he.pathForFlashMsgSimpleText=".valueInLiveBlocks .aCpAll_msgSimpleText_animateContainer",he.pathForFlashMsgLiveVideo=".valueInLiveBlocks .aCpAll_msgLiveVideo_animateContainer",he.pathForFlashMsgLiveAudio=".valueInLiveBlocks .aCpAll_msgLiveAudio_animateContainer",he.pathForEffectsLastMsg=".lastMessageInThirdLine";const pe={};return le.output=pe,le.onClickToChatList=u,le.addUserMenuChildN=c,le.addUserMenuChildOne=d,le.addMenuByCategoryList=p,le.activeActionsForMenuEvents=f,le.clickToMenuFirstLevel=g,le.clickToMenuFirstLevel=g,le.addMenuByContentAndUid=M,le.getUserMenuContainerByCats=T,le.createChatList=L,le.setEffectsForChatList=C,le.safeAddChatList=E,le.getPathToDomElByChatId=A,le.findChatBlock=I,le.getPathToDomElByChatId=A,le.getChatIdByUid=x,le.effHideChatLists=O,le.effShowChatList=N,le.getChatIcon=P,le.getChatName=R,le.getUserLoginFromPrivateChat=Y,le.getUserTypeFromPrivateChat=F,le.startEffSortChats=j,le.flash_msgSimpleText_init=B,le.flash_msgLiveAudio_init=H,le.flash_msgLiveVideo_init=U,le.startEffLastMsgByChatId=V,le.startEffHideLiveInChatsList=W,le.domChangeCountMessages=q,le.domSafeShowNewMsgCountInChatBlock=G,le.domChangeNewMsgCountInChatBlock=K,le.domShowNewMsgCountInChatBlock=z,le.domHideNewMsgCountInChatBlock=Q,le.domChangeDidOnlineChatHeader=J,le.domChangeDidOfflineChatHeader=$,le.domChangeAddUserOnlineFlag=X,le.domChangeRemoveUserOnlineFlag=Z,le.domChangeIconInChatBlock=ee,le.domChangeChatNameInChatBlock=te,le.domChangeLoginInChatBlock=ne,le.domChangeLastMsgTextAndTimeInChatBlock=re,le.getTodayTime=ie,le.flash_msgSimpleText_activeFlashEffect=ae,le.flash_msgLiveAudio_activeFlashEffect=se,le.flash_msgLiveVideo_activeFlashEffect=ue,le.domAddVerificateStatusToChatBlock=ce,le}),define("m_category",["jquery","v_category","m_view","m_app","m_user","dictionary"],function(e,t,n,r,i,o){function a(e){var t={};return void 0!==e.msg&&("string"==typeof e.msg.content&&(t.lmsgText=e.msg.content),void 0!==e.msg.time&&(t.lmsgTime=e.msg.time),void 0!==e.msg.type&&(t.lmsgType=e.msg.type),void 0!==e.msg.uid&&(t.lmsgUid=e.msg.uid)),void 0!==e.live&&(void 0!==e.live.status&&(t.liveStatus=e.live.status),void 0!==e.live.type&&(t.liveType=e.live.type),void 0!==e.live.data&&(t.liveData=e.live.data),void 0!==e.live.uid&&(t.liveUser=e.live.uid)),t}function s(e,t){var n="pchat_user_";return void 0!==t?r.save(n+e,t):r.get(n+e)}function u(n,i){var o,a=n.chatId;if(t.findChatBlock(a)<1){o=s(a);var u=n;u.userId=o,u.chatType=i,t.createChatList(u),t.setEffectsForChatList(a),t.onClickToChatList(u.chatId,function(t,n){var i="chatName="+t.chatName+"&chatId="+t.chatId+"&chatIcon="+t.chatIcon+"&userLogin="+t.login+"&uid="+t.uid;let o=e(n).closest(".mix.usersBlockInMenusBlock").attr("connect_online");"string"==typeof o&&o.length>0&&(i+="&online="+o),r.getGlobalVar("engine").passToApp({app:"chat",page:"index",data:i})})}l(a,n)}function c(){}function l(e,n){void 0!==n.newMsgCount&&t.domPlusCountMessages(e,n.newMsgCount),void 0!==n.chatName?t.domChangeChatNameInChatBlock(e,n.chatName):void 0!==n.userPhone&&t.domChangeChatNameInChatBlock(e,n.userPhone),void 0!==n.lmsgText&&t.domChangeLastMsgTextAndTimeInChatBlock(e,n),void 0!==n.login&&t.domChangeLoginInChatBlock(e,n),void 0!==n.icon&&t.domChangeIconInChatBlock(e,n.icon),void 0!==n.verificate&&1==n.verificate&&t.domAddVerificateStatusToChatBlock(e),void 0!==n.userOnline&&(1==n.userOnline?(t.domChangeAddUserOnlineFlag(e),t.domChangeDidOnlineChatHeader(e)):(t.domChangeRemoveUserOnlineFlag(e,n.userOnline),t.domChangeDidOfflineChatHeader(e,n.userOnline))),void 0!==n.liveData&&void 0!==n.liveType&&void 0!==n.liveUser&&i.getMyId()!=n.liveUser&&(d(e,n),t.startEffHideLiveInChatsList(e))}function d(e,n){switch(n.liveType){case 1:n.liveData=o.withString("[dictionary-symbols]")+" - "+n.liveData,t.flash_msgSimpleText_activeFlashEffect(e,n);break;case 20:n.liveData=o.withString("[dictionary-seconds]")+" - "+n.liveData,t.flash_msgLiveAudio_activeFlashEffect(e,n);break;case 21:n.liveData=o.withString("[dictionary-seconds]")+" - "+n.liveData,t.flash_msgLiveVideo_activeFlashEffect(e,n)}}function h(e,t,n){var r="chatId="+t+"&userId="+n+"&chatType=1&back=1",i={app:"chat",code:"chiefChat",page:"index",name:o.withString("[app-chat]"),id:t,data:r};return e.categories.chat={},e.categories.chat[t]=i,!0}function p(e,t){var n={app:"chat",code:"chiefChat",page:"index",name:o.withString("[app-chat]"),id:t,classForATeg:"viewError",attrForATeg:"errorText='[phrase-needSignForChat]'"};return e.categories.chat={},e.categories.chat[t]=n,!0}const f={view:t};return f.getObjectForUpdateChatBlock=a,f.userForPrivateChat=s,f.safeUpdateChatBlock=u,f.createPrivateChat=c,f.domChangeChatBlock=l,f.addChatBlockToCategory=h,f.addDisabledChatBlockToCategory=p,f}),define("m_storage",["m_firebase"],function(e){function t(e,t){var n={},r=e.file,o=e.pathForSaveFile;"string"==typeof e.mimeType&&(n={contentType:e.mimeType});var a=i.child(o).put(r,n);a.on(firebase.storage.TaskEvent.STATE_CHANGED,function(e){var n=e.bytesTransferred/e.totalBytes*100;console.log("storage.js upload - Upload is "+n+"% done"),"function"==typeof t.onProgress&&t.onProgress(n)},function(e){"function"==typeof t.onError&&t.onError(e),console.log("storage.js upload - uploadTask error",e)},function(){var e=a.snapshot.downloadURL;"function"==typeof t.onSuccess&&t.onSuccess(e)})}function n(e,n,r){n.file=e,t(n,r)}const r={},i=e.storage().ref();return r.upload=t,r.uploadBlob=n,r}),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.MultiStreamRecorder=MultiStreamRecorder);var browserFakeUserAgent="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";!function(e){"undefined"==typeof window&&("undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},e.window=global),"undefined"==typeof document&&(e.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}))}("undefined"!=typeof global?global:window);var AudioContext=window.AudioContext;void 0===AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext)),"undefined"==typeof window&&(window={});var AudioContext=window.AudioContext;void 0===AudioContext&&("undefined"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;void 0===URL&&"undefined"!=typeof webkitURL&&(URL=webkitURL),"undefined"!=typeof navigator?(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)):navigator={getUserMedia:function(){},userAgent:browserFakeUserAgent};var IsEdge=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),IsOpera=!1;"undefined"!=typeof opera&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("OPR/")&&(IsOpera=!0);var IsChrome=!IsEdge&&!IsEdge&&!!navigator.webkitGetUserMedia,MediaStream=window.MediaStream;void 0===MediaStream&&"undefined"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),void 0!==MediaStream&&("getVideoTracks"in MediaStream.prototype||(MediaStream.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},MediaStream.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),"stop"in MediaStream.prototype||(MediaStream.prototype.stop=function(){this.getAudioTracks().forEach(function(e){e.stop&&e.stop()}),this.getVideoTracks().forEach(function(e){e.stop&&e.stop()})})),"undefined"!=typeof location&&0===location.href.indexOf("file:")&&console.error("Please load this HTML file on HTTP or HTTPS.");var ObjectStore={AudioContext:AudioContext};void 0!==MediaStreamRecorder&&(MediaStreamRecorder.MediaRecorderWrapper=MediaRecorderWrapper),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.StereoAudioRecorder=StereoAudioRecorder),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.StereoAudioRecorderHelper=StereoAudioRecorderHelper),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.WhammyRecorder=WhammyRecorder),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.WhammyRecorderHelper=WhammyRecorderHelper),void 0!==MediaStreamRecorder&&(MediaStreamRecorder.GifRecorder=GifRecorder);var Whammy=function(){function e(e,t){this.frames=[],e||(e=1),this.duration=1e3/e,this.quality=t||.8}function t(e){var t=URL.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n}function n(e){function t(e){var t=r(e);if(!t)return[];for(var i=3e4,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:h(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],a=0,u=0;a<e.length;){var c=[],l=0;do{c.push(e[a]),l+=e[a].duration,a++}while(a<e.length&&l<i);var d={id:524531317,data:n(u,0,c)};o[1].data.push(d),u+=l}return s(o)}function n(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=u({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function r(e){if(e[0]){for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}function i(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function o(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt(0)}))}function a(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function s(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].data;"object"==typeof r&&(r=s(r)),"number"==typeof r&&(r=a(r.toString(2))),"string"==typeof r&&(r=o(r));var u=r.size||r.byteLength||r.length,c=Math.ceil(Math.ceil(Math.log(u)/Math.log(2))/8),l=u.toString(2),d=new Array(7*c+7+1-l.length).join("0")+l,h=new Array(c).join("0")+"1"+d;t.push(i(e[n].id)),t.push(a(h)),t.push(r)}return new Blob(t,{type:"video/webm"})}function u(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}function c(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);var o,a,s;return s=i[1]<<8|i[0],o=16383&s,s=i[3]<<8|i[2],a=16383&s,{width:o,height:a,data:t,riff:e}}function l(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}function d(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=l(e,t),o=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(d(o)):n[r].push(o)}return n}function h(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}var p=new t(e.map(function(e){var t=c(d(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(p)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var r=t(n);r.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},r.postMessage(this.frames)},{Video:e}}();void 0!==MediaStreamRecorder&&(MediaStreamRecorder.Whammy=Whammy),window.ConcatenateBlobs=function(e,t,n){function r(){if(!e[a])return i();var t=new FileReader;t.onload=function(e){o.push(e.target.result),a++,r()},t.readAsArrayBuffer(e[a])}function i(){var e=0;o.forEach(function(t){e+=t.byteLength});var r=new Uint16Array(e),i=0;o.forEach(function(e){var t=e.byteLength;t%2!=0&&(e=e.slice(0,t-1)),r.set(new Uint16Array(e),i),i+=t});var a=new Blob([r.buffer],{type:t});n(a)}var o=[],a=0;r()},"undefined"!=typeof module&&(module.exports=MediaStreamRecorder),"function"==typeof define&&define.amd&&define("MediaStreamRecorder",[],function(){return MediaStreamRecorder}),define("mediaStreamRecorder",function(e){return function(){var t;return t||e.mediaStreamRecorder}}(this)),function(e){var t=function(){for(var e=arguments[0],n=[].slice.call(arguments,1),r=0;r<n.length;++r){var i=n[r];for(key in i){var o=i[key];e[key]="object"==typeof o?t("object"==typeof e[key]?e[key]:{},o):o}}return e},n={wav:"WebAudioRecorderWav.js",ogg:"WebAudioRecorderOgg.js",mp3:"WebAudioRecorderMp3.js"},r={workerDir:"/",numChannels:2,encoding:"wav",options:{timeLimit:300,encodeAfterRecord:!1,progressInterval:1e3,bufferSize:void 0,wav:{mimeType:"audio/wav"},ogg:{mimeType:"audio/ogg",quality:.5},mp3:{mimeType:"audio/mpeg",bitRate:160}}},i=function(e,n){t(this,r,n||{}),this.context=e.context,null==this.context.createScriptProcessor&&(this.context.createScriptProcessor=this.context.createJavaScriptNode),this.input=this.context.createGain(),e.connect(this.input),this.buffer=[],this.initWorker()};t(i.prototype,{isRecording:function(){return null!=this.processor},setEncoding:function(e){this.isRecording()?this.error("setEncoding: cannot set encoding during recording"):this.encoding!==e&&(this.encoding=e,this.initWorker())},setOptions:function(e){this.isRecording()?this.error("setOptions: cannot set options during recording"):(t(this.options,e),this.worker.postMessage({command:"options",options:this.options}))},startRecording:function(){if(this.isRecording())this.error("startRecording: previous recording is running");else{var e=this.numChannels,t=this.buffer,n=this.worker;this.processor=this.context.createScriptProcessor(this.options.bufferSize,this.numChannels,this.numChannels),this.input.connect(this.processor),this.processor.connect(this.context.destination),this.processor.onaudioprocess=function(r){for(var i=0;i<e;++i)t[i]=r.inputBuffer.getChannelData(i);n.postMessage({command:"record",buffer:t})},this.worker.postMessage({command:"start",bufferSize:this.processor.bufferSize}),this.startTime=Date.now()}},recordingTime:function(){return this.isRecording()?.001*(Date.now()-this.startTime):null},cancelRecording:function(){this.isRecording()?(this.input.disconnect(),this.processor.disconnect(),delete this.processor,this.worker.postMessage({command:"cancel"})):this.error("cancelRecording: no recording is running")},finishRecording:function(){this.isRecording()?(this.input.disconnect(),this.processor.disconnect(),delete this.processor,this.worker.postMessage({command:"finish"})):this.error("finishRecording: no recording is running")},cancelEncoding:function(){this.options.encodeAfterRecord?this.isRecording()?this.error("cancelEncoding: recording is not finished"):(this.onEncodingCanceled(this),this.initWorker()):this.error("cancelEncoding: invalid method call")},initWorker:function(){null!=this.worker&&this.worker.terminate(),this.onEncoderLoading(this,this.encoding),this.worker=new Worker(this.workerDir+n[this.encoding]);var e=this;this.worker.onmessage=function(t){var n=t.data;switch(n.command){case"loaded":e.onEncoderLoaded(e,e.encoding);break;case"timeout":e.onTimeout(e);break;case"progress":e.onEncodingProgress(e,n.progress);break;case"complete":e.onComplete(e,n.blob);break;case"error":e.error(n.message)}},this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.numChannels},options:this.options})},error:function(e){this.onError(this,"WebAudioRecorder.js:"+e)},onEncoderLoading:function(e,t){},onEncoderLoaded:function(e,t){},onTimeout:function(e){e.finishRecording()},onEncodingProgress:function(e,t){},onEncodingCanceled:function(e){},onComplete:function(e,t){e.onError(e,"WebAudioRecorder.js: You must override .onComplete event")},onError:function(e,t){console.log(t)}}),e.WebAudioRecorder=i}(window),define("WebAudioRecorder",function(e){return function(){var t;return t||e.WebAudioRecorder}}(this)),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Recorder",[],t):"object"==typeof exports?exports.Recorder=t():e.Recorder=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";(function(t){var n=!1,r=function(e){var i=this,o=t.AudioContext||t.webkitAudioContext;if(!r.isRecordingSupported())throw new Error("Recording is not supported in this browser");this.state="inactive",this.eventTarget=t.document.createDocumentFragment(),this.audioContext=new o,this.monitorNode=this.audioContext.createGain(),this.config=Object.assign({bufferLength:4096,command:"init",encoderApplication:2049,encoderFrameSize:20,encoderPath:"encoderWorker.min.js",encoderSampleRate:48e3,leaveStreamOpen:!1,maxBuffersPerPage:40,monitorGain:0,numberOfChannels:1,originalSampleRate:this.audioContext.sampleRate,resampleQuality:3,mediaTrackConstraints:!0,streamPages:!1,wavBitDepth:16,wavSampleRate:this.audioContext.sampleRate},e),this.setMonitorGain(this.config.monitorGain),this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(e){i.encodeBuffers(e.inputBuffer)};this.eventTarget.addEventListener("start",()=>{"function"==typeof this.functionOnEventStart&&this.functionOnEventStart()}),this.eventTarget.addEventListener("resume",()=>{"function"==typeof this.functionOnEventResume&&this.functionOnEventResume()}),this.eventTarget.addEventListener("stop",()=>{"function"==typeof this.functionOnEventStop&&this.functionOnEventStop()}),this.eventTarget.addEventListener("dataAvailable",e=>{"function"==typeof this.functionOnEventDataAvailable&&this.functionOnEventDataAvailable(e),n||"function"!=typeof this.functionOnEventSave||this.functionOnEventSave(e)})};r.isRecordingSupported=function(){var e=t.AudioContext||t.webkitAudioContext,n=t.navigator&&(t.navigator.getUserMedia||t.navigator.mediaDevices&&t.navigator.mediaDevices.getUserMedia);return e&&n},r.prototype.addEventListener=function(e,t,n){this.eventTarget.addEventListener(e,t,n)},r.prototype.init=function(e){this.eventTarget.addEventListener("start",()=>{"function"==typeof this.functionOnEventStart&&this.functionOnEventStart()})},r.prototype.onStart=function(e){this.functionOnEventStart=e},r.prototype.onStop=function(e){this.functionOnEventStop=e},r.prototype.onResume=function(e){this.functionOnEventResume=e},r.prototype.onPause=function(e){this.functionOnEventPause=e},r.prototype.onStreamError=function(e){this.eventTarget.addEventListener("streamError",e)},r.prototype.onStreamReady=function(e){this.eventTarget.addEventListener("streamReady",e)},r.prototype.onDataAvailable=function(e){this.functionOnEventDataAvailable=e},r.prototype.onSave=function(e){this.functionOnEventSave=e},r.prototype.delete=function(){n=!0,this.stop()},r.prototype.save=function(){n=!1,this.stop()},r.prototype.clearStream=function(){this.stream&&(this.stream.getTracks?this.stream.getTracks().forEach(function(e){e.stop()}):this.stream.stop(),delete this.stream)},r.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:t})}},r.prototype.initStream=function(e){"object"!=typeof e&&(e={});var r=this,i=function(i){return n=!1,r.stream=i,r.sourceNode=r.audioContext.createMediaStreamSource(i),r.sourceNode.connect(r.scriptProcessorNode),r.sourceNode.connect(r.monitorNode),r.eventTarget.dispatchEvent(new t.Event("streamReady")),"function"==typeof e.onSuccess&&e.onSuccess(),r.stream},o=function(n){throw"function"==typeof e.onError&&e.onError(),r.eventTarget.dispatchEvent(new t.ErrorEvent("streamError",{error:n})),n},a={audio:this.config.mediaTrackConstraints};return this.stream?(this.eventTarget.dispatchEvent(new t.Event("streamReady")),t.Promise.resolve(this.stream)):t.navigator.mediaDevices&&t.navigator.mediaDevices.getUserMedia?t.navigator.mediaDevices.getUserMedia(a).then(i,o):t.navigator.getUserMedia?new t.Promise(function(e,n){t.navigator.getUserMedia(a,e,n)}).then(i,o):void 0},r.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new t.Event("pause")))},r.prototype.removeEventListener=function(e,t,n){this.eventTarget.removeEventListener(e,t,n)},r.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new t.Event("resume")))},r.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},r.prototype.start=function(){if("inactive"===this.state&&this.stream){var e=this;this.encoder=new t.Worker(this.config.encoderPath),this.config.streamPages?this.encoder.addEventListener("message",function(t){e.streamPage(t.data)}):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",function(t){e.storePage(t.data)})),this.encodeBuffers=function(){delete this.encodeBuffers},this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new t.Event("start")),this.encoder.postMessage(this.config)}},r.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"done"}))},r.prototype.storePage=function(e){if(null===e){for(var n=new Uint8Array(this.totalLength),r=0,i=0;i<this.recordedPages.length;i++)n.set(this.recordedPages[i],r),r+=this.recordedPages[i].length;this.eventTarget.dispatchEvent(new t.CustomEvent("dataAvailable",{detail:n})),this.recordedPages=[],this.eventTarget.dispatchEvent(new t.Event("stop"))}else this.recordedPages.push(e),this.totalLength+=e.length},r.prototype.streamPage=function(e){null===e?this.eventTarget.dispatchEvent(new t.Event("stop")):this.eventTarget.dispatchEvent(new t.CustomEvent("dataAvailable",{detail:e}))},e.exports=r}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])}),define("m_record",["jquery","mediaStreamRecorder","WebAudioRecorder","Recorder"],function(e,t,n,r){function i(e){h(t=>{var n={},r=new MediaStreamRecorder(t);r.mimeType="video/webm",console.log("getPermissionForLiveVideoRecord stream",t),console.log("video",r),r.ondataavailable=function(e){console.log("video.ondataavailable blob ",e),"function"==typeof n.getGlob&&n.getGlob(e,r)},"function"==typeof e.onSuccess&&e.onSuccess(t,r,n)},t=>{"function"==typeof e.onError&&e.onError(t)})}function o(e){var t=e.getTracks();for(var n in t)console.log("stopRecordingByStream tracks[iKey]",t[n]),t[n].stop()}function a(e){l(t=>{var n={},r=new MediaStreamRecorder(t);r.mimeType="audio/ogg",console.log("mediaRecorder",r),r.ondataavailable=function(e){console.log("mediaRecorder.ondataavailable blob ",e),"function"==typeof n.getGlob&&n.getGlob(e,r)},"function"==typeof e.onSuccess&&e.onSuccess(t,r,n)},t=>{"function"==typeof e.onError&&e.onError(t)})}function s(e){l(t=>{var r={},i={encoding:"ogg",workerDir:"res/js/recorder/webAudioRecorder/lib/",numChannels:2},o=(new AudioContext).createMediaStreamSource(t),a=new n(o,i);a.setOptions({timeLimit:600,ogg:{quality:-.1,mimeType:"audio/ogg; codecs=opus"}}),a.onEncoderLoaded=function(e,t){console.log("webRecorder.onEncoderLoaded - recorder, encoding",e,t)},a.onEncodingCanceled=function(e,t){console.log("webRecorder.onEncodingCanceled - recorder, encoding",e,t)},a.onEncodingProgress=function(e,t){console.log("webRecorder.onEncodingProgress - recorder, progress",e,t)},a.onEncoderLoading=function(e,t){console.log("webRecorder.onEncoderLoading - recorder, encoding",e,t)},a.onError=function(e,t){},a.onComplete=((e,t)=>{"function"==typeof r.getGlob&&r.getGlob(!1,t)}),setTimeout(()=>{"function"==typeof e.onSuccess&&e.onSuccess(t,recorder)},500),"function"==typeof e.onSuccess&&e.onSuccess(t,a,r)},t=>{"function"==typeof e.onError&&e.onError(t)})}function u(e){l(t=>{var n=new r({encoderSampleRate:16e3,resampleQuality:0,encoderPath:"res/js/recorder/OggOpusRecorder/dist/encoderWorker.min.js"});n.onStart(()=>{}),n.onStop(()=>{}),n.onPause(()=>{}),n.onSave(t=>{var n=new Blob([t.detail],{type:"audio/ogg"});"function"==typeof e.onDataAvailable&&e.onDataAvailable(!1,n)}),n.initStream({onSuccess:()=>{"function"==typeof e.onSuccess&&e.onSuccess(t,n)}})},t=>{"function"==typeof e.onError&&e.onError(t)})}function c(e,t,n){navigator.getUserMedia(e,t,n)}function l(e,t){var n={audio:!0};navigator.getUserMedia(n,e,t)}function d(e,t){var n={video:!0};navigator.getUserMedia(n,e,t)}function h(e,t){var n=200,r=200,i={video:{mandatory:{maxHeight:r+120,maxWidth:n+120,minWidth:n,minHeight:r},optional:[]},audio:!0};navigator.getUserMedia(i,e,t)}console.log("Recorder init ",r);const p={library:t};return p.video=i,p.stopRecordingByStream=o,p.audioOld=a,p.audio2=s,p.liveAudioRecord=u,p.getUserMedia=c,p.getPermissionForAudioRecord=l,p.getPermissionForVideoRecord=d,p.getPermissionForLiveVideoRecord=h,p}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e,t){for(var n in t)e.setAttribute(n,t[n])}function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,n){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t&&!t.async),s.src=e,t.attrs&&r(s,t.attrs),t.text&&(s.text=""+t.text);("onload"in s?i:o)(s,n),s.onload||i(s,n),a.appendChild(s)}},{}],2:[function(e,t,n){"use strict";function r(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),r=!1,i=0,o=n.length;i<o;i++)if(n[i].src&&t.test(n[i].src)){r=!0;break}return r}t.exports=r},{}],3:[function(e,t,n){"use strict";function r(t){var n=e(1),r="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",o="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(o):window.console.log&&window.console.log(o));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true<\/script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+r+'"><\/script>'),i("document.write")()):n(r,i("DOMElement"))}catch(e){n(r,i("DOMElement"))}}function i(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=r},{1:1}],4:[function(e,t,n){"use strict";function r(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(t){var n=e(2),r=e(3),i=e(4);n(t)?r(t):i()}r("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("algolia",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearch=e()}}(function(){var e;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}(n=t.exports=e(2)).log=a,n.formatArgs=o,n.save=s,n.load=u,n.useColors=i,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(u())}).call(this,e(12))},{12:12,2:2}],2:[function(e,t,n){function r(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(c||r);e.diff=i,e.prev=c,e.curr=r,c=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var a=o[s];t=i.call(e,a),o.splice(s,1),s--}return t}),n.formatArgs.call(e,o);(t.log||n.log||console.log.bind(console)).apply(e,o)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),"function"==typeof n.init&&n.init(t),t}function o(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}(n=t.exports=i.debug=i.default=i).coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var c},{9:9}],3:[function(t,n,r){(function(i,o){!function(t,i){"object"==typeof r&&void 0!==n?n.exports=i():"function"==typeof e&&e.amd?e(i):t.ES6Promise=i()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){Q=e}function a(e){J=e}function s(){return function(){return i.nextTick(h)}}function u(){return void 0!==z?function(){z(h)}:d()}function c(){var e=0,t=new Z(h),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=h,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(h,1)}}function h(){for(var e=0;e<K;e+=2){(0,ne[e])(ne[e+1]),ne[e]=void 0,ne[e+1]=void 0}K=0}function p(){try{var e=t("vertx");return z=e.runOnLoop||e.runOnContext,u()}catch(e){return d()}}function f(e,t){var n=arguments,r=this,i=new this.constructor(g);void 0===i[ie]&&P(i);var o=r._state;return o?function(){var e=n[o-1];J(function(){return x(o,i,e,r._result)})}():E(r,i,e,t),i}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return S(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(e){return ue.error=e,ue}}function b(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function w(e,t,n){J(function(e){var r=!1,i=b(n,t,function(n){r||(r=!0,t!==n?S(e,n):k(e,n))},function(t){r||(r=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,C(e,i))},e)}function M(e,t){t._state===ae?k(e,t._result):t._state===se?C(e,t._result):E(t,void 0,function(t){return S(e,t)},function(t){return C(e,t)})}function T(e,t,r){t.constructor===e.constructor&&r===f&&t.constructor.resolve===m?M(e,t):r===ue?(C(e,ue.error),ue.error=null):void 0===r?k(e,t):n(r)?w(e,t,r):k(e,t)}function S(t,n){t===n?C(t,y()):e(n)?T(t,n,_(n)):k(t,n)}function L(e){e._onerror&&e._onerror(e._result),D(e)}function k(e,t){e._state===oe&&(e._result=t,e._state=ae,0!==e._subscribers.length&&J(D,e))}function C(e,t){e._state===oe&&(e._state=se,e._result=t,J(L,e))}function E(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ae]=n,i[o+se]=r,0===o&&e._state&&J(D,e)}function D(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?x(n,r,i,o):i(o);e._subscribers.length=0}}function I(){this.error=null}function A(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function x(e,t,r,i){var o=n(r),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if((a=A(r,i))===ce?(c=!0,s=a.error,a.error=null):u=!0,t===a)return void C(t,v())}else a=i,u=!0;t._state!==oe||(o&&u?S(t,a):c?C(t,s):e===ae?k(t,a):e===se&&C(t,a))}function O(e,t){try{t(function(t){S(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function N(){return le++}function P(e){e[ie]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function R(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[ie]||P(this.promise),G(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):C(this.promise,Y())}function Y(){return new Error("Array Methods must be provided an Array")}function F(e){return new R(this,e).promise}function j(e){var t=this;return new t(G(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function B(e){var t=new this(g);return C(t,e),t}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(e){this[ie]=N(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&H(),this instanceof V?O(this,e):U())}function W(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=V}var q=void 0,G=q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},K=0,z=void 0,Q=void 0,J=function(e,t){ne[K]=e,ne[K+1]=t,2===(K+=2)&&(Q?Q(h):re())},$="undefined"!=typeof window?window:void 0,X=$||{},Z=X.MutationObserver||X.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),re=void 0;re=ee?s():Z?c():te?l():void 0===$&&"function"==typeof t?p():d();var ie=Math.random().toString(36).substring(16),oe=void 0,ae=1,se=2,ue=new I,ce=new I,le=0;return R.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===oe&&n<e;n++)this._eachEntry(t[n],n)},R.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===m){var i=_(e);if(i===f&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===V){var o=new n(g);T(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},R.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===oe&&(this._remaining--,e===se?C(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},R.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(ae,t,e)},function(e){return n._settledAt(se,t,e)})},V.all=F,V.race=j,V.resolve=m,V.reject=B,V._setScheduler=r,V._setAsap=a,V._asap=J,V.prototype={constructor:V,then:f,catch:function(e){return this.then(null,e)}},V.polyfill=W,V.Promise=V,V})}).call(this,t(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==i.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(n,e[a],a,e);else for(var s in e)r.call(e,s)&&t.call(n,e[s],s,e)}},{}],6:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],9:[function(e,t,n){function r(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,d=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&!1===isNaN(e))return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Array.prototype.slice,a=e(11),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}},m=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),o=a(e),s=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!r.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(o&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)h&&"prototype"===g||!r.call(e,g)||d.push(String(g));if(u)for(var y=f(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!r.call(e,l[v])||d.push(l[v]);return d};m.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(a(t)?o.call(t):t)}}}else Object.keys=m;return Object.keys||m},t.exports=m},{11:11}],11:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],12:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){g&&f&&(g=!1,f.length?m=f.concat(m):y=-1,m.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(f=m,m=[];++y<t;)f&&f[y].run();y=-1,t=m.length}f=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var d,h,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var f,m=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],14:[function(e,t,n){function r(){u.apply(this,arguments)}function i(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new l.AlgoliaSearchError(e)}t.exports=r;var o=e(16),a=e(26),s=e(27),u=e(15),c=e(7),l=e(28);c(r,u),r.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},r.prototype.moveIndex=function(e,t,n){var r={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:r,hostType:"write",callback:n})},r.prototype.copyIndex=function(e,t,n,r){var i={operation:"copy",destination:t},o=r;if("function"==typeof n)o=n;else{if(!(Array.isArray(n)&&n.length>0))throw new Error("the scope given to `copyIndex` was not an array with settings, synonyms or rules");i.scope=n}return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:i,hostType:"write",callback:o})},r.prototype.getLogs=function(t,n,r){var i=e(25),o={};return"object"==typeof t?(o=i(t),r=n):0===arguments.length||"function"==typeof t?r=t:1===arguments.length||"function"==typeof n?(r=n,o.offset=t):(o.offset=t,o.length=n),void 0===o.offset&&(o.offset=0),void 0===o.length&&(o.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(o,""),hostType:"read",callback:r})},r.prototype.listIndexes=function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},r.prototype.initIndex=function(e){return new o(this,e)},r.prototype.listUserKeys=a(function(e){return this.listApiKeys(e)},s("client.listUserKeys()","client.listApiKeys()")),r.prototype.listApiKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},r.prototype.getUserKeyACL=a(function(e,t){return this.getApiKey(e,t)},s("client.getUserKeyACL()","client.getApiKey()")),r.prototype.getApiKey=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},r.prototype.deleteUserKey=a(function(e,t){return this.deleteApiKey(e,t)},s("client.deleteUserKey()","client.deleteApiKey()")),r.prototype.deleteApiKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},r.prototype.addUserKey=a(function(e,t,n){return this.addApiKey(e,t,n)},s("client.addUserKey()","client.addApiKey()")),r.prototype.addApiKey=function(t,n,r){var i="Usage: client.addApiKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(i);1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.indexes=n.indexes,o.description=n.description,n.queryParameters&&(o.queryParameters=this._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:r})},r.prototype.addUserKeyWithValidity=a(function(e,t,n){return this.addApiKey(e,t,n)},s("client.addUserKeyWithValidity()","client.addApiKey()")),r.prototype.updateUserKey=a(function(e,t,n,r){return this.updateApiKey(e,t,n,r)},s("client.updateUserKey()","client.updateApiKey()")),r.prototype.updateApiKey=function(t,n,r,i){var o="Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(o);2!==arguments.length&&"function"!=typeof r||(i=r,r=null);var a={acl:n};return r&&(a.validity=r.validity,a.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,a.maxHitsPerQuery=r.maxHitsPerQuery,a.indexes=r.indexes,a.description=r.description,r.queryParameters&&(a.queryParameters=this._getSearchParams(r.queryParameters,"")),a.referers=r.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:i})},r.prototype.startQueriesBatch=a(function(){this._batch=[]},s("client.startQueriesBatch()","client.search()")),r.prototype.addQueryInBatch=a(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},s("client.addQueryInBatch()","client.search()")),r.prototype.sendQueriesBatch=a(function(e){return this.search(this._batch,e)},s("client.sendQueriesBatch()","client.search()")),r.prototype.batch=function(t,n){var r="Usage: client.batch(operations[, callback])";if(!e(8)(t))throw new Error(r);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},r.prototype.destroy=i,r.prototype.enableRateLimitForward=i,r.prototype.disableRateLimitForward=i,r.prototype.useSecuredAPIKey=i,r.prototype.disableSecuredAPIKey=i,r.prototype.generateSecuredApiKey=i},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(e,t,n){(function(n){function r(t,n,r){var o=e(1)("algoliasearch"),a=e(25),s=e(8),c=e(30),l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==r._allowEmptyCredentials&&!t)throw new u.AlgoliaSearchError("Please provide an application ID. "+l);if(!0!==r._allowEmptyCredentials&&!n)throw new u.AlgoliaSearchError("Please provide an API key. "+l);this.applicationID=t,this.apiKey=n,this.hosts={read:[],write:[]};var d=(r=r||{}).protocol||"https:";if(this._timeouts=r.timeouts||{connect:1e3,read:2e3,write:3e4},r.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=r.timeout),/:$/.test(d)||(d+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new u.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");if(this._checkAppIdData(),r.hosts)s(r.hosts)?(this.hosts.read=a(r.hosts),this.hosts.write=a(r.hosts)):(this.hosts.read=a(r.hosts.read),this.hosts.write=a(r.hosts.write));else{var h=c(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(h),this.hosts.write=[this.applicationID+".algolia.net"].concat(h)}this.hosts.read=c(this.hosts.read,i(d)),this.hosts.write=c(this.hosts.write,i(d)),this.extraHeaders={},this.cache=r._cache||{},this._ua=r._ua,this._useCache=!(void 0!==r._useCache&&!r._cache)||r._useCache,this._useFallback=void 0===r.useFallback||r.useFallback,this._setTimeout=r._setTimeout,o("init done, %j",this)}function i(e){return function(t){return e+"//"+t.toLowerCase()}}function o(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function a(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e}function s(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;r="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=r}return t}t.exports=r;var u=e(28),c=e(29),l=e(18),d=e(34),h=500,p=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;r.prototype.initIndex=function(e){return new l(this,e)},r.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},r.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},r.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},r.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},r.prototype._jsonRequest=function(t){function n(e,c){function h(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=2===Math.floor(t/100),o=new Date;if(y.push({currentHost:T,headers:s(i),content:r||null,contentLength:void 0!==r?r.length:null,method:c.method,timeouts:c.timeouts,url:c.url,startTime:M,endTime:o,duration:o-M,statusCode:t}),n)return p._useCache&&d&&(d[w]=e.responseText),e.body;if(4!==Math.floor(t/100))return f+=1,_();a("unrecoverable error");var l=new u.AlgoliaSearchError(e.body&&e.body.message,{debugData:y,statusCode:t});return p._promise.reject(l)}function v(e){a("error: %s, stack: %s",e.message,e.stack);var n=new Date;return y.push({currentHost:T,headers:s(i),content:r||null,contentLength:void 0!==r?r.length:null,method:c.method,timeouts:c.timeouts,url:c.url,startTime:M,endTime:n,duration:n-M}),e instanceof u.AlgoliaSearchError||(e=new u.Unknown(e&&e.message,e)),f+=1,e instanceof u.Unknown||e instanceof u.UnparsableJSON||f>=p.hosts[t.hostType].length&&(m||!g)?(e.debugData=y,p._promise.reject(e)):e instanceof u.RequestTimeout?b():_()}function _(){return a("retrying request"),p._incrementHostIndex(t.hostType),n(e,c)}function b(){return a("retrying request with higher timeout"),p._incrementHostIndex(t.hostType),p._incrementTimeoutMultipler(),c.timeouts=p._getTimeoutsForRequest(t.hostType),n(e,c)}p._checkAppIdData();var w,M=new Date;if(p._useCache&&(w=t.url),p._useCache&&r&&(w+="_body_"+c.body),p._useCache&&d&&void 0!==d[w])return a("serving response from cache"),p._promise.resolve(JSON.parse(d[w]));if(f>=p.hosts[t.hostType].length)return!g||m?(a("could not get any response"),p._promise.reject(new u.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+p.applicationID,{debugData:y}))):(a("switching to fallback"),f=0,c.method=t.fallback.method,c.url=t.fallback.url,c.jsonBody=t.fallback.body,c.jsonBody&&(c.body=o(c.jsonBody)),i=p._computeRequestHeaders(l),c.timeouts=p._getTimeoutsForRequest(t.hostType),p._setHostIndexByType(0,t.hostType),m=!0,n(p._request.fallback,c));var T=p._getHostByType(t.hostType),S=T+c.url,L={body:c.body,jsonBody:c.jsonBody,method:c.method,headers:i,timeouts:c.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",L.method,S,L.headers,L.timeouts),e===p._request.fallback&&a("using fallback"),e.call(p,S,L).then(h,v)}this._checkAppIdData();var r,i,a=e(1)("algoliasearch:"+t.url),l=t.additionalUA||"",d=t.cache,p=this,f=0,m=!1,g=p._useFallback&&p._request.fallback&&t.fallback;this.apiKey.length>h&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,i=this._computeRequestHeaders(l,!1)):i=this._computeRequestHeaders(l),void 0!==t.body&&(r=o(t.body)),a("request start");var y=[],v=n(p._request,{url:t.url,method:t.method,body:r,jsonBody:t.body,timeouts:p._getTimeoutsForRequest(t.hostType)});return"function"!=typeof t.callback?v:void v.then(function(e){c(function(){t.callback(null,e)},p._setTimeout||setTimeout)},function(e){c(function(){t.callback(e)},p._setTimeout||setTimeout)})},r.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?o(e[n]):e[n]));return t},r.prototype._computeRequestHeaders=function(t,n){var r=e(5),i={"x-algolia-agent":t?this._ua+";"+t:this._ua,"x-algolia-application-id":this.applicationID};return!1!==n&&(i["x-algolia-api-key"]=this.apiKey),this.userToken&&(i["x-algolia-usertoken"]=this.userToken),this.securityTags&&(i["x-algolia-tagfilters"]=this.securityTags),r(this.extraHeaders,function(e,t){i[t]=e}),i},r.prototype.search=function(t,n,r){var i=e(8),o=e(30),a="Usage: client.search(arrayOfQueries[, callback])";if(!i(t))throw new Error(a);"function"==typeof n?(r=n,n={}):void 0===n&&(n={});var s=this,u={requests:o(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})},c=o(u.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),l="/1/indexes/*/queries";return void 0!==n.strategy&&(l+="?strategy="+n.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:l,body:u,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:c}},callback:r})},r.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],i=0;i<e[n].length;++i)r.push(e[n][i]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},r.prototype.setUserToken=function(e){this.userToken=e},r.prototype.clearCache=function(){this.cache={}},r.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},r.prototype.setTimeouts=function(e){this._timeouts=e},r.prototype.getTimeouts=function(){return this._timeouts},r.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},r.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},r.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>p?this._resetInitialAppIdData(e):e},r.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||a([1,2,3]),this._setAppIdData(t)},r.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},r.prototype._partialAppIdDataUpdate=function(t){var n=e(5),r=this._getAppIdData();return n(t,function(e,t){r[t]=e}),this._setAppIdData(r)},r.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},r.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},r.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},r.prototype._setHostIndexByType=function(t,n){var r=e(25)(this._hostIndexes);return r[n]=t,this._partialAppIdDataUpdate({hostIndexes:r}),t},r.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},r.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},r.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(e,t,n){function r(){a.apply(this,arguments)}function i(e,t,n){function r(n,i){var o={page:n||0,hitsPerPage:t||100},a=i||[];return e(o).then(function(e){var t=e.hits,n=e.nbHits,i=t.map(function(e){return delete e._highlightResult,e}),s=a.concat(i);return s.length<n?r(o.page+1,s):s})}return r().then(function(e){return"function"==typeof n&&n(e),e})}var o=e(7),a=e(18),s=e(26),u=e(27),c=e(29),l=e(28),d=s(function(){},u("forwardToSlaves","forwardToReplicas"));t.exports=r,o(r,a),r.prototype.addObject=function(e,t,n){var r=this;return 1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},r.prototype.addObjects=function(t,n){var r="Usage: index.addObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(r);for(var i=this,o={requests:[]},a=0;a<t.length;++a){var s={action:"addObject",body:t[a]};o.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:o,hostType:"write",callback:n})},r.prototype.partialUpdateObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r=this,i="/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(i+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:i,body:e,hostType:"write",callback:n})},r.prototype.partialUpdateObjects=function(t,n,r){1!==arguments.length&&"function"!=typeof n||(r=n,n=!0);var i="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(i);for(var o=this,a={requests:[]},s=0;s<t.length;++s){var u={action:!0===n?"partialUpdateObject":"partialUpdateObjectNoCreate",objectID:t[s].objectID,body:t[s]};a.requests.push(u)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:a,hostType:"write",callback:r})},r.prototype.saveObject=function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},r.prototype.saveObjects=function(t,n){var r="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(r);for(var i=this,o={requests:[]},a=0;a<t.length;++a){var s={action:"updateObject",objectID:t[a].objectID,body:t[a]};o.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:o,hostType:"write",callback:n})},r.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new l.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(n):this.as._promise.reject(n)}var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},r.prototype.deleteObjects=function(t,n){var r=e(8),i=e(30),o="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(o);var a=this,s={requests:i(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},r.prototype.deleteByQuery=s(function(t,n,r){function i(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return h.deleteObjects(t).then(o).then(a)}function o(e){return h.waitTask(e.taskID)}function a(){return h.deleteByQuery(t,n)}function s(){c(function(){r(null)},p._setTimeout||setTimeout)}function u(e){c(function(){r(e)},p._setTimeout||setTimeout)}var l=e(25),d=e(30),h=this,p=h.as;1===arguments.length||"function"==typeof n?(r=n,n={}):n=l(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var f=this.search(t,n).then(i);return r?void f.then(s,u):f},u("index.deleteByQuery()","index.deleteBy()")),r.prototype.deleteBy=function(e,t){var n=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/deleteByQuery",body:{params:n.as._getSearchParams(e,"")},hostType:"write",callback:t})},r.prototype.browseAll=function(t,n){function r(e){if(!a._stopped){var t;t=void 0!==e?{cursor:e}:{params:c},s._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/browse",hostType:"read",body:t,callback:i})}}function i(e,t){if(!a._stopped)return e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void r(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var o=e(31),a=new(e(17)),s=this.as,u=this,c=s._getSearchParams(o({},n||{},{query:t}),"");return r(),a},r.prototype.ttAdapter=s(function(e){var t=this;return function(n,r,i){var o;o="function"==typeof i?i:r,t.search(n,e,function(e,t){return e?void o(e):void o(t.hits)})}},"ttAdapter is not necessary anymore and will be removed in the next version,\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)"),r.prototype.waitTask=function(e,t){function n(){return l._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/task/"+e}).then(function(e){var t=o*++s*s;return t>a&&(t=a),"published"!==e.status?l._promise.delay(t).then(n):e})}function r(e){c(function(){t(null,e)},l._setTimeout||setTimeout)}function i(e){c(function(){t(e)},l._setTimeout||setTimeout)}var o=100,a=5e3,s=0,u=this,l=u.as,d=n();return t?void d.then(r,i):d},r.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},r.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},r.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},r.prototype.exportSynonyms=function(e,t){return i(this.searchSynonyms,e,t)},r.prototype.saveSynonym=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var r=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+r,body:e,hostType:"write",callback:n})},r.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},r.prototype.deleteSynonym=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var r=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToReplicas="+r,hostType:"write",callback:n})},r.prototype.clearSynonyms=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&d();var n=e.forwardToSlaves||e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToReplicas="+n,hostType:"write",callback:t})},r.prototype.batchSynonyms=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&d();var r=t.forwardToSlaves||t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToReplicas="+r+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:n})},r.prototype.searchRules=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/search",body:e,hostType:"read",callback:t})},r.prototype.exportRules=function(e,t){return i(this.searchRules,e,t)},r.prototype.saveRule=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={});var r=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e.objectID)+"?forwardToReplicas="+r,body:e,hostType:"write",callback:n})},r.prototype.getRule=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e),hostType:"read",callback:t})},r.prototype.deleteRule=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={});var r=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/"+encodeURIComponent(e)+"?forwardToReplicas="+r,hostType:"write",callback:n})},r.prototype.clearRules=function(e,t){"function"==typeof e?(t=e,e={}):void 0===e&&(e={});var n=!0===e.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/clear?forwardToReplicas="+n,hostType:"write",callback:t})},r.prototype.batchRules=function(e,t,n){"function"==typeof t?(n=t,t={}):void 0===t&&(t={});var r=!0===t.forwardToReplicas?"true":"false";return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/rules/batch?forwardToReplicas="+r+"&clearExistingRules="+(!0===t.clearExistingRules?"true":"false"),hostType:"write",body:e,callback:n})},r.prototype.setSettings=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t={}),void 0!==t.forwardToSlaves&&d();var r=t.forwardToSlaves||t.forwardToReplicas?"true":"false",i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/settings?forwardToReplicas="+r,hostType:"write",body:e,callback:n})},r.prototype.listUserKeys=s(function(e){return this.listApiKeys(e)},u("index.listUserKeys()","index.listApiKeys()")),r.prototype.listApiKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},r.prototype.getUserKeyACL=s(function(e,t){return this.getApiKey(e,t)},u("index.getUserKeyACL()","index.getApiKey()")),r.prototype.getApiKey=function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},r.prototype.deleteUserKey=s(function(e,t){return this.deleteApiKey(e,t)},u("index.deleteUserKey()","index.deleteApiKey()")),r.prototype.deleteApiKey=function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},r.prototype.addUserKey=s(function(e,t,n){return this.addApiKey(e,t,n)},u("index.addUserKey()","index.addApiKey()")),r.prototype.addApiKey=function(t,n,r){var i="Usage: index.addApiKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(i);1!==arguments.length&&"function"!=typeof n||(r=n,n=null);var o={acl:t};return n&&(o.validity=n.validity,o.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,o.maxHitsPerQuery=n.maxHitsPerQuery,o.description=n.description,n.queryParameters&&(o.queryParameters=this.as._getSearchParams(n.queryParameters,"")),o.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:r})},r.prototype.addUserKeyWithValidity=s(function(e,t,n){return this.addApiKey(e,t,n)},u("index.addUserKeyWithValidity()","index.addApiKey()")),r.prototype.updateUserKey=s(function(e,t,n,r){return this.updateApiKey(e,t,n,r)},u("index.updateUserKey()","index.updateApiKey()")),r.prototype.updateApiKey=function(t,n,r,i){var o="Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(o);2!==arguments.length&&"function"!=typeof r||(i=r,r=null);var a={acl:n};return r&&(a.validity=r.validity,a.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,a.maxHitsPerQuery=r.maxHitsPerQuery,a.description=r.description,r.queryParameters&&(a.queryParameters=this.as._getSearchParams(r.queryParameters,"")),a.referers=r.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:i})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t,n){"use strict";function r(){}t.exports=r;e(7)(r,e(4).EventEmitter),r.prototype.stop=function(){this._stopped=!0,this._clean()},r.prototype._end=function(){this.emit("end"),this._clean()},r.prototype._error=function(e){this.emit("error",e),this._clean()},r.prototype._result=function(e){this.emit("result",e)},r.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(e,t,n){function r(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var i=e(24),o=e(26),a=e(27);t.exports=r,r.prototype.clearCache=function(){this.cache={}},r.prototype.search=i("query"),r.prototype.similarSearch=i("similarQuery"),r.prototype.browse=function(t,n,r){var i,o,a=e(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(i=0,r=arguments[0],t=void 0):"number"==typeof arguments[0]?(i=arguments[0],"number"==typeof arguments[1]?o=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],o=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],n=void 0),n=a({},n||{},{page:i,hitsPerPage:o,query:t});var u=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse",body:{params:u},hostType:"read",callback:r})},r.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},r.prototype.searchForFacetValues=function(t,n){var r=e(25),i=e(32),o="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===t.facetName||void 0===t.facetQuery)throw new Error(o);var a=t.facetName,s=i(r(t),function(e){return"facetName"===e}),u=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(a)+"/query",hostType:"read",body:{params:u},callback:n})},r.prototype.searchFacet=o(function(e,t){return this.searchForFacetValues(e,t)},a("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),r.prototype._search=function(e,t,n,r){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n,additionalUA:r})},r.prototype.getObject=function(e,t,n){var r=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var i="";if(void 0!==t){i="?attributes=";for(var o=0;o<t.length;++o)0!==o&&(i+=","),i+=t[o]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e)+i,hostType:"read",callback:n})},r.prototype.getObjects=function(t,n,r){var i=e(8),o=e(30),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!i(t))throw new Error(a);var s=this;1!==arguments.length&&"function"!=typeof n||(r=n,n=void 0);var u={requests:o(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:u,callback:r})},r.prototype.as=null,r.prototype.indexName=null,r.prototype.typeAheadArgs=null,r.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t,n){"use strict";var r=e(14),i=e(20);t.exports=i(r)},{14:14,20:20}],20:[function(e,t,n){(function(n){"use strict";var r=e(6),i=r.Promise||e(3).Promise;t.exports=function(t,o){function a(t,n,r){var i=e(25),o=e(21);return void 0===(r=i(r||{})).protocol&&(r.protocol=o()),r._ua=r._ua||a.ua,new s(t,n,r)}function s(){t.apply(this,arguments)}var u=e(7),c=e(28),l=e(22),d=e(23),h=e(33);o=o||"","debug"===n.env.NODE_ENV&&e(1).enable("algoliasearch*"),a.version=e(35),a.ua="Algolia for vanilla JavaScript "+o+a.version,a.initPlaces=h(a),r.__algolia={debug:e(1),algoliasearch:a};var p={hasXMLHttpRequest:"XMLHttpRequest"in r,hasXDomainRequest:"XDomainRequest"in r};return p.hasXMLHttpRequest&&(p.cors="withCredentials"in new XMLHttpRequest),u(s,t),s.prototype._request=function(e,t){return new i(function(n,r){function i(){if(!f){clearTimeout(h);var e;try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new c.UnparsableJSON({more:g.responseText})}e instanceof c.UnparsableJSON?r(e):n(e)}}function o(e){f||(clearTimeout(h),r(new c.Network({more:e})))}function a(){f=!0,g.abort(),r(new c.RequestTimeout)}function s(){y=!0,clearTimeout(h),h=setTimeout(a,t.timeouts.complete)}function u(){y||s()}function d(){!y&&g.readyState>1&&s()}if(p.cors||p.hasXDomainRequest){e=l(e,t.headers);var h,f,m=t.body,g=p.cors?new XMLHttpRequest:new XDomainRequest,y=!1;h=setTimeout(a,t.timeouts.connect),g.onprogress=u,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=i,g.onerror=o,g instanceof XMLHttpRequest?g.open(t.method,e,!0):g.open(t.method,e),p.cors&&(m&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),g.send(m)}else r(new c.Network("CORS not supported"))})},s.prototype._request.fallback=function(e,t){return e=l(e,t.headers),new i(function(n,r){d(e,t,function(e,t){return e?void r(e):void n(t)})})},s.prototype._promise={reject:function(e){return i.reject(e)},resolve:function(e){return i.resolve(e)},delay:function(e){return new i(function(t){setTimeout(t,e)})}},a}}).call(this,e(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t,n){"use strict";function r(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=r},{}],22:[function(e,t,n){"use strict";function r(e,t){return(e+=/\?/.test(e)?"&":"?")+i(t)}t.exports=r;var i=e(13)},{13:13}],23:[function(e,t,n){"use strict";function r(e,t,n){function r(){t.debug("JSONP: success"),g||h||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new i.JSONPScriptFail)))}function a(){"loaded"!==this.readyState&&"complete"!==this.readyState||r()}function s(){clearTimeout(y),f.onload=null,f.onreadystatechange=null,f.onerror=null,p.removeChild(f)}function u(){try{delete window[m],delete window[m+"_loaded"]}catch(e){window[m]=window[m+"_loaded"]=void 0}}function c(){t.debug("JSONP: Script timeout"),h=!0,s(),n(new i.RequestTimeout)}function l(){t.debug("JSONP: Script error"),g||h||(s(),n(new i.JSONPScriptError))}if("GET"===t.method){t.debug("JSONP: start");var d=!1,h=!1;o+=1;var p=document.getElementsByTagName("head")[0],f=document.createElement("script"),m="algoliaJSONP_"+o,g=!1;window[m]=function(e){return u(),h?void t.debug("JSONP: Late answer, ignoring"):(d=!0,s(),void n(null,{body:e}))},e+="&callback="+m,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(c,t.timeouts.complete);f.onreadystatechange=a,f.onload=r,f.onerror=l,f.async=!0,f.defer=!0,f.src=e,p.appendChild(f)}else n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."))}t.exports=r;var i=e(28),o=0},{28:28}],24:[function(e,t,n){function r(e,t){return function(n,r,o){if("function"==typeof n&&"object"==typeof r||"object"==typeof o)throw new i.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(o=n,n=""):1!==arguments.length&&"function"!=typeof r||(o=r,r=void 0),"object"==typeof n&&null!==n?(r=n,n=void 0):void 0!==n&&null!==n||(n="");var a="";void 0!==n&&(a+=e+"="+encodeURIComponent(n));var s;return void 0!==r&&(r.additionalUA&&(s=r.additionalUA,delete r.additionalUA),a=this.as._getSearchParams(r,a)),this._search(a,t,o,s)}}t.exports=r;var i=e(28)},{28:28}],25:[function(e,t,n){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t,n){t.exports=function(e,t){function n(){return r||(console.warn(t),r=!0),e.apply(this,arguments)}var r=!1;return n}},{}],27:[function(e,t,n){t.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+e.toLowerCase().replace(/[\.\(\)]/g,"")}},{}],28:[function(e,t,n){"use strict";function r(t,n){var r=e(5),i=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",n&&r(n,function(e,t){i[t]=e})}function i(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(t),r.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return o(n,r),n}var o=e(7);o(r,Error),t.exports={AlgoliaSearchError:r,UnparsableJSON:i("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:i("RequestTimeout","Request timedout before getting a response"),Network:i("Network","Network issue, see err.more for details"),JSONPScriptFail:i("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:i("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:i("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t,n){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t,n){var r=e(5);t.exports=function(e,t){var n=[];return r(e,function(r,i){n.push(t(r,i,e))}),n}},{5:5}],31:[function(e,t,n){var r=e(5);t.exports=function e(t){var n=Array.prototype.slice.call(arguments);return r(n,function(n){for(var r in n)n.hasOwnProperty(r)&&("object"==typeof t[r]&&"object"==typeof n[r]?t[r]=e({},t[r],n[r]):void 0!==n[r]&&(t[r]=n[r]))}),t}},{5:5}],32:[function(e,t,n){t.exports=function(t,n){var r=e(10),i={};return e(5)(r(t),function(e){!0!==n(e)&&(i[e]=t[e])}),i}},{10:10,5:5}],33:[function(e,t,n){function r(t){return function(n,r,o){var a=e(25);(o=o&&a(o)||{}).hosts=o.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof n&&void 0!==n||(n="",r="",o._allowEmptyCredentials=!0);var s=t(n,r,o).initIndex("places");return s.search=i("query","/1/places/query"),s.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},s}}t.exports=r;var i=e(24)},{24:24,25:25}],34:[function(e,t,n){(function(n){function r(e,t){return u("localStorage failed with",t),a(),(s=l).get(e)}function i(e,t){return 1===arguments.length?s.get(e):s.set(e,t)}function o(){try{return"localStorage"in n&&null!==n.localStorage&&(n.localStorage[c]||n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(e){return!1}}function a(){try{n.localStorage.removeItem(c)}catch(e){}}var s,u=e(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},d={set:function(e,t){l.set(e,t);try{var i=JSON.parse(n.localStorage[c]);return i[e]=t,n.localStorage[c]=JSON.stringify(i),i[e]}catch(t){return r(e,t)}},get:function(e){try{return JSON.parse(n.localStorage[c])[e]||null}catch(t){return r(e,t)}}};s=o()?d:l,t.exports={get:i,set:i,supportsLocalStorage:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t,n){"use strict";t.exports="3.24.6"},{}]},{},[19])(19)}),define("m_database",["m_firebase","algolia"],function(e,t){function n(e){return e.batch()}function r(e,t){"object"!=typeof t&&(t={}),e.commit().then(function(){"function"==typeof t.onSuccess&&t.onSuccess()})}function i(){return w()}function o(e,t,n){var r={};r[e+"/"+t]=n,b().ref().update(r)}function a(e,t,n,r){"object"!=typeof r&&(r={});var i=e+"/"+t,o=w().doc(i);console.log("updateFirestoreDb baseKey ",i),console.log("updateFirestoreDb iNdata ",n);o.update(n).then(function(e){console.log("updateFirestoreDb Document written with ID: ",e.id),"function"==typeof r.onSuccess&&r.onSuccess(e)}).catch(function(e){console.log(" updateFirestoreDb error",e),"function"==typeof r.onError&&r.onError()})}function s(e,t,n,r,i){"object"!=typeof r&&(r={});var o,a=e+"/"+t;o=void 0!==i?i.doc(a):w().doc(a),console.log("safeUpdateFirestoreDb baseKey, iNdata",a,n);o.set(n,{merge:!0}).then(function(e){console.log("safeUpdateFirestoreDb SUCCESS baseKey, docRef",a,e),"function"==typeof r.onSuccess&&r.onSuccess(e)}).catch(function(e){console.log("safeUpdateFirestoreDb EROR baseKey, error",a,e),"function"==typeof r.onError&&r.onError()})}function u(e,t,n){var r=e+"/"+t;b().ref(r).set(n)}function c(e,t,n,r){"object"!=typeof r&&(r={});var i,o,a=e+"/"+t,s=a.split("/").length;return console.log("addFirestoreDb baseKey,lengthBaseKey",a,s),s%2==0?(i=w().doc(a),o="set"):(i=w().collection(a),o="add"),console.log("addFirestoreDb typeAdd ",o),console.log("addFirestoreDb iNdata ",n),i[o](n).then(function(e){console.log("addFirestoreDb Document written with ID: ",e),"function"==typeof r.onSuccess&&r.onSuccess()}).catch(function(e){console.log("addFirestoreDb  error",e),"function"==typeof r.onError&&r.onError()})}function l(){return e.database.ServerValue.TIMESTAMP}function d(){return e.firestore.FieldValue.serverTimestamp()}function h(e){return console.log("isFirestoreLocalMutation doc",e),e.et.hasLocalMutations}function p(e,t){var n=e+"/"+t;return b().ref().child(n).push().key}function f(e,t){var n=e+"/"+t;console.log("generateIdForFirestoreByFullPathToDb path",n);return w().collection(n).doc().id}function m(e,t,n){"object"!=typeof n&&(n={});var r=e+"/"+t,i=b().ref(r),o=n.type||"all",a=n.functionOnSuccess||function(){},s=n.functionOnError||function(){};if(void 0!==n.order){var u=n.order;Array.isArray(u)||(u=[u]);for(var c in u)i.orderByChild(u[c])}if("number"==typeof n.limitToLast){var l=n.limitToLast;i.limitToLast(l)}switch(o){case"all":i.on("value",a,s);break;case"child_added":i.on("child_added",a,s);break;case"child_removed":i.on("child_removed",a,s);break;case"child_moved":i.on("child_moved",a,s)}}function g(e,t,n){var r,i,o=e,a=0;if("string"==typeof t&&t.length>0&&(o=o+"/"+t),o.split("/").length%2==0?(r=w().doc(o),i="document"):(r=w().collection(o),i="collection"),console.log("getRealtimeDataFromFirestoreDb path",o),n.where=n.where||[],void 0!==n.order||void 0!==n.orderByAsc){u=n.order||n.orderByAsc;Array.isArray(u)||(u=[u]);for(var s in u)r=r.orderBy(u[s])}if(void 0!==n.orderByDesc){var u=n.orderByDesc;Array.isArray(u)||(u=[u]);for(var s in u)r=r.orderBy(u[s],"desc")}if(console.log("whereEquilTo",typeof n.whereEquilTo,Array.isArray(n.whereEquilTo)),"object"==typeof n.whereEquilTo&&Array.isArray(n.whereEquilTo)){c=n.whereEquilTo,console.log("whereEquilTo",c);for(var s in c){let e=Object.keys(c[s])[0],t=c[s][e];n.where.push({key:e,value:t,mark:"=="})}console.log("whereEquilTo where",n.where)}if("object"==typeof n.whereMore){c=n.whereMore;for(var s in c){let e=Object.keys(c[s])[0],t=c[s][e];n.where.push({key:e,value:t,mark:">"})}}if("object"==typeof n.whereMoreOrEquil){c=n.whereMoreOrEquil;for(var s in c){let e=Object.keys(c[s])[0],t=c[s][e];n.where.push({key:e,value:t,mark:">="})}}if("object"==typeof n.whereLess){c=n.whereLess;for(var s in c)n.where.push({key:s,value:c[s],mark:"<"})}if("object"==typeof n.whereLessOrEquil){c=n.whereLessOrEquil;for(var s in c)n.where.push({key:s,value:c[s],mark:"<="})}if("object"==typeof n.where){var c=n.where;console.log("getRealtimeDataFromFirestoreDb where",JSON.stringify(c));for(var s in c){var l=c[s];console.log("getRealtimeDataFromFirestoreDb iNdata['where']",l.key,l.mark,l.value),r=r.where(l.key,l.mark,l.value)}}if("number"==typeof n.limit){d=n.limit;r=r.limit(d)}if("number"==typeof n.limitToLast){d=n.limitToLast;r=(r=r.orderBy("time","desc")).limit(d)}if("number"==typeof n.limitToFirst){var d=n.limitToFirst;r=(r=r.orderBy("time","asc")).limit(d)}r.onSnapshot(e=>{if("collection"==i)e.docChanges.length>0?e.docChanges.forEach(function(e){"added"===e.type&&"function"==typeof n.functionOnAdd&&n.functionOnAdd(e.doc),"modified"===e.type&&("function"==typeof n.functionOnChange&&n.functionOnChange(e.doc),h(e.doc)?"function"==typeof n.functionOnChangeFromLocal&&n.functionOnChangeFromLocal(e.doc):"function"==typeof n.functionOnChangeFromServer&&n.functionOnChangeFromServer(e.doc)),"removed"===e.type&&"function"==typeof n.functionOnDelete&&n.functionOnDelete(e.doc)}):"function"==typeof n.functionOnOther&&n.functionOnOther(e);else{var t=e;if(t.exists){var r=t.metadata.hasPendingWrites?"Local":"Server";a<1?("function"==typeof n.functionOnAdd&&n.functionOnAdd(t),"Local"==r?"function"==typeof n.functionOnAddFromLocal&&n.functionOnAddFromLocal(t):"function"==typeof n.functionOnAddFromServer&&n.functionOnAddFromServer(t)):("function"==typeof n.functionOnChange&&n.functionOnChange(t),"Local"==r?"function"==typeof n.functionOnChangeFromLocal&&n.functionOnChangeFromLocal(t):"function"==typeof n.functionOnChangeFromServer&&n.functionOnChangeFromServer(t)),a++}}})}function y(e,t,n){"object"!=typeof n&&(n={});var r=e+"/"+t,i=b().ref(r),o=n.type||"all",a=n.functionOnSuccess||function(){},s=n.functionOnError||function(){};if(void 0!==n.order){var u=n.order;Array.isArray(u)||(u=[u]);for(var c in u)i.orderByChild(u[c])}if("number"==typeof n.limitToLast){var l=n.limitToLast;i.limitToLast(l)}switch(o){case"all":i.once("value",a,s);break;case"child_added":i.once("child_added",a,s);break;case"child_removed":i.once("child_removed",a,s);break;case"child_moved":i.once("child_moved",a,s)}}const v={};var _=t("OKSL1FNILG","c6cadc6f629b4daf66c5b78e4a9ab343");v.algolia=_;const b=e.database,w=e.firestore,M=v;return window.fstore=M,window.db2=w,v.getBatchFirestoreDb=n,v.runBatchFirestoreDb=r,v.getFirestoreDb=i,v.updateRealtimeDb=o,v.updateFirestoreDb=a,v.safeUpdateFirestoreDb=s,v.addRealtimeDb=u,v.addFirestoreDb=c,v.getSeverVarTimestamp=l,v.getFirestoreSeverVarTimestamp=d,v.isFirestoreLocalMutation=h,v.generateIdForRealtimeDbByFullPathToDb=p,v.generateIdForFirestoreByFullPathToDb=f,v.getDataFromRealtimeDb=m,v.getRealtimeDataFromFirestoreDb=g,v.getData=y,v}),define("log",["m_firebase"],function(e){function t(){window.logState=1}function n(){window.logState=0}function r(){return!!window.logState}function i(e,t,n,i,o,a,s,u){if(!r())return!1;if(void 0!==u)console.log(e,t,n,i,o,a,s,u);else if(void 0!==s)console.log(e,t,n,i,o,a,s);else if(void 0!==a)console.log(e,t,n,i,o,a);else if(void 0!==o)console.log(e,t,n,i,o);else if(void 0!==i)console.log(e,t,n,i);else if(void 0!==n)console.log(e,t,n);else if(void 0!==t)console.log(e,t);else{if(void 0===e)return!1;console.log(e)}return!0}function o(e,t,n,r,o,a,s,u){return e=JSON.stringify(e),t=JSON.stringify(t),n=JSON.stringify(n),r=JSON.stringify(r),o=JSON.stringify(o),a=JSON.stringify(a),s=JSON.stringify(s),u=JSON.stringify(u),i(e,t,n,r,o,a,s,u)}const a={};return a.on=t,a.off=n,a.checkAccessForLog=r,a.print=i,a.printObject=o,a}),define("m_message",["jquery","v_message","m_moment","m_user","m_app","m_category","m_storage","m_record","m_progressbar","m_database","log"],function(e,t,n,r,i,o,a,s,u,c,l){function d(){return i.get("connectThisOpenChatId")}function h(e){let t="chats",n=e+"/member/"+r.getMyId()+"/newMsg";c.addRealtimeDb(t,n,0)}function p(e){m(e)>0&&(y(e,0),h(e)),t.changeNewMsgCounter(e,0),t.hideNewMsgCounter(),o.view.domHideNewMsgCountInChatBlock(e)}function f(e){t.plusNewMsgCounter(e,1);let n=t.getNewMsgCounter(e);o.view.domChangeNewMsgCountInChatBlock(e,n),o.view.domShowNewMsgCountInChatBlock(e),t.showNewMsgCounter()}function m(e){return parseInt(i.get(re.var_prefixNewMessageCount+e))||0}function g(e){y(e,m(e)+1)}function y(e,t){let n=re.var_prefixNewMessageCount+e;i.save(n,t)}function v(e,t){"object"!=typeof t&&(t={}),i.view.createLoaderInAppView(),_(e,"child_added",t)}function _(e,n,r){"object"!=typeof r&&(r={}),l.on();r={limitToFirst:40,functionOnAdd:t=>{console.log("getMessagesFromDb functionOnAdd",t),b(t,e,"child_added",r)},functionOnChangeFromServer:t=>{console.log("getMessagesFromDb functionOnChange",t),b(t,e,"child_changed",r)},functionOnOther:()=>{console.log("functionOnOther"),t.effChatViewScrollToBotWithTimeOut(()=>{},()=>{})}};c.getRealtimeDataFromFirestoreDb("chats",e+"/messages",r)}function b(e,n,i,o){var a=e,s=r.getMyId(),u=a.data()||{};l.print("callbackAddOrChangeMessageForDb fullData",u);var c=u.info,h=u.type;if(c.msgId=a.id,l.print("callbackAddOrChangeMessageForDb objectForCreateMessage",c),c.uid!=s&&1==c.type){0==E(u,s)&&(c.appearClass=!0)}"function"==typeof o.functionOnChild&&o.functionOnChild(n),L(c,u,n,s),"child_changed"==i?("function"==typeof o.functionOnChildChanged&&o.functionOnChildAdded(n),t.msg_replaceMsgByItsType(h,c,s,n)):("function"==typeof o.functionOnChildAdded&&o.functionOnChildAdded(n),T(c,u,n,s),t.msg_createMsgByItsType(h,c,s,n),t.effChatViewScrollToBotWithTimeOut(()=>{d()==n&&p(n)},()=>{d()==n&&c.uid!=s&&f(n)}),w(n,h))}function w(e,t){1==t&&M(e)}function M(e){let n=n=>{let i=n;const o=e;setTimeout(()=>{let e=i;var n=r.getMyId();x(t.msg_getDomAttrByNameMsgId(e),o,n)},1200)};t.msgSimpleText_setObserverForViewMsgInVisualScrollByChatId(e,{success:n,onScrollParentFalse:p})}function T(e,t,n,r){t.time>0&&j(n,t.time)}function S(){var e=msg_getPathToDomForMsg(iNchatId,iNmsgId),n=r.getMyId();msg_getDomAttrByNameMessageTimeSent(e);let i=element;var n=r.getMyId(),o=d();x(t.msg_getDomAttrByNameMsgId(i),o,n)}function L(e,t,r,i){t.time=t.time?t.time.getTime():(new Date).getTime(),t.time>0&&(e.timeSentText=n().getTimeMiniText(t.time),e.timeSent=t.time),e.uid!=i?k(e,t,r,i):C(e)}function k(e,t,r,i){var o=D(t,i);if(console.log("getTimeForToMeMessages myState",o),console.log("getTimeForToMeMessages iNfullBlock",t),console.log("getTimeForToMeMessages iNmyUid",i),"object"==typeof o){var a=o;console.log("timestamp states",a),"object"==typeof a.read&&a.read&&(console.log("timestamp states.read",a.read),e.timeReadText=n().getTimeMiniText(a.read.getTime()),e.timeRead=a.read.getTime()),"object"==typeof a.delivered&&a.delivered?(e.timeDeliveredText=n().getTimeMiniText(a.delivered.getTime()),e.timeDelivered=a.delivered.getTime()):setTimeout(()=>{let t=e;console.log("getTimeForToMeMessages msg_setDeliveredState",t.msgId,r,i),P(t.msgId,r,i)},1e3)}}function C(e){if("object"==typeof e.state){var t=e.state;t.read&&"object"==typeof t.read&&t.read.getTime()>0&&(e.timeReadText=n().getTimeMiniText(t.read.getTime()),e.timeRead=t.read.getTime()),t.delivered&&"object"==typeof t.delivered&&t.delivered.getTime()>0&&(e.timeDeliveredText=n().getTimeMiniText(t.delivered.getTime()),e.timeDelivered=t.delivered.getTime())}}function E(e,t){var n=D(e,t);return console.log("msgFromMe_getReadTime thisStateObject",n),"object"==typeof n.read&&null!=n.read&&"function"==typeof n.read.getTime?n.read.getTime():0}function D(e,t){return"object"==typeof e&&"object"==typeof e.member&&"object"==typeof e.member[t]&&"object"==typeof e.member[t].state?e.member[t].state:{}}function I(e){objForSendToDb={data:t.getContentLengthFromMsgSenderBlock(),type:1},A(objForSendToDb,e)}function A(e,t){var n=t||d(),i=r.getMyId();let o={info:{live:{data:e.data,uid:e.uid||i,time:c.getSeverVarTimestamp(),type:e.type}}};c.safeUpdateFirestoreDb("chats",n,o)}function x(e,t,n){O("read",n,t,e)}function O(e,t,n,r){if("string"!=typeof e||"string"!=typeof t||"string"!=typeof n||"string"!=typeof r)return!0;"object"!=typeof window.connecVar_storageForMsgState&&(window.connecVar_storageForMsgState={}),"object"!=typeof window.connecVar_storageForMsgState[n]&&(window.connecVar_storageForMsgState[n]={}),"object"!=typeof window.connecVar_storageForMsgState[n][r]&&(window.connecVar_storageForMsgState[n][r]={}),"object"!=typeof window.connecVar_storageForMsgState[n][r].member&&(window.connecVar_storageForMsgState[n][r].member={}),"object"!=typeof window.connecVar_storageForMsgState[n][r].member[t]&&(window.connecVar_storageForMsgState[n][r].member[t]={state:{}}),window.connecVar_storageForMsgState[n][r].member[t].state[e]=c.getFirestoreSeverVarTimestamp(),N(n,r,t)}function N(e,t,n){window.connecVar_timeoutId_storageForMsgState;clearTimeout(window.connecVar_timeoutId_storageForMsgState),window.connecVar_timeoutId_storageForMsgState=setTimeout(function(){var r,i,o=window.connecVar_storageForMsgState;const a=c.getFirestoreDb(),s=c.getBatchFirestoreDb(a);console.log("<------------------------START----------------------------\x3e"),console.log("msg_stateSendToDb prepare for batch",window.connecVar_storageForMsgState);for(var u in o)try{r=window.connecVar_storageForMsgState[e][t].member[n].state,i=window.connecVar_storageForMsgState[e][t],Object.keys(r).length>0&&(console.log("add to batch","chats",e+"/messages/"+t,i),c.safeUpdateFirestoreDb("chats",e+"/messages/"+t,i,{},a))}catch(e){continue}console.log("start batch operations"),c.runBatchFirestoreDb(s,{onSuccess:()=>{console.log("msg_stateSendToDb added to db",window.connecVar_storageForMsgState),window.connecVar_storageForMsgState={}}}),console.log("<------------------------END----------------------------\x3e")},250)}function P(e,t,n){O("delivered",n,t,e)}function R(e,t,n){e.type=e.type||1;let i=F(e,r.getMyId()),o="messages",a=n||Y(t),s=t+"/"+a;o="chats",s=t+"/messages/"+a,c.addFirestoreDb(o,s,i)}function Y(e){let t="chats",n=e+"/messages";return c.generateIdForFirestoreByFullPathToDb(t,n)}function F(e,t){var n=c.getFirestoreSeverVarTimestamp(),r={info:{options:{base:{}},state:{sent:n},content:e.content},time:n,status:1,type:e.type,uid:t};return void 0!==e.type&&(r.info.type=e.type),void 0===e.block&&(r.info.options.base.block=0),void 0===e.fire&&(r.info.options.base.fire=0),void 0===e.group&&(r.info.options.base.group=0),void 0!==t&&(r.uid=t,r.info.uid=t),r}function j(e,r){var i=H(e),o=parseInt(i),a=n().isThisDay(r);n().getNowTime();if("number"!=typeof o||o<1||n().getDayNumberByTime(o)!=n().getDayNumberByTime(r)){B(e,r);var s={};a?s.content=n().getWeekDayText(r):n().isThisWeek(r)?s.content=n().getWeekDayText(r):s.content=n().getFullText(r),t.msgSimpleText_addCenter(s,e)}}function B(e,t){return i.save("connectLastMsgChatId_"+e,t)}function H(e){return i.get("connectLastMsgChatId_"+e)}function U(e){var n=d(),r={content:t.getContentFromMsgSenderBlock()};i.playSound("https://cdn.ramman.net/audio/effects/sendMessage.mp3"),R(r,n)}function V(n){t.msg_pauseAllOtherPlayingAudioOrVideoEl(),W(n);let r=e(n).closest(".aCpI_msgLiveVideo_videoMsgContent").find(".aCpI_msgLiveVideo_backgroundVideoOnHover");e(r).removeClass("aCpI_msgLiveVideo_backgroundPlayVideoOnHover").addClass("aCpI_msgLiveVideo_backgroundPauseVideoOnHover"),t.msgLiveVideo_addPlayingFlags(n)}function W(n){var i=e(n).closest(".msgTypeLiveVideo");if(i.hasClass("toMeMessageInChatView")&&t.msg_getDomAttrByNameMessageTimeRead(i)<1){var o=d(),a=r.getMyId();x(t.msg_getDomAttrByNameMsgId(i),o,a)}}function q(e,t){objForSendToDb={data:e,type:21},A(objForSendToDb,t)}function G(e,n,r,i){var o={};o.content=e,o.uid=n,o.msgId=i,t.msgLiveVideo_createMsg(o,n,r),t.effChatViewScrollToBotWithTimeOut()}function K(e,t,n){var r={content:e};r.type=21,R(r,t,n)}function z(e,n,i){var o=URL.createObjectURL(n),s=r.getMyId(),u=d(u),c=Y(u);G(o,s,u,c);var l=()=>{var e=t.msgLiveVideo_initLoader(u,c),r="chats/"+u+"/"+s+"/liveVideo/"+c+"/1.webm";a.uploadBlob(n,{pathForSaveFile:r,mimeType:"video/webm"},{onSuccess:e=>{t.msgLiveVideo_hideUploadBlock(u,c),K(e,u,c)},onProgress:t=>{let n=t/100;e.to(n)},onError:e=>{console.log("msgLiveVideo_showUploadBtn iNerror"),t.msgLiveVideo_showUploadBtn(u,c)}})};t.msgLiveVideo_setObserverForUploadBtn(u,c,()=>{console.log("msgLiveVideo_setObserverForUploadBtn start"),l()}),l()}function Q(){var e,n,r=!1,i=!1;t.onSpecialClickForSendLiveAudioOrVideo("video",{onTimerTick:e=>{q(3600*e[4]+60*e[5]+e[6]),console.log("tick audioLiveAudio")},onStartVideoRecord:()=>{1==r?(i=!0,e.start(6e5)):i=!1},onStart:()=>{s.video({onSuccess:(i,o,a)=>{console.log("specialClickObject video mediationObjectLiveVideoRecorderObject ",e),void 0!==e&&(s.stopRecordingByStream(n),e.stop(),n.stop()),n=i,e=o,r=!0,t.msgLiveVideo_record_setStreamVideoElement(n),t.msgLiveVideo_record_showStreamVideoViewer()},onError:e=>{r=!1}})},onDelete:()=>{t.msgLiveVideo_record_hideStreamVideoViewer(),s.stopRecordingByStream(n),e.stop(),n.stop(),i=!1},onSend:()=>{1==i&&(t.msgLiveVideo_record_hideStreamVideoViewer(),e.stop(),e.get(z),s.stopRecordingByStream(n),n.stop()),i=!1}})}function J(n){t.msg_pauseAllOtherPlayingAudioOrVideoEl(),t.msgLiveAudio_addPlayingFlags(n),S(n);var r=e(n).closest(".aCpI_msgLiveAudio_blockInAudioMsg");t.msgLiveAudio_smartViewBtnPauseAudio(r)}function S(n){var i=e(n).closest(".msgTypeLiveAudio");if(i.hasClass("toMeMessageInChatView")&&t.msg_getDomAttrByNameMessageTimeRead(i)<1){var o=d(),a=r.getMyId();x(t.msg_getDomAttrByNameMsgId(i),o,a)}}function $(e,n,r,i){var o={};o.content=e,o.uid=n,o.msgId=i,t.msgLiveAudio_createMsg(o,n,r),t.effChatViewScrollToBotWithTimeOut()}function X(e,t){objForSendToDb={data:e,type:20},A(objForSendToDb,t)}function Z(e,t,n){var r={content:e};r.type=20,R(r,t,n)}function ee(e,n,i){var o=URL.createObjectURL(n),s=r.getMyId(),u=d(u),c=Y(u);$(o,s,u,c);var l=()=>{var e=t.msgLiveAudio_initLoader(u,c),r="chats/"+u+"/"+s+"/liveAudio/"+c+"/1.ogg";a.uploadBlob(n,{pathForSaveFile:r,mimeType:"audio/ogg; codecs=opus"},{onSuccess:e=>{t.msgLiveAudio_hideUploadBlock(u,c),Z(e,u,c)},onProgress:t=>{let n=t/100;e.to(n)},onError:e=>{t.msgLiveAudio_showUploadBtn(u,c)}})};t.msgLiveAudio_setObserverForUploadBtn(u,c,()=>{console.log("msgLiveAudio_setObserverForUploadBtn start"),l()}),l()}function te(){var e,n,r=!1;t.onSpecialClickForSendLiveAudioOrVideo("audio",{onTimerTick:e=>{X(3600*e[4]+60*e[5]+e[6]),console.log("tick audioLiveMsg")},onStart:()=>{s.liveAudioRecord({onSuccess:(t,i)=>{void 0!==n&&(s.stopRecordingByStream(n),e.delete(),n.stop()),n=t,e=i,1==(r=!0)&&e.start()},onError:e=>{r=!1},onDataAvailable:(e,t)=>{ee(e,t)}})},onDelete:()=>{console.log("onDelete permissionForLiveAudioRecord",r),1==r&&(s.stopRecordingByStream(n),e.delete(),n.stop())},onSend:()=>{1==r&&(e.save(),s.stopRecordingByStream(n),n.stop())}})}function d(){return i.get("connectThisOpenChatId")}const ne={view:t},re={var_prefixNewMessageCount:"connectNewMsgCountInChat-"};return ne.getMyNewMessagesCountByChatId=m,ne.plusMyNewMessagesCountByChatId=g,ne.setMyNewMessagesCountByChatId=y,ne.synchronizeWithMessageDb=v,ne.msgSimpleText_setObserverForAppearMessageInVisualScrollByChatId=M,ne.msgSimpleText_flashSending=I,ne.msg_flashSending=A,ne.msg_stateAddToQueue=O,ne.msg_addToDb=R,ne.setLastMsgTimeByChatId=B,ne.simpleMsgText_onClickSendBtn=U,window.aCpI_msgLiveVideo_onEventPlayVideo=V,ne.msgLiveVideo_flashSending=q,ne.controller_msgLiveVideo_record_run=Q,window.aCpI_msgLiveAudio_onEventPlay=J,ne.msgLiveAudio_flashSending=X,ne.controller_msgLiveAudio_record_run=te,ne}),define("m_app-chat",["v_app-chat","m_app","m_view","m_message","m_user","m_firebase","m_record"],function(e,t,n,r,i,o,a){function s(t){t.other=e.getChatSenderBlock()}function u(){}function c(){}function l(){n.view.closeLoader()}function d(){}function h(){}function p(){}function f(e){}function m(e){}function g(t){t.chatIcon=t.chatIcon,t.chatName=t.chatName,t.login=t.userLogin,t.servise=2==t.userType;var n=t.chatId,i=t.uid,o=t.login,a=t.servise,s=t.online,u=t.chatIcon,c=t.chatName;let l=v();l!=n&&m(l),y(t.chatId),b(t.uid),_("private"),e.addUserHeaderInChief({chatId:n,uid:i,name:c,icon:u,login:o,online:s,servise:a}),r.setLastMsgTimeByChatId(n,0),0==e.getCountsOfChatContainers(n)&&(e.createChatContainer(n),r.synchronizeWithMessageDb(n,{functionOnChild:e=>{f(e)}})),e.hideChatContainers(),e.showChatContainerByChatId(n),e.effChatViewScrollToBot()}function y(e){return t.save("connectThisOpenChatId",e)}function v(){return t.get("connectThisOpenChatId")}function _(e){return t.save("connectThisOpenChatType",e)}function b(e){return t.save("connectThisOpenChatUserId",e)}const w={},M={},T="chat";w.name=T;const S={};w.options={};var L;o.storage().ref();return L="index",S[L]={attr:{id:"leftBlockInViewWindow"},menus:{}},S[L].functions={getTemplate:function(e){},onOut:function(){return!0},onInit:function(){return t.getGlobalVar("engine").passToApp({app:"base",page:"index"}),r.view.initApp({simpleMsgText_onClickSendBtn:r.simpleMsgText_onClickSendBtn,simpleMsgText_printing:r.msgSimpleText_flashSending}),r.controller_msgLiveVideo_record_run(),r.controller_msgLiveAudio_record_run(),!0},onAppear:function(e,t){return g(e),!0},onDisappear:function(){return!0}},w.pages=S,w.getTemplate=s,w.onInit=u,w.onIn=c,w.onAppear=l,w.onDisappear=d,w.onOut=h,w.onDeinit=p,M.chatViewPrefix="connectPrefixChatViewStatus-",w}),define("v_app-base",["jquery","m_user","template7","v_view","v_app"],function(e,t,n,r,i){function o(e){return n.compile(l.appHeaderForIndexPage)(e)}function a(e,n){"string"!=typeof n&&(n="end");var r=t.getMyLogin();r?e.myLogin=r:(delete e.myLogin,delete e.back);var a={app:c.name,page:c.pageIndex};a.content=o(e),i.safeViewMenuHeaderWithContent(a,n)}function s(t){var n=e(".usersBlockContainerInMenusBlock .scrolBlockForChat .mix.usersBlockInMenusBlock[connect_uid='"+t+"']"),r=n.attr("connect_chatid"),i=n.attr("connect_userlogin");return!(!n||i==r)&&r}const u={},c={name:"base",pageIndex:"index"},l={};return l.appHeaderForIndexPage='\n\t\t\t<div class="appBase_userListHeaderContainer">\n\t\t\t   \t{{#if back}}\n\t\t\t   \t\t<div class="appBase_backButton"></div>\n\t\t\t   \t{{/if}}\n\t\t\t   \t<div class="appBase_userIcon"><a href="#"><img src="{{icon}}"></a></div>\n\t\t\t   \t<div class="UserNameInMenusBlock">\n\t\t\t\t\t<div class="appBase_ListHeader_dName">\n\t\t\t\t\t <a href="{{href}}" class="CML" {{#if nameDictionaryCode}}cmlk="{{nameDictionaryCode}}"{{/if}}>{{name}}</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{if login}}<div class="appBase_ListHeader_login">@{{login}}</div>{{/if}}\n\t\t\t   </div>\n\t\t\t</div>\n\t\t\t<div class="appBase_listHeaderButtonsBlock">\n\t\t\t\t<div class="appBase_buttonOptions"></div>\n\t\t\t\t<div class="appBase_buttonToHome connect_system_href" \t\tcode_href="toHome"></div>\n\t\t\t\t{{#if myLogin}}\n\t\t\t\t\t<div class="appBase_buttonSignOut connect_system_href" \tcode_href="signOut"></div>\n\t\t\t\t{{else}}\n\t\t\t\t\t<div class="appBase_buttonSignIn connect_system_href" \tcode_href="signIn"></div>\n\t\t\t\t{{/if}}\n\t\t\t</div>\n\t\t\t<div class="ChoosePlaceInMenusBlock"></div>\n\t\t',u.templates=l,u.addUserHeaderInList=a,u.getRealChatIdByUid=s,u}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";var r=n(2),i=n(3);r.element=i;var o=n(4);o.isArray=i.isArray,o.isFunction=i.isFunction,o.isObject=i.isPlainObject,o.bind=i.proxy,o.each=function(e,t){function n(e,n){return t(n,e)}i.each(e,n)},o.map=i.map,o.mixin=i.extend,o.Event=i.Event;var a,s,u,c=n(5),l=n(6);a=i.fn.autocomplete,s="aaAutocomplete",u={initialize:function(e,t){function n(){var n,r=i(this),o=new l({el:r});n=new c({input:r,eventBus:o,dropdownMenuContainer:e.dropdownMenuContainer,hint:void 0===e.hint||!!e.hint,minLength:e.minLength,autoselect:e.autoselect,autoselectOnBlur:e.autoselectOnBlur,openOnFocus:e.openOnFocus,templates:e.templates,debug:e.debug,cssClasses:e.cssClasses,datasets:t,keyboardShortcuts:e.keyboardShortcuts,appendTo:e.appendTo,autoWidth:e.autoWidth}),r.data(s,n)}return t=o.isArray(t)?t:[].slice.call(arguments,1),e=e||{},this.each(n)},open:function(){function e(){var e;(e=i(this).data(s))&&e.open()}return this.each(e)},close:function(){function e(){var e;(e=i(this).data(s))&&e.close()}return this.each(e)},val:function(e){function t(){var t;(t=i(this).data(s))&&t.setVal(e)}return arguments.length?this.each(t):function(e){var t,n;return(t=e.data(s))&&(n=t.getVal()),n}(this.first())},destroy:function(){function e(){var e,t=i(this);(e=t.data(s))&&(e.destroy(),t.removeData(s))}return this.each(e)}},i.fn.autocomplete=function(e){var t;return u[e]&&"initialize"!==e?(t=this.filter(function(){return!!i(this).data(s)}),u[e].apply(t,[].slice.call(arguments,1))):u.initialize.apply(this,arguments)},i.fn.autocomplete.noConflict=function(){return i.fn.autocomplete=a,this},i.fn.autocomplete.sources=c.sources,i.fn.autocomplete.escapeHighlightedString=o.escapeHighlightedString,e.exports=i.fn.autocomplete},function(e,t){"use strict";e.exports={element:null}},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function r(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var i=n(2);e.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(e){return"number"==typeof e},toStr:function(e){return void 0===e||null===e?"":e+""},cloneDeep:function(e){var t=this.mixin({},e),n=this;return this.each(t,function(e,r){e&&(n.isArray(e)?t[r]=[].concat(e):n.isObject(e)&&(t[r]=n.cloneDeep(e)))}),t},error:function(e){throw new Error(e)},every:function(e,t){var n=!0;return e?(this.each(e,function(r,i){if(!(n=t.call(null,r,i,e)))return!1}),!!n):n},any:function(e,t){var n=!1;return e?(this.each(e,function(r,i){if(t.call(null,r,i,e))return n=!0,!1}),n):n},getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(e){if(this.isFunction(e))return e;var t=i.element(e);return"SCRIPT"===t.prop("tagName")?function(){return t.text()}:function(){return String(e)}},defer:function(e){setTimeout(e,0)},noop:function(){},formatPrefix:function(e,t){return t?"":e+"-"},className:function(e,t,n){return(n?"":".")+e+t},escapeHighlightedString:function(e,t,n){t=t||"<em>";var i=document.createElement("div");i.appendChild(document.createTextNode(t)),n=n||"</em>";var o=document.createElement("div");o.appendChild(document.createTextNode(n));var a=document.createElement("div");return a.appendChild(document.createTextNode(e)),a.innerHTML.replace(RegExp(r(i.innerHTML),"g"),t).replace(RegExp(r(o.innerHTML),"g"),n)}}},function(e,t,n){"use strict";function r(e){var t,n;if((e=e||{}).input||u.error("missing input"),this.isActivated=!1,this.debug=!!e.debug,this.autoselect=!!e.autoselect,this.autoselectOnBlur=!!e.autoselectOnBlur,this.openOnFocus=!!e.openOnFocus,this.minLength=u.isNumber(e.minLength)?e.minLength:1,this.autoWidth=void 0===e.autoWidth||!!e.autoWidth,e.hint=!!e.hint,e.hint&&e.appendTo)throw new Error("[autocomplete.js] hint and appendTo options can't be used at the same time");this.css=e.css=u.mixin({},f,e.appendTo?f.appendTo:{}),this.cssClasses=e.cssClasses=u.mixin({},f.defaultClasses,e.cssClasses||{}),this.cssClasses.prefix=e.cssClasses.formattedPrefix=u.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),this.listboxId=e.listboxId=[this.cssClasses.root,"listbox",u.getUniqueId()].join("-");var o=i(e);this.$node=o.wrapper;var a=this.$input=o.input;t=o.menu,n=o.hint,e.dropdownMenuContainer&&c.element(e.dropdownMenuContainer).css("position","relative").append(t.css("top","0")),a.on("blur.aa",function(e){var n=document.activeElement;u.isMsie()&&(t[0]===n||t[0].contains(n))&&(e.preventDefault(),e.stopImmediatePropagation(),u.defer(function(){a.focus()}))}),t.on("mousedown.aa",function(e){e.preventDefault()}),this.eventBus=e.eventBus||new l({el:a}),this.dropdown=new r.Dropdown({appendTo:e.appendTo,wrapper:this.$node,menu:t,datasets:e.datasets,templates:e.templates,cssClasses:e.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onSync("redrawn",this._onRedrawn,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new r.Input({input:a,hint:n}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(e),this._setLanguageDirection()}function i(e){var t,n,r,i;t=c.element(e.input),n=c.element(p.wrapper.replace("%ROOT%",e.cssClasses.root)).css(e.css.wrapper),e.appendTo||"block"!==t.css("display")||"table"!==t.parent().css("display")||n.css("display","table-cell");var a=p.dropdown.replace("%PREFIX%",e.cssClasses.prefix).replace("%DROPDOWN_MENU%",e.cssClasses.dropdownMenu);r=c.element(a).css(e.css.dropdown).attr({role:"listbox",id:e.listboxId}),e.templates&&e.templates.dropdownMenu&&r.html(u.templatify(e.templates.dropdownMenu)()),(i=t.clone().css(e.css.hint).css(o(t))).val("").addClass(u.className(e.cssClasses.prefix,e.cssClasses.hint,!0)).removeAttr("id name placeholder required").prop("readonly",!0).attr({"aria-hidden":"true",autocomplete:"off",spellcheck:"false",tabindex:-1}),i.removeData&&i.removeData(),t.data(s,{"aria-autocomplete":t.attr("aria-autocomplete"),"aria-expanded":t.attr("aria-expanded"),"aria-owns":t.attr("aria-owns"),autocomplete:t.attr("autocomplete"),dir:t.attr("dir"),role:t.attr("role"),spellcheck:t.attr("spellcheck"),style:t.attr("style"),type:t.attr("type")}),t.addClass(u.className(e.cssClasses.prefix,e.cssClasses.input,!0)).attr({autocomplete:"off",spellcheck:!1,role:"combobox","aria-autocomplete":e.datasets&&e.datasets[0]&&e.datasets[0].displayKey?"both":"list","aria-expanded":"false","aria-label":e.ariaLabel,"aria-owns":e.listboxId}).css(e.hint?e.css.input:e.css.inputWithNoHint);try{t.attr("dir")||t.attr("dir","auto")}catch(e){}return(n=e.appendTo?n.appendTo(c.element(e.appendTo).eq(0)).eq(0):t.wrap(n).parent()).prepend(e.hint?i:null).append(r),{wrapper:n,input:t,hint:i,menu:r}}function o(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function a(e,t){var n=e.find(u.className(t.prefix,t.input));u.each(n.data(s),function(e,t){void 0===e?n.removeAttr(t):n.attr(t,e)}),n.detach().removeClass(u.className(t.prefix,t.input,!0)).insertAfter(e),n.removeData&&n.removeData(s),e.remove()}var s="aaAttrs",u=n(4),c=n(2),l=n(6),d=n(7),h=n(16),p=n(18),f=n(19);u.mixin(r.prototype,{_bindKeyboardShortcuts:function(e){if(e.keyboardShortcuts){var t=this.$input,n=[];u.each(e.keyboardShortcuts,function(e){"string"==typeof e&&(e=e.toUpperCase().charCodeAt(0)),n.push(e)}),c.element(document).keydown(function(e){var r=e.target||e.srcElement,i=r.tagName;if(!r.isContentEditable&&"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i){var o=e.which||e.keyCode;-1!==n.indexOf(o)&&(t.focus(),e.stopPropagation(),e.preventDefault())}})}},_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(e,t){var n=this.dropdown.getDatumForCursor(),r=this.dropdown.getCurrentCursor().attr("id");this.input.setActiveDescendant(r),n&&(t&&this.input.setInputValue(n.value,!0),this.eventBus.trigger("cursorchanged",n.raw,n.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint(),this.eventBus.trigger("cursorremoved")},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger("updated")},_onOpened:function(){this._updateHint(),this.input.expand(),this.eventBus.trigger("opened")},_onEmpty:function(){this.eventBus.trigger("empty")},_onRedrawn:function(){this.$node.css("top","0px"),this.$node.css("left","0px");var e=this.$input[0].getBoundingClientRect();this.autoWidth&&this.$node.css("width",e.width+"px");var t=this.$node[0].getBoundingClientRect(),n=e.bottom-t.top;this.$node.css("top",n+"px");var r=e.left-t.left;this.$node.css("left",r+"px"),this.eventBus.trigger("redrawn")},_onShown:function(){this.eventBus.trigger("shown"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.input.removeActiveDescendant(),this.input.collapse(),this.eventBus.trigger("closed")},_onFocused:function(){if(this.isActivated=!0,this.openOnFocus){var e=this.input.getQuery();e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open()}},_onBlurred:function(){var e,t;e=this.dropdown.getDatumForCursor(),t=this.dropdown.getDatumForTopSuggestion(),this.debug||(this.autoselectOnBlur&&e?this._select(e):this.autoselectOnBlur&&t?this._select(t):(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()))},_onEnterKeyed:function(e,t){var n,r;n=this.dropdown.getDatumForCursor(),r=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&r&&(this._select(r),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e=this.input.getLanguageDirection();this.dir!==e&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,t,n,r,i,o;(e=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(t=this.input.getInputValue(),n=d.normalizeQuery(t),r=u.escapeRegExChars(n),i=new RegExp("^(?:"+r+")(.+$)","i"),(o=i.exec(e.value))?this.input.setHint(t+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,r,i;t=this.input.getHint(),n=this.input.getQuery(),r=e||this.input.isCursorAtEnd(),t&&n!==t&&r&&((i=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){void 0!==e.value&&this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),!1===this.eventBus.trigger("selected",e.raw,e.datasetName).isDefaultPrevented()&&(this.dropdown.close(),u.defer(u.bind(this.dropdown.empty,this.dropdown)))},open:function(){if(!this.isActivated){var e=this.input.getInputValue();e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty()}this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=u.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),a(this.$node,this.cssClasses),this.$node=null},getWrapper:function(){return this.dropdown.$container[0]}}),r.Dropdown=h,r.Input=d,r.sources=n(20),e.exports=r},function(e,t,n){"use strict";function r(e){e&&e.el||i.error("EventBus initialized without el"),this.$el=o.element(e.el)}var i=n(4),o=n(2);i.mixin(r.prototype,{trigger:function(e){var t=[].slice.call(arguments,1),n=i.Event("autocomplete:"+e);return this.$el.trigger(n,t),n}}),e.exports=r},function(e,t,n){"use strict";function r(e){var t,n,r,o,a=this;(e=e||{}).input||u.error("input is missing"),t=u.bind(this._onBlur,this),n=u.bind(this._onFocus,this),r=u.bind(this._onKeydown,this),o=u.bind(this._onInput,this),this.$hint=c.element(e.hint),this.$input=c.element(e.input).on("blur.aa",t).on("focus.aa",n).on("keydown.aa",r),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=u.noop),u.isMsie()?this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function(e){s[e.which||e.keyCode]||u.defer(u.bind(a._onInput,a,e))}):this.$input.on("input.aa",o),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return c.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var s;s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};var u=n(4),c=n(2),l=n(8);r.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(r.prototype,l,{_onBlur:function(){this.resetInputValue(),this.$input.removeAttr("aria-activedescendant"),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=s[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,r,i;switch(e){case"tab":r=this.getHint(),i=this.getInputValue(),n=r&&r!==i&&!a(t);break;case"up":case"down":n=!a(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!a(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;n=!(!(t=o(e=this.getInputValue(),this.query))||!this.query)&&this.query.length!==e.length,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){void 0===e&&(e=this.query),this.$input.val(e),t?this.clearHint():this._checkInputValue()},expand:function(){this.$input.attr("aria-expanded","true")},collapse:function(){this.$input.attr("aria-expanded","false")},setActiveDescendant:function(e){this.$input.attr("aria-activedescendant",e)},removeActiveDescendant:function(){this.$input.removeAttr("aria-activedescendant")},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),""!==e&&n&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,n;return e=this.$input.val().length,t=this.$input[0].selectionStart,u.isNumber(t)?t===e:!document.selection||((n=document.selection.createRange()).moveStart("character",-e),e===n.text.length)},destroy:function(){this.$hint.off(".aa"),this.$input.off(".aa"),this.$hint=this.$input=this.$overflowHelper=null}}),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var i;if(!n)return this;for(t=t.split(d),n=r?c(n,r):n,this._callbacks=this._callbacks||{};i=t.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][e].push(n);return this}function i(e,t,n){return r.call(this,"async",e,t,n)}function o(e,t,n){return r.call(this,"sync",e,t,n)}function a(e){var t;if(!this._callbacks)return this;for(e=e.split(d);t=e.shift();)delete this._callbacks[t];return this}function s(e){var t,n,r,i,o;if(!this._callbacks)return this;for(e=e.split(d),r=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)i=u(n.sync,this,[t].concat(r)),o=u(n.async,this,[t].concat(r)),i()&&l(o);return this}function u(e,t,n){function r(){for(var r,i=0,o=e.length;!r&&i<o;i+=1)r=!1===e[i].apply(t,n);return!r}return r}function c(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=n(9),d=/\s+/;e.exports={onSync:o,onAsync:i,off:a,trigger:s}},function(e,t,n){"use strict";function r(){s&&u&&(s=!1,u.length?h=u.concat(h):d=-1,h.length&&i())}function i(){if(!s){p=!1,s=!0;for(var e=h.length,t=setTimeout(r);e;){for(u=h,h=[];u&&++d<e;)u[d].run();d=-1,e=h.length}u=null,d=-1,s=!1,clearTimeout(t)}}function o(e,t){this.fun=e,this.array=t}function a(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new o(e,t)),p||s||(p=!0,c())}for(var s,u,c,l=[n(10),n(12),n(13),n(14),n(15)],d=-1,h=[],p=!1,f=-1,m=l.length;++f<m;)if(l[f]&&l[f].test&&l[f].test()){c=l[f].install(i);break}o.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=a},function(e,t,n){(function(e){"use strict";t.test=function(){return void 0!==e&&!e.browser},t.install=function(t){return function(){e.nextTick(t)}}}).call(t,n(11))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,f=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new u(e,t)),1!==f.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){(function(e){"use strict";var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var r=0,i=new n(t),o=e.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(t,function(){return this}())},function(e,t){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";function r(e){var t,n,r,s=this;(e=e||{}).menu||o.error("menu is required"),o.isArray(e.datasets)||o.isObject(e.datasets)||o.error("1 or more datasets required"),e.datasets||o.error("datasets is required"),this.isOpen=!1,this.isEmpty=!0,this.minLength=e.minLength||0,this.templates={},this.appendTo=e.appendTo||!1,this.css=o.mixin({},c,e.appendTo?c.appendTo:{}),this.cssClasses=e.cssClasses=o.mixin({},c.defaultClasses,e.cssClasses||{}),this.cssClasses.prefix=e.cssClasses.formattedPrefix||o.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),t=o.bind(this._onSuggestionClick,this),n=o.bind(this._onSuggestionMouseEnter,this),r=o.bind(this._onSuggestionMouseLeave,this);var u=o.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=a.element(e.menu).on("mouseenter.aa",u,n).on("mouseleave.aa",u,r).on("click.aa",u,t),this.$container=e.appendTo?e.wrapper:this.$menu,e.templates&&e.templates.header&&(this.templates.header=o.templatify(e.templates.header),this.$menu.prepend(this.templates.header())),e.templates&&e.templates.empty&&(this.templates.empty=o.templatify(e.templates.empty),this.$empty=a.element('<div class="'+o.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'"></div>'),this.$menu.append(this.$empty),this.$empty.hide()),this.datasets=o.map(e.datasets,function(t){return i(s.$menu,t,e.cssClasses)}),o.each(this.datasets,function(e){var t=e.getRoot();t&&0===t.parent().length&&s.$menu.append(t),e.onSync("rendered",s._onRendered,s)}),e.templates&&e.templates.footer&&(this.templates.footer=o.templatify(e.templates.footer),this.$menu.append(this.templates.footer()));var l=this;a.element(window).resize(function(){l._redraw()})}function i(e,t,n){return new r.Dataset(o.mixin({$menu:e,cssClasses:n},t))}var o=n(4),a=n(2),s=n(8),u=n(17),c=n(19);o.mixin(r.prototype,s,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",a.element(e.currentTarget))},_onSuggestionMouseEnter:function(e){var t=a.element(e.currentTarget);if(!t.hasClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))){this._removeCursor();var n=this;setTimeout(function(){n._setCursor(t,!1)},0)}},_onSuggestionMouseLeave:function(e){e.relatedTarget&&a.element(e.relatedTarget).closest("."+o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length>0||(this._removeCursor(),this.trigger("cursorRemoved"))},_onRendered:function(e,t){function n(e){return e.isEmpty()}function r(e){return e.templates&&e.templates.empty}if(this.isEmpty=o.every(this.datasets,n),this.isEmpty)if(t.length>=this.minLength&&this.trigger("empty"),this.$empty)if(t.length<this.minLength)this._hide();else{var i=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(i),this.$empty.show(),this._show()}else o.any(this.datasets,r)?t.length<this.minLength?this._hide():this._show():this._hide();else this.isOpen&&(this.$empty&&(this.$empty.empty(),this.$empty.hide()),t.length>=this.minLength?this._show():this._hide());this.trigger("datasetRendered")},_hide:function(){this.$container.hide()},_show:function(){this.$container.css("display","block"),this._redraw(),this.trigger("shown")},_redraw:function(){this.isOpen&&this.appendTo&&this.trigger("redrawn")},_getSuggestions:function(){return this.$menu.find(o.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(o.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(e,t){e.first().addClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).attr("aria-selected","true"),this.trigger("cursorMoved",t)},_removeCursor:function(){this._getCursor().removeClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).removeAttr("aria-selected")},_moveCursor:function(e){var t,n,r,i;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),r=t.index(n)+e,-1==(r=(r+1)%(t.length+1)-1))return void this.trigger("cursorRemoved");r<-1&&(r=t.length-1),this._setCursor(i=t.eq(r),!0),this._ensureVisible(i)}},_ensureVisible:function(e){var t,n,r,i;n=(t=e.position().top)+e.height()+parseInt(e.css("margin-top"),10)+parseInt(e.css("margin-bottom"),10),r=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("padding-top"),10)+parseInt(this.$menu.css("padding-bottom"),10),t<0?this.$menu.scrollTop(r+t):i<n&&this.$menu.scrollTop(r+(n-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?this.css.ltr:this.css.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:u.extractDatum(e),value:u.extractValue(e),datasetName:u.extractDatasetName(e)}),t},getCurrentCursor:function(){return this._getCursor().first()},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(e){function t(t){t.update(e)}o.each(this.datasets,t)},empty:function(){function e(e){e.clear()}o.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".aa"),this.$menu=null,o.each(this.datasets,e)}}),r.Dataset=u,e.exports=r},function(e,t,n){"use strict";function r(e){(e=e||{}).templates=e.templates||{},e.source||l.error("missing source"),e.name&&!a(e.name)&&l.error("invalid dataset name: "+e.name),this.query=null,this._isEmpty=!0,this.highlight=!!e.highlight,this.name=void 0===e.name||null===e.name?l.getUniqueId():e.name,this.source=e.source,this.displayFn=i(e.display||e.displayKey),this.templates=o(e.templates,this.displayFn),this.css=l.mixin({},p,e.appendTo?p.appendTo:{}),this.cssClasses=e.cssClasses=l.mixin({},p.defaultClasses,e.cssClasses||{}),this.cssClasses.prefix=e.cssClasses.formattedPrefix||l.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var t=l.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=e.$menu&&e.$menu.find(t+"-"+this.name).length>0?d.element(e.$menu.find(t+"-"+this.name)[0]):d.element(h.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset)),this.$menu=e.$menu,this.clearCachedSuggestions()}function i(e){function t(t){return t[e]}return e=e||"value",l.isFunction(e)?e:t}function o(e,t){function n(e){return"<p>"+t(e)+"</p>"}return{empty:e.empty&&l.templatify(e.empty),header:e.header&&l.templatify(e.header),footer:e.footer&&l.templatify(e.footer),suggestion:e.suggestion||n}}function a(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var s="aaDataset",u="aaValue",c="aaDatum",l=n(4),d=n(2),h=n(18),p=n(19),f=n(8);r.extractDatasetName=function(e){return d.element(e).data(s)},r.extractValue=function(e){return d.element(e).data(u)},r.extractDatum=function(e){var t=d.element(e).data(c);return"string"==typeof t&&(t=JSON.parse(t)),t},l.mixin(r.prototype,f,{_render:function(e,t){function n(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!0}].concat(t),p.templates.empty.apply(this,t)}function r(){function e(e){var t,n=h.suggestion.replace("%PREFIX%",o.cssClasses.prefix).replace("%SUGGESTION%",o.cssClasses.suggestion);return(t=d.element(n).attr({role:"option",id:["option",Math.floor(1e8*Math.random())].join("-")}).append(p.templates.suggestion.apply(this,[e].concat(i)))).data(s,p.name),t.data(u,p.displayFn(e)||void 0),t.data(c,JSON.stringify(e)),t.children().each(function(){d.element(this).css(o.css.suggestionChild)}),t}var n,r,i=[].slice.call(arguments,0),o=this,a=h.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);return n=d.element(a).css(this.css.suggestions),r=l.map(t,e),n.append.apply(n,r),n}function i(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!a}].concat(t),p.templates.header.apply(this,t)}function o(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!a}].concat(t),p.templates.footer.apply(this,t)}if(this.$el){var a,p=this,f=[].slice.call(arguments,2);this.$el.empty(),a=t&&t.length,this._isEmpty=!a,!a&&this.templates.empty?this.$el.html(n.apply(this,f)).prepend(p.templates.header?i.apply(this,f):null).append(p.templates.footer?o.apply(this,f):null):a&&this.$el.html(r.apply(this,f)).prepend(p.templates.header?i.apply(this,f):null).append(p.templates.footer?o.apply(this,f):null),this.$menu&&this.$menu.addClass(this.cssClasses.prefix+(a?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+(a?"without":"with")+"-"+this.name),this.trigger("rendered",e)}},getRoot:function(){return this.$el},update:function(e){function t(t){if(!this.canceled&&e===this.query){var n=[].slice.call(arguments,1);this.cacheSuggestions(e,t,n),this._render.apply(this,[e,t].concat(n))}}this.query=e,this.canceled=!1,this.shouldFetchFromCache(e)?t.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs)):this.source(e,t.bind(this))},cacheSuggestions:function(e,t,n){this.cachedQuery=e,this.cachedSuggestions=t,this.cachedRenderExtraArgs=n},shouldFetchFromCache:function(e){return this.cachedQuery===e&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function(){delete this.cachedQuery,delete this.cachedSuggestions,delete this.cachedRenderExtraArgs},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered","")},isEmpty:function(){return this._isEmpty},destroy:function(){this.clearCachedSuggestions(),this.$el=null}}),e.exports=r},function(e,t){"use strict";e.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%%SUGGESTION%"></div>'}},function(e,t,n){"use strict";var r=n(4),i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",noPrefix:!1,dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"},appendTo:{wrapper:{position:"absolute",zIndex:"100",display:"none"},input:{},inputWithNoHint:{},dropdown:{display:"block"}}};r.isMsie()&&r.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),r.isMsie()&&r.isMsie()<=7&&r.mixin(i.input,{marginTop:"-1px"}),e.exports=i},function(e,t,n){"use strict";e.exports={hits:n(21),popularIn:n(24)}},function(e,t,n){"use strict";var r=n(4),i=n(22),o=n(23);e.exports=function(e,t){function n(n,i){e.search(n,t,function(e,t){e?r.error(e.message):i(t.hits,t)})}var a=o(e.as._ua);return a&&a[0]>=3&&a[1]>20&&(t=t||{},t.additionalUA="autocomplete.js "+i),n}},function(e,t){e.exports="0.29.0"},function(e,t){"use strict";e.exports=function(e){var t=e.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);if(t)return[t[1],t[2],t[3]]}},function(e,t,n){"use strict";var r=n(4),i=n(22),o=n(23);e.exports=function(e,t,n,a){function s(s,u){e.search(s,t,function(e,s){if(e)r.error(e.message);else{if(s.hits.length>0){var d=s.hits[0],h=r.mixin({hitsPerPage:0},n);delete h.source,delete h.index;var p=o(l.as._ua);return p&&p[0]>=3&&p[1]>20&&(t.additionalUA="autocomplete.js "+i),void l.search(c(d),h,function(e,t){if(e)r.error(e.message);else{var n=[];if(a.includeAll){var i=a.allTitle||"All departments";n.push(r.mixin({facet:{value:i,count:t.nbHits}},r.cloneDeep(d)))}r.each(t.facets,function(e,t){r.each(e,function(e,i){n.push(r.mixin({facet:{facet:t,value:i,count:e}},r.cloneDeep(d)))})});for(var o=1;o<s.hits.length;++o)n.push(s.hits[o]);u(n,s)}})}u([])}})}var u=o(e.as._ua);if(u&&u[0]>=3&&u[1]>20&&(t=t||{},t.additionalUA="autocomplete.js "+i),!n.source)return r.error("Missing 'source' key");var c=r.isFunction(n.source)?n.source:function(e){return e[n.source]};if(!n.index)return r.error("Missing 'index' key");var l=n.index;return a=a||{},s}}]),define("jquery.autocomplete",["jquery"],function(e){return function(){var t;return t||e.jQuery.fn.autocomplete}}(this)),define("m_app-base",["jquery","m_firebase","m_category","m_app","m_view","m_user","dictionary","v_app-base","m_routing","m_database","sweetalert2","jquery.autocomplete"],function(e,t,n,r,i,o,a,s,u,c,l){function d(e,t){r.view.d_createListApp({app:"base"}),b(),o.getMyId()}function h(e,t){return r.view.d_checkListApp({app:"base"})>0}function p(e,t){j()}function f(e,t){}function m(e,t){}function g(e,t){}function y(e,t){}function v(e,t){}function _(){return!0}function b(){var t=c.algolia.initIndex("connect-search");e(".searchInputInSearchBlock").autocomplete({hint:!1},[{source:e.fn.autocomplete.sources.hits(t,{hitsPerPage:25}),displayKey:"name",templates:{suggestion:function(e){var t=a.withString("[dictionary-"+e._highlightResult.type.value+"]");return`\n              <div class="autocompleteIconBlock">\n                 <img src="https://cdn.ramman.net/images/icons/apps/app_onepay.png">\n              </div>\n              <div class="autocompleteTextBlock">\n                 <div class="autocompleteOptionName">${e._highlightResult.name.value}</div>\n                 <div class="autocompleteOptionType">${t}</div>\n              </div>\n              <div class="autocompleteLoginBlock">${e._highlightResult.login.value}</div>\n            `}}}]).on("autocomplete:selected",function(e,t,n){console.log(t,n)})}function w(){o.getMyId()?s.addUserHeaderInList({icon:o.getMyIcon(),name:o.getMyDisplayName(),login:o.getMyLogin()},"change"):s.addUserHeaderInList({icon:"https://cdn.ramman.net/web/res/images/icons/user/noPhoto.png",name:a.withString("[system-signIn]/[system-signUp]")},"change")}function M(t,n,i){s.addUserHeaderInList({icon:t,name:n,login:i,back:!0},"change"),e(".appBase_backButton").click(function(){r.getGlobalVar("engine").passToApp({app:"base",page:"index",data:"back=1"})})}function T(e){const t={};t.userId=o.getMyId(),t.token=o.getMyToken(),t.uid=e,S(t,function(t){console.log("createChatByGetUrlUserInfo resultOfAjax",t),console.log("app-base.js createChatByGetUrlUserInfo",o.getMyLogin()),console.log("resultOfAjax[chat]",t.chat);var r="https://cdn.ramman.net/images/icons/apps/app_sharepay.png",i=t.user.name,a=t.user.login;if(M(r,i,a),0==t.chat)if(o.getMyLogin())k(e,t);else{var s={};s.chatId=t.user.login,s.userId=t.user.uid,s.login=a,s.icon=r,s.chatName=i,console.log("createChatByGetUrlUserInfo objForCreateChat",s),n.view.createChatList(s),E(s,t)}else console.log("createChatByGetUrlUserInfo viewThisChatFromFDB"),C(t.chat,t)})}function S(t,n){var r=L(t.uid);delete t.uid,e.get(r,t,function(e){n(e)},"json")}function L(e){var t="info";return X.url_getUser+"/"+e+"/"+t}function k(e,t){const n={};n.uid=o.getMyId(),n.token=o.getMyToken(),n.userUrl=e,D(n,function(e){"object"==typeof e&&1==e.status&&(console.log("createChat viewThisChatFromFDB"),C(e.chat,t))})}function C(e,t){const r={};r.chatId=e||"noneChat_"+t.user.uid,r.userId=t.user.uid,r.chatName=t.user.name,r.icon_min=t.user.icon,n.userForPrivateChat(r.chatId,r.userId),N(r.chatId,()=>{E(r,t)}),n.view.effHideChatLists(),n.view.effShowChatList(r.chatId)}function E(e,t){console.log("addServiceMenu $iNuserData, $objForCreatChat",t,e);var r=s.getRealChatIdByUid(e.userId);console.log("addServiceMenu chatId",r),r?n.addChatBlockToCategory(t,r,e.userId):n.addDisabledChatBlockToCategory(t,e.userId),n.view.addMenuByCategoryList(t,e.userId),a.start(".menuListForUsers")}function D(t,n){var r=I(t.userUrl);delete t.userUrl,e.get(r,t,function(e){n(e)},"json")}function I(e){var t="createChat";return X.url_createChat+"/"+e+"/"+t}function A(){n.view.startEffSortChats();var e=r.get("uid");c.getRealtimeDataFromFirestoreDb("users",e+"/members",{functionOnOther:()=>{},functionOnChangeFromServer:e=>{},functionOnAdd:e=>{i.view.closeLoaderByTimeout(5e3,"#menusBlock","forMenuListKey","indexCodeOfLoader");var t=e.data(),o=e.id,a=r.getJsonKey(t);n.userForPrivateChat(o,a),N(o)}})}function x(e,t){let n=X.var_prefixNewMessageCount+e;r.save(n,t)}function O(e,t,r){let i=e.member[r].newMsg||0;if(0==i)return!1;x(t,i),n.view.domSafeShowNewMsgCountInChatBlock(t,i)}function N(e,t){P(e);var r=e,a=o.getMyId();c.getRealtimeDataFromFirestoreDb("chats",r,{functionOnOther:()=>{},functionOnChangeFromServer:e=>{var t=e.id,r="info",i=e.data(),o={};o[r]=i.info;i.info;var a=i.type,s=n.getObjectForUpdateChatBlock(o);s.chatType=a,s.chatId=t,n.safeUpdateChatBlock(s,a)},functionOnAdd:e=>{i.view.closeLoaderByTimeout(5e3,"#menusBlock","forMenuListKey","indexCodeOfLoader");var n=e.id,r=e.data(),o=r.type;1==o?Y(n,r.info,o,t):2==o&&R(n,r.info,o,t),O(r,n,a)}})}function P(e){}function R(e,t,r){var i={};(i=n.getObjectForUpdateChatBlock(t)).chatType=r,i.chatId=e,"object"!=typeof t&&(t={}),"object"!=typeof t.chat&&(t.chat={}),"string"==typeof t.chat.icon&&(i.icon=t.chat.icon),"string"==typeof t.chat.name&&(i.chatName=t.chat.name),n.safeUpdateChatBlock(i)}function Y(e,t,r,i){var o=n.userForPrivateChat(e);firebase.database().ref("users/"+o).on("value",function(t){var o=t.key,a=t.val(),s=e,u=a.info.data.name,c=a.info.data.login,l=a.info.data.phone,d=a.info.data.icon,h=a.info.data.type,p=a.info.live.online,f={};f.uuid=o,f.chatId=s,f.chatName=u,f.userPhone=l,f.icon=d,f.login=c,f.userType=h,f.userOnline=p,delete f.liveData,n.safeUpdateChatBlock(f,r),F(l),"function"==typeof i&&(i(),i=!1)})}function F(e){var t=firebase.auth().currentUser.uid;firebase.database().ref("contacts/"+t+"/"+e).on("value",function(e){var t=e.val();if(null!=t&&"object"==typeof t){var r=t.name,i=t.phone,o=t.uid;if("string"!=typeof r||r.length>0)return!1;var a=n.view.getChatIdByUid(o);n.safeUpdateChatBlock({uuid:o,chatId:a,chatName:r,userPhone:i},1)}})}function j(){console.log("controller_devise_run run USER.getMyId()",o.getMyId()),o.getMyId()&&(K(),e("html").off("mousemove"),e("html").mousemove(function(e){z()}))}function B(){let e=q();if(!1===e)return!1;let n=t.database().ref(e),r=W(0);n.update(r)}function H(){return parseInt(r.get(X.myOnlineStatusState))||0}function U(e){r.save(X.myOnlineStatusState,e)}function V(e){let n=q();if(!1===n)return!1;let r=t.database().ref(n);var i=W(1);r.update(i).then(function(t){"function"==typeof e&&e()})}function W(e){if(!1===q())return!1;const n=e;U(n);const r={online:n};r.uagent=u.getUserAgent(),r.name=u.getDeviseName(),r.time=t.database.ServerValue.TIMESTAMP;u.isDesktop();return u.isDesktop()?r.type=2:r.type=1,r}function q(){let e=o.getMyId(),t=o.getMyToken();if(!e||!t)return!1;return"devises/"+e+"/"+t}function G(){let e=q();if(console.log("devise_removeNoteFromDatabase path",e),!1===e)return!1;t.database().ref(e).remove().then(function(){console.log("devise_removeNoteFromDatabase Remove succeeded.")}).catch(function(e){console.log("devise_removeNoteFromDatabase Remove failed: "+e.message)})}function K(){let e=q();if(!1===e)return!1;let n=t.database().ref(e);var i=W(1),a=W(0);n.off(),console.log("devise_onDisconectController path",e),V(()=>{n.on("value",t=>{var s=t.val();if(console.log("devise_onDisconectController value, iNdata",t),console.log("devise_onDisconectController value, path",s,e),null===s)return console.log("devise_onDisconectController NULL value, path",s,e),void o.signOut(()=>{r.getGlobalVar("engine").passToApp({app:"page",page:"fullWindow",data:"id=sign&uid=@system"})},()=>{});1!=s.online&&1==H()&&n.update(i),n.onDisconnect().set(a)})})}function z(){clearTimeout(Q());J(setTimeout(()=>{B()},3e5))}function Q(){return r.get(X.myOnlineStatusSpy)}function J(e){r.save(X.myOnlineStatusSpy,e)}const $={};$.name="base";const X={},Z={};$.pages=Z;ee="index";Z[ee]={attr:{},menus:{},functions:{}},Z[ee].attr={id2:"2",id3:"3"},Z[ee].menus={attr:{id1:"id2",id3:"id4"}},Z[ee].functions={isPage:function(){let e=r.view.d_checkPageInListApp({app:"base",page:"index"})>0;return console.log("isPage index i",e),e},onView:function(t,n){return console.log("onView index iNojbectData,iNojbectApp",t,n),t.back||(e('.usersBlockContainerInMenusBlock .app[app-name="base"] .view[view-name="index"] .scrolBlockForChat').html(""),w(),o.getMyId()&&A()),r.view.d_hideApps("all","list"),r.view.d_showApps("base","list"),!0},onHide:function(){return console.log("onHide index"),!0},onAppear:function(){console.log("onAppear index"),i.view.closeLoader(),i.view.showLoader("#menusBlock","forMenuListKey","indexCodeOfLoader")},onDisappear:function(){console.log("onDisappear index")},onCreate:function(e,t){r.view.d_createPageInListApp({app:"base",page:"index",content:'<div class="scrolBlockForChat" style="" id="MixItUp81681F"></div>'})}};var ee;Z[ee="one"]={attr:{},menus:{},functions:{}},Z[ee].attr={},Z[ee].menus={attr:{}},Z[ee].functions={isPage:function(){let e=r.view.d_checkPageInListApp({app:"base",page:"index"})>0;return console.log("isPage one i",e),e},onView:function(e,t){return console.log("onView one"),r.view.d_hideApps("all","list"),r.view.d_showApps("base","list"),T(e.uid),!0},onAppear:function(){console.log("onAppear one"),i.view.closeLoader()},onDisappear:function(){console.log("onDisappear one")},onHide:function(){return console.log("onHide one"),!0},onCreate:function(e,t){r.view.d_createPageInListApp({app:"base",page:"index",content:'<div class="scrolBlockForChat" style="" id="MixItUp81681F"></div>'})}};$.onCreate=d,$.isApp=h,$.onInit=p,$.onIn=f,$.onAppear=m,$.onDisappear=g,$.onOut=y,$.onDeinit=v,$.onHide=_;return X.url_getUser="https://ramman.net/api/user",X.url_createChat="https://ramman.net/api/chat",$.getMyChats=A,X.var_prefixNewMessageCount="connectNewMsgCountInChat-",$.setMyNewMessagesCountByChatId=x,X.myOnlineStatusSpy="connectTimeoutId-spyMyOnlineStatus",X.myOnlineStatusState="connectMyOnlineStatusState",r.globalFunctions_create("devise_removeNoteFromDatabase",G),$.devise_removeNoteFromDatabase=G,$}),define("v_app-page",["v_view"],function(e){function t(e){return Template7.compile(s["header-miniPage"])(e)}function n(t){$(".appModalFullWindow.background").remove();var n=Template7.compile(s.fullWindow),r="body #container";e.d_addDataToViewEl(r,n(t))}function r(){$(".appModalFullWindow").show()}function i(){$(".appModalFullWindow").hide()}function o(){$(".appModalFullWindow").remove()}const a={},s={};return s.fullWindow='\n\t\t\t\t<div class="appModalFullWindow background" {{#if attr}}{{attr}}{{/if}}>\n\t\t\t\t\t{{#if defaultHeaderBlock}}\n\t\t\t\t\t    <div class="headerForAppFullWindow background">\n\t\t\t\t\t\t\t{{#if defaultCloseButton}}\n\t\t\t\t\t    \t\t<div class="closeButtonInHeaderForAppFullWindow"></div>\n\t\t\t\t\t    \t{{/if}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t    <div class="contentForAppFullWindow background">\n\t\t\t\t    \t{{content}}\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t',s["header-miniPage"]='\n\t\t\t\t<div class="appPageCloseButton" title="[[appPageCloseTitle]]"></div>\n\t\t        <div class="appPageIconDataBlock">\n\t\t            <img class="appPageIcon" src="{{icon}}">\n\t\t            <div class="appPageDataBlock">\n\t\t               <div class="appPageName">{{title}}</div>\n\t\t               <div class="appPageDiscr">{{text}}</div>\n\t\t            </div>\n\t\t        </div>\n         \t',a.getMiniPageHeader=t,a.addFullWindowByTemplate=n,a.showFullWindow=r,a.hideFullWindow=i,a.clearFullWindow=o,a}),define("APP_PAGE",["jquery","dictionary","m_view","v_app-page","m_app","m_user","mediaStreamRecorder"],function(e,t,n,r,i,o,a){function s(e,t){M()}function u(e,t){}function c(e,t){}function l(e,t){return!0}function d(e,t){}function h(e,t){}function p(e,t){}function f(e,t){}function m(e,t){}function g(e,t){}function y(t,n){e.get(I,t,function(e){n(e)},"json")}function v(e){var t="pageId"+e.id+" headerFromPage";if("object"==typeof e){var n=e.header;if("object"==typeof n.css&&n.css.length>0)for(var r in n.css)i.view.d_loadCSS(n.css[r],t);if("object"==typeof n.js&&n.js.length>0)for(var r in n.js)i.view.d_loadJS(n.js[r],t)}}function _(e){y(e,function(i){var o=t.withLanguageObject(i.content);r.addFullWindowByTemplate({content:o}),v(i),T(e.id),n.view.closeLoader()})}function b(e){y(e,function(e){var o=e.head;if("object"==typeof o)var a={title:t.withLanguageObject(o.title),text:t.withLanguageObject(o.text),icon:t.withLanguageObject(o.icon)};i.view.safeViewAppHeaderWithContent({app:"page",page:"miniPage",content:r.getMiniPageHeader(a)},"change"),i.view.d_createChiefApp({app:"page"});var s=t.withLanguageObject(e.content);i.view.d_createPageInChiefApp({app:"page",page:"miniPage",content:s}),v(e),n.view.closeLoader()})}function w(){e(".headerFromPage").remove()}function M(){w(),e(".appModalFullWindow").remove()}function T(e){"sign"==e&&S()}function S(){e(".appPageCloseButton").click(function(){i.getGlobalVar("engine").passToApp({app:"base",page:"index",data:""})})}function S(){e(".page-formSignIn").submit(function(e){return e.preventDefault(),o.sendForm(".page-formSignIn")}),e(".page-formSmsCode").submit(function(e){return e.preventDefault(),o.checkSmsCode(this)}),e(".page-formSignUp").submit(function(e){return e.preventDefault(),o.signUpByUserAndPswd(this)}),e(".page-reSendSms").click(function(){return o.reSendSms()})}const L={},k="page";L.name=k;var C;const E={};L.pages=E,E.fullWindow={attr:{},menus:{},functions:{}},E.fullWindow.attr={id2:"2",id3:"3"},E.fullWindow.menus={attr:{id1:"id2",id3:"id4"}},E.fullWindow.functions={isPage:function(){return!0},onOut:function(){return!0},onView:function(e,t){return _({id:e.id,uid:e.uid}),!0},onHide:function(){return!0},onCreate:function(){return!0},onDisappear:function(){return!0}},E[C="miniPage"]={attr:{},menus:{},functions:{}},E[C].attr={},E[C].menus={},E[C].functions={isPage:function(){return!0},onOut:function(){return!0},onView:function(e,t){return b({id:e.id,uid:e.uid}),!0},onHide:function(){return!0},onCreate:function(){return!0},onDisappear:function(){return!0}};const D={attr:{attr:{id2:"2",id3:"3"}},menus:{attr:{id2:"2",id3:"3"}}};L.options=D,L.onHide=s,L.onView=u,L.onCreate=c,L.isApp=l,L.onInit=d,L.onIn=h,L.onAppear=p,L.onDisappear=f,L.onOut=m,L.onDeinit=g;const I="https://ramman.net/"+"api/service/page";return L.init=function(){return i.setGlobalApp(this),this},L}),define("m_engine",["jquery","m_routing","v_view","m_app","m_app-chat","m_app-base","APP_PAGE","m_user"],function(e,t,n,r,i,o,a,s){function u(){t.startUrl(this)}function c(){e("body").on("click",".connect_href",function(){if(1==e(this).hasClass("appHref")){var t=e(this).attr("app-name"),n=e(this).attr("page-name"),r=e(this).attr("data");prepareUrl({app:t,page:n,data:r}),startUrl()}}),e("body").on("click",".connect_system_href",function(t){var n=t.currentTarget;switch(e(n).attr("code_href")){case"signOut":d();break;case"signIn":l();break;case"toHome":h()}})}function l(){let e=s.getMyLogin();r.getGlobalVar("engine").passToApp({app:"page",page:"fullWindow",user:e,data:"id=sign&uid=@system"})}function d(){s.signOut(()=>{r.getGlobalVar("engine").passToApp({app:"page",page:"fullWindow",user:"anonym",data:"id=sign&uid=@system"})})}function h(){var e,n=s.getMyLogin();e=t.getUserDomain()?{app:"base",page:"index",data:""}:{app:"base",page:"index",user:n,data:""},r.getGlobalVar("engine").passToApp(e)}function p(){c()}function f(){if(window.connectAppPath.length>1&&window.connectAppPathNumber>0){window.connectAppPathNumber--;var e=window.connectAppPath[window.connectAppPathNumber];return t.prepareUrl(e),t.startUrl(this,"toBackApp"),!0}return!1}function m(){if(window.connectAppPath.length>window.connectAppPathNumber+1&&window.connectAppPathNumber>-1){window.connectAppPathNumber++;var e=window.connectAppPath[window.connectAppPathNumber];return t.prepareUrl(e),t.startUrl(this,"toUpApp"),!0}return!1}function g(e,n){(void 0!==e.user&&t.getUserDomain()==e.user||"string"==typeof e.user&&"anonym"==e.user&&t.getUserDomain())&&delete e.user;let r=this;void 0!==n&&(r=n),t.prepareUrl(e),t.startUrl(r)}function y(e,t,n){var i,o=e,a=o.app;o.page;i=_(a),r.openChiefApp(e,i,t,n)}function v(e,t){var n=_(e);n.onDisappear(),n.onClose()}function _(e){switch(e){case"chat":return i;case"onepay":return APP_ONEPAY;case"market":return APP_MARKET;case"page":return"object"!=typeof b&&(b=a.init()),b;case"base":return o;default:return!1}}var b;return{openApp:y,closeApp:v,passToApp:g,startUrl:u,prepareUrl:t.prepareUrl,toUpApp:m,toBackApp:f,init:p}}),define("v_push",["jquery","template7"],function(e,t){}),define("m_push",["jquery","v_push","m_firebase","platform"],function(e,t,n,r){function i(e){c.requestPermission().then(function(){console.log("getPermission()","Notification permission granted."),"function"==typeof e&&e()}).catch(function(e){console.log("getPermission() err","Unable to get permission to notify.",e)})}function o(e){c.getToken().then(function(t){t?(console.log("MESSAGING.getToken() currentToken",t),"function"==typeof e&&e(t)):console.log("MESSAGING.getToken() !currentToken","No Instance ID token available. Request permission to generate one.")}).catch(function(e){console.log("MESSAGING.getToken() err","An error occurred while retrieving token. ",e)})}function a(){c.onMessage(function(e){console.log("MESSAGING.onMessage Message received. - payload",e)})}function s(e){let t={};t.name=r.name,t.os=r.os,t.product=r.product,t.time=n.database.ServerValue.TIMESTAMP,t.status=1,t.type=1;var i={};return i["push/"+n.auth().currentUser.uid+"/"+e]=t,n.database().ref().update(i)}const u={view:t},c=n.messaging();return u.getPermission=i,u.getToken=o,u.startObservering=a,u.addPushTokenToFirebase=s,u}),define("m_synchronize",["jquery","m_user","m_app","m_firebase"],function(e,t,n,r){function i(e){if(e.origin==E){var i=e.data;if("object"!=typeof i)return!1;if(S(e),console.log("listenerForRunInSubdomain inputObj",i),"mainDomainSignedOut"==i.command)n.getGlobalVar("engine").passToApp({app:"page",page:"fullWindow",user:"anonym",data:"id=sign&uid=@system"});else if("getLocalStorage"==i.command);else if("saveLocalStorage"==i.command&&i.content&&(v(i.content),y(i.content),clearInterval(window.connectTimeoutIdSunchronizelistenerForRunInSubdomain),t.getMyId()!=t.getMyIdFromObj(i.content))){var o=()=>{window.connectTimeoutIdSunchronizelistenerForRunInSubdomain=setTimeout(()=>{t.getMyId()!=t.getMyIdFromObj(i.content)&&location.reload(!0)},500)};t.getMyId()?r.auth().signOut().then(()=>{o()},e=>{console.warn("listenerForRunInSubdomain $error",e)}):o()}}}function o(){return C.subdomainForSynchronizeFile}function a(e){C.subdomainForSynchronizeFile=e}function s(e){var i=o();if(e.origin==i){var a=e.data;if("object"!=typeof a)return!1;if(console.log("synchronizeFile_listener inputObj",a),"signOut"==a.command)console.log("synchronizeFile_listener signOut"),r.auth().signOut().then(()=>{n.clear(),n.saveLocalStorage(C.flagReloadPage,!0),u({command:"mainDomainSignedOut"})},e=>{console.warn("synchronizeFile_listener $error",e)});else if("getLocalStorage"==a.command){let t=n.getStringOfLocalStorage();y(t),e.source.postMessage({command:"saveLocalStorage",content:t},e.origin)}else if("saveLocalStorage"==a.command&&a.content){var s=e=>{y(a.content),v(a.content,!1),"function"==typeof e&&e()},c=JSON.parse(a.content);void 0!==c[C.flagUserSignIn]?(delete c[C.flagUserSignIn],a.content=JSON.stringify(c),t.getMyId()?r.auth().signOut().then(()=>{s(()=>{n.saveLocalStorage(C.flagReloadPage,!0)})},e=>{console.warn("synchronizeFile_listener $error",e)}):s(()=>{n.saveLocalStorage(C.flagReloadPage,!0)})):s()}}}function u(e){let t=o();parent.postMessage(e,t)}function c(){clearInterval(l());d(setInterval(()=>{let e=g(),t=n.getStringOfLocalStorage();e!=t&&(y(t),u({command:"saveLocalStorage",content:t}))},250))}function l(){return C.intervalIdForSynchronizeFile||!1}function d(e){C.intervalIdForSynchronizeFile=e}function h(){window.addEventListener?window.addEventListener("message",s):window.attachEvent("onmessage",s)}function p(e){a(e),c(),h()}function f(e){window.addEventListener?window.addEventListener("message",e):window.attachEvent("onmessage",e)}function m(){f(i)}function g(){return D||""}function y(e){return D=e}function v(e,t){if("boolean"!=typeof t&&(t=!0),t&&n.clearLocalStorage(),"string"==typeof e)r=JSON.parse(e);else var r=e;for(var i in r)r.hasOwnProperty(i)&&localStorage.setItem(i,r[i])}function _(t){e("#frameSynchronize").get(0).contentWindow.postMessage(t,"https://ramman.net")}function b(){m(),S()}function w(){clearInterval(C.intervalIdForMainDomain),C.intervalIdForMainDomain=setInterval(()=>{let e=C.flagReloadPage;n.getFromLocalStorageByKey(e)&&(n.del(e),location.reload(!0))},500)}function M(){var e=n.getTempStorage();"object"==typeof e&&Object.keys(e).length>0&&(_({command:"saveLocalStorage",content:JSON.stringify(e)}),n.clearTempStorage())}function T(){console.log("subDomain_sendCommandForSignOut start"),_({command:"signOut"})}function S(){L(),C.intervalIdForSubdomain=setInterval(()=>{M()},500)}function L(){clearInterval(C.intervalIdForSubdomain)}const k={},C={};C.flagUserSignIn="@connectFlagForSync_UserSignIn",C.flagReloadPage="@connectFlagForSync_reload";const E="https://ramman.net";var D="";return k.synchronizeFile_run=p,k.sendMessageToFrame=_,k.runForSubDomain=b,k.runForMainDomain=w,k.subDomain_synchronizeLocalStorage=M,k.subDomain_sendCommandForSignOut=T,k.subDomain_clearIntervalFunction=L,k}),require2.config({waitSeconds:59,paths:{firebase:"res/js/firebase/firebase",firestore:"res/js/firebase/firestore",template7:"res/js/template7/template7",algolia:"res/js/algolia/algoliasearch.min",yametrika:"res/js/analytics/yandex/metrika",sweetalert2:"res/js/sweetalert2/sweetalert2",mixitup:"res/js/mixitup/mixitup.min",jquery:"res/js/jquery/jquery","jquery.autocomplete":"res/js/algolia/autocomplete.jquery.min","jquery.countdown":"res/js/jquery/countdown/jquery.countdown.min","jquery.plugin":"res/js/jquery/countdown/jquery.plugin.min","jquery.appear":"res/js/jquery/jquery.appear","jquery.textillate":"res/js/jquery/jquery.textillate","jquery.lettering":"res/js/jquery/jquery.lettering",lazyload:"res/js/lazyload/lazyload",moment:"res/js/moment/moment",platform:"res/js/platform/platform",progressbar:"res/js/progressbar/progressbar.min",mediaStreamRecorder:"res/js/recorder/mediaStreamRecorder/MediaStreamRecorder",WebAudioRecorder:"res/js/recorder/webAudioRecorder/lib/WebAudioRecorder",Recorder:"res/js/recorder/OggOpusRecorder/dist/recorder.min",v_view:"mvc/view/view","v_app-chat":"mvc/view/app-chat",v_app:"mvc/view/app","v_app-page":"mvc/view/app-page","v_app-base":"mvc/view/app-base",v_category:"mvc/view/category",v_call:"mvc/view/call",v_message:"mvc/view/message",v_contact:"mvc/view/contact",v_push:"mvc/view/push",m_view:"mvc/model/view","m_app-chat":"mvc/model/app-chat",m_app:"mvc/model/app",APP_PAGE:"mvc/model/app-page","m_app-base":"mvc/model/app-base",m_engine:"mvc/model/engine",m_category:"mvc/model/category",m_firebase:"mvc/model/firebase",m_user:"mvc/model/user",m_routing:"mvc/model/routing",m_moment:"mvc/model/moment",dictionary:"mvc/model/dictionary",log:"mvc/model/log",m_call:"mvc/model/call",m_message:"mvc/model/message",m_contact:"mvc/model/contact",m_push:"mvc/model/push",m_synchronize:"mvc/model/synchronize",m_record:"mvc/model/record",m_storage:"mvc/model/storage",m_database:"mvc/model/database",m_progressbar:"mvc/model/progressbar"},shim:{"jquery.autocomplete":{deps:["jquery"],exports:"jQuery.fn.autocomplete"},"jquery.countdown":{deps:["jquery","jquery.plugin"],exports:"jQuery.fn.countdown"},"jquery.plugin":{deps:["jquery"],exports:"JQClass"},"jquery.lettering":{deps:["jquery"],exports:"jQuery.fn.lettering"},"jquery.textillate":{deps:["jquery"],exports:"jQuery.fn.textillate"},"jquery.appear":{deps:["jquery"],exports:"jQuery.fn.appear"},moment:{exports:"moment"},mediaStreamRecorder:{exports:"mediaStreamRecorder"},WebAudioRecorder:{exports:"WebAudioRecorder"},mixitup:{exports:"Mixitup"},firebase:{exports:"firebase"},firestore:{deps:["firebase"],exports:"firebase.firestore"},template7:{exports:"Template7"}},map:{"*":{css:"require-css/css"}}}),require2(["jquery","dictionary","m_engine","m_routing","m_app","m_push","m_synchronize","m_user"],function(e,t,n,r,i,o,a,s){window.$=e,e(document).ready(function(){setTimeout(()=>{i.setGlobalVar("m_routing",r),r.setBrowser(),n.init(),r.isBrowser()&&(r.getUserDomain()?(i.setGlobalVar("m_synchronize",a),a.runForSubDomain()):a.runForMainDomain()),t.autoChange(function(){if(r.isBrowser())if(r.getUrlLength()>0)"sign"==r.getUser()?n.passToApp({app:"page",user:t,page:"fullWindow",data:"id=sign&uid=@system"}):n.startUrl();else{var e=r.getUserDomain(),t=s.getMyLogin()||"anonym",i=e||t,o=[];if(e){e&&o.push("uid="+e),o.push("login="+t);var a=o.join("&");n.passToApp({app:"base",page:"one",user:e,data:a})}else t&&"anonym"==t?n.passToApp({app:"page",user:"anonym",page:"fullWindow",data:"id=sign&uid=@system"}):n.passToApp({app:"base",user:t,page:"index",data:""})}else if(r.isDesktop()){"anonym"!=(i=s.getMyLogin()||"anonym")?n.passToApp({app:"base",page:"index",user:i,data:""}):n.passToApp({app:"page",page:"fullWindow",data:"id=sign&uid=@system"})}}),i.setGlobalVar("engine",n)},3e3)})}),define("main2_",function(){});